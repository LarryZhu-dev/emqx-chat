var Fh=Object.defineProperty;var yl=e=>{throw TypeError(e)};var Dh=(e,t,r)=>t in e?Fh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var He=(e,t,r)=>Dh(e,typeof t!="symbol"?t+"":t,r),Ci=(e,t,r)=>t.has(e)||yl("Cannot "+r);var $=(e,t,r)=>(Ci(e,t,"read from private field"),r?r.call(e):t.get(e)),Oe=(e,t,r)=>t.has(e)?yl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ce=(e,t,r,s)=>(Ci(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Te=(e,t,r)=>(Ci(e,t,"access private method"),r);var Cn=(e,t,r,s)=>({set _(c){Ce(e,t,c,r)},get _(){return $(e,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const n of c)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(c){const n={};return c.integrity&&(n.integrity=c.integrity),c.referrerPolicy&&(n.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?n.credentials="include":c.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(c){if(c.ep)return;c.ep=!0;const n=r(c);fetch(c.href,n)}})();/**
* @vue/shared v3.4.32
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Us(e,t){const r=new Set(e.split(","));return s=>r.has(s)}const $e={},Jr=[],vt=()=>{},Wh=()=>!1,ui=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ls=e=>e.startsWith("onUpdate:"),lt=Object.assign,Ns=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},$h=Object.prototype.hasOwnProperty,ke=(e,t)=>$h.call(e,t),Be=Array.isArray,Xr=e=>ci(e)==="[object Map]",Wa=e=>ci(e)==="[object Set]",Re=e=>typeof e=="function",Ge=e=>typeof e=="string",pr=e=>typeof e=="symbol",Ve=e=>e!==null&&typeof e=="object",$a=e=>(Ve(e)||Re(e))&&Re(e.then)&&Re(e.catch),Ha=Object.prototype.toString,ci=e=>Ha.call(e),Hh=e=>ci(e).slice(8,-1),qa=e=>ci(e)==="[object Object]",js=e=>Ge(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gn=Us(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hi=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},qh=/-(\w)/g,Nr=hi(e=>e.replace(qh,(t,r)=>r?r.toUpperCase():"")),Vh=/\B([A-Z])/g,gr=hi(e=>e.replace(Vh,"-$1").toLowerCase()),Va=hi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bi=hi(e=>e?`on${Va(e)}`:""),dr=(e,t)=>!Object.is(e,t),Wn=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},za=(e,t,r,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:r})},eo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let bl;const Ka=()=>bl||(bl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fi(e){if(Be(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],c=Ge(s)?Gh(s):fi(s);if(c)for(const n in c)t[n]=c[n]}return t}else if(Ge(e)||Ve(e))return e}const zh=/;(?![^(]*\))/g,Kh=/:([^]+)/,Yh=/\/\*[^]*?\*\//g;function Gh(e){const t={};return e.replace(Yh,"").split(zh).forEach(r=>{if(r){const s=r.split(Kh);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Fs(e){let t="";if(Ge(e))t=e;else if(Be(e))for(let r=0;r<e.length;r++){const s=Fs(e[r]);s&&(t+=s+" ")}else if(Ve(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Qh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jh=Us(Qh);function Ya(e){return!!e||e===""}const Ga=e=>!!(e&&e.__v_isRef===!0),cn=e=>Ge(e)?e:e==null?"":Be(e)||Ve(e)&&(e.toString===Ha||!Re(e.toString))?Ga(e)?cn(e.value):JSON.stringify(e,Qa,2):String(e),Qa=(e,t)=>Ga(t)?Qa(e,t.value):Xr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,c],n)=>(r[Ri(s,n)+" =>"]=c,r),{})}:Wa(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Ri(r))}:pr(t)?Ri(t):Ve(t)&&!Be(t)&&!qa(t)?String(t):t,Ri=(e,t="")=>{var r;return pr(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.4.32
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xt;class Xh{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=xt,!t&&xt&&(this.index=(xt.scopes||(xt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=xt;try{return xt=this,t()}finally{xt=r}}}on(){xt=this}off(){xt=this.parent}stop(t){if(this._active){let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.scopes)for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0,this._active=!1}}}function Zh(e,t=xt){t&&t.active&&t.effects.push(e)}function ef(){return xt}let Or;class Ds{constructor(t,r,s,c){this.fn=t,this.trigger=r,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Zh(this,c)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,mr();for(let t=0;t<this._depsLength;t++){const r=this.deps[t];if(r.computed&&(tf(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),yr()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=hr,r=Or;try{return hr=!0,Or=this,this._runnings++,wl(this),this.fn()}finally{_l(this),this._runnings--,Or=r,hr=t}}stop(){this.active&&(wl(this),_l(this),this.onStop&&this.onStop(),this.active=!1)}}function tf(e){return e.value}function wl(e){e._trackId++,e._depsLength=0}function _l(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Ja(e.deps[t],e);e.deps.length=e._depsLength}}function Ja(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}let hr=!0,to=0;const Xa=[];function mr(){Xa.push(hr),hr=!1}function yr(){const e=Xa.pop();hr=e===void 0?!0:e}function Ws(){to++}function $s(){for(to--;!to&&ro.length;)ro.shift()()}function Za(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Ja(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const ro=[];function eu(e,t,r){Ws();for(const s of e.keys()){let c;s._dirtyLevel<t&&(c??(c=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(c??(c=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&ro.push(s.scheduler)))}$s()}const tu=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},no=new WeakMap,Pr=Symbol(""),io=Symbol("");function dt(e,t,r){if(hr&&Or){let s=no.get(e);s||no.set(e,s=new Map);let c=s.get(r);c||s.set(r,c=tu(()=>s.delete(r))),Za(Or,c)}}function Kt(e,t,r,s,c,n){const i=no.get(e);if(!i)return;let o=[];if(t==="clear")o=[...i.values()];else if(r==="length"&&Be(e)){const a=Number(s);i.forEach((h,d)=>{(d==="length"||!pr(d)&&d>=a)&&o.push(h)})}else switch(r!==void 0&&o.push(i.get(r)),t){case"add":Be(e)?js(r)&&o.push(i.get("length")):(o.push(i.get(Pr)),Xr(e)&&o.push(i.get(io)));break;case"delete":Be(e)||(o.push(i.get(Pr)),Xr(e)&&o.push(i.get(io)));break;case"set":Xr(e)&&o.push(i.get(Pr));break}Ws();for(const a of o)a&&eu(a,4);$s()}const rf=Us("__proto__,__v_isRef,__isVue"),ru=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(pr)),vl=nf();function nf(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const s=Me(this);for(let n=0,i=this.length;n<i;n++)dt(s,"get",n+"");const c=s[t](...r);return c===-1||c===!1?s[t](...r.map(Me)):c}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){mr(),Ws();const s=Me(this)[t].apply(this,r);return $s(),yr(),s}}),e}function of(e){pr(e)||(e=String(e));const t=Me(this);return dt(t,"has",e),t.hasOwnProperty(e)}class nu{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,s){const c=this._isReadonly,n=this._isShallow;if(r==="__v_isReactive")return!c;if(r==="__v_isReadonly")return c;if(r==="__v_isShallow")return n;if(r==="__v_raw")return s===(c?n?bf:lu:n?su:ou).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=Be(t);if(!c){if(i&&ke(vl,r))return Reflect.get(vl,r,s);if(r==="hasOwnProperty")return of}const o=Reflect.get(t,r,s);return(pr(r)?ru.has(r):rf(r))||(c||dt(t,"get",r),n)?o:pt(o)?i&&js(r)?o:o.value:Ve(o)?c?au(o):Vs(o):o}}class iu extends nu{constructor(t=!1){super(!1,t)}set(t,r,s,c){let n=t[r];if(!this._isShallow){const a=jr(n);if(!en(s)&&!jr(s)&&(n=Me(n),s=Me(s)),!Be(t)&&pt(n)&&!pt(s))return a?!1:(n.value=s,!0)}const i=Be(t)&&js(r)?Number(r)<t.length:ke(t,r),o=Reflect.set(t,r,s,c);return t===Me(c)&&(i?dr(s,n)&&Kt(t,"set",r,s):Kt(t,"add",r,s)),o}deleteProperty(t,r){const s=ke(t,r);t[r];const c=Reflect.deleteProperty(t,r);return c&&s&&Kt(t,"delete",r,void 0),c}has(t,r){const s=Reflect.has(t,r);return(!pr(r)||!ru.has(r))&&dt(t,"has",r),s}ownKeys(t){return dt(t,"iterate",Be(t)?"length":Pr),Reflect.ownKeys(t)}}class sf extends nu{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const lf=new iu,af=new sf,uf=new iu(!0);const Hs=e=>e,di=e=>Reflect.getPrototypeOf(e);function Bn(e,t,r=!1,s=!1){e=e.__v_raw;const c=Me(e),n=Me(t);r||(dr(t,n)&&dt(c,"get",t),dt(c,"get",n));const{has:i}=di(c),o=s?Hs:r?Ks:En;if(i.call(c,t))return o(e.get(t));if(i.call(c,n))return o(e.get(n));e!==c&&e.get(t)}function Rn(e,t=!1){const r=this.__v_raw,s=Me(r),c=Me(e);return t||(dr(e,c)&&dt(s,"has",e),dt(s,"has",c)),e===c?r.has(e):r.has(e)||r.has(c)}function kn(e,t=!1){return e=e.__v_raw,!t&&dt(Me(e),"iterate",Pr),Reflect.get(e,"size",e)}function El(e,t=!1){!t&&!en(e)&&!jr(e)&&(e=Me(e));const r=Me(this);return di(r).has.call(r,e)||(r.add(e),Kt(r,"add",e,e)),this}function Sl(e,t,r=!1){!r&&!en(t)&&!jr(t)&&(t=Me(t));const s=Me(this),{has:c,get:n}=di(s);let i=c.call(s,e);i||(e=Me(e),i=c.call(s,e));const o=n.call(s,e);return s.set(e,t),i?dr(t,o)&&Kt(s,"set",e,t):Kt(s,"add",e,t),this}function Al(e){const t=Me(this),{has:r,get:s}=di(t);let c=r.call(t,e);c||(e=Me(e),c=r.call(t,e)),s&&s.call(t,e);const n=t.delete(e);return c&&Kt(t,"delete",e,void 0),n}function Il(){const e=Me(this),t=e.size!==0,r=e.clear();return t&&Kt(e,"clear",void 0,void 0),r}function On(e,t){return function(s,c){const n=this,i=n.__v_raw,o=Me(i),a=t?Hs:e?Ks:En;return!e&&dt(o,"iterate",Pr),i.forEach((h,d)=>s.call(c,a(h),a(d),n))}}function Pn(e,t,r){return function(...s){const c=this.__v_raw,n=Me(c),i=Xr(n),o=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,h=c[e](...s),d=r?Hs:t?Ks:En;return!t&&dt(n,"iterate",a?io:Pr),{next(){const{value:g,done:m}=h.next();return m?{value:g,done:m}:{value:o?[d(g[0]),d(g[1])]:d(g),done:m}},[Symbol.iterator](){return this}}}}function rr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function cf(){const e={get(n){return Bn(this,n)},get size(){return kn(this)},has:Rn,add:El,set:Sl,delete:Al,clear:Il,forEach:On(!1,!1)},t={get(n){return Bn(this,n,!1,!0)},get size(){return kn(this)},has:Rn,add(n){return El.call(this,n,!0)},set(n,i){return Sl.call(this,n,i,!0)},delete:Al,clear:Il,forEach:On(!1,!0)},r={get(n){return Bn(this,n,!0)},get size(){return kn(this,!0)},has(n){return Rn.call(this,n,!0)},add:rr("add"),set:rr("set"),delete:rr("delete"),clear:rr("clear"),forEach:On(!0,!1)},s={get(n){return Bn(this,n,!0,!0)},get size(){return kn(this,!0)},has(n){return Rn.call(this,n,!0)},add:rr("add"),set:rr("set"),delete:rr("delete"),clear:rr("clear"),forEach:On(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{e[n]=Pn(n,!1,!1),r[n]=Pn(n,!0,!1),t[n]=Pn(n,!1,!0),s[n]=Pn(n,!0,!0)}),[e,r,t,s]}const[hf,ff,df,pf]=cf();function qs(e,t){const r=t?e?pf:df:e?ff:hf;return(s,c,n)=>c==="__v_isReactive"?!e:c==="__v_isReadonly"?e:c==="__v_raw"?s:Reflect.get(ke(r,c)&&c in s?r:s,c,n)}const gf={get:qs(!1,!1)},mf={get:qs(!1,!0)},yf={get:qs(!0,!1)};const ou=new WeakMap,su=new WeakMap,lu=new WeakMap,bf=new WeakMap;function wf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _f(e){return e.__v_skip||!Object.isExtensible(e)?0:wf(Hh(e))}function Vs(e){return jr(e)?e:zs(e,!1,lf,gf,ou)}function vf(e){return zs(e,!1,uf,mf,su)}function au(e){return zs(e,!0,af,yf,lu)}function zs(e,t,r,s,c){if(!Ve(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=c.get(e);if(n)return n;const i=_f(e);if(i===0)return e;const o=new Proxy(e,i===2?s:r);return c.set(e,o),o}function mn(e){return jr(e)?mn(e.__v_raw):!!(e&&e.__v_isReactive)}function jr(e){return!!(e&&e.__v_isReadonly)}function en(e){return!!(e&&e.__v_isShallow)}function uu(e){return e?!!e.__v_raw:!1}function Me(e){const t=e&&e.__v_raw;return t?Me(t):e}function Ef(e){return Object.isExtensible(e)&&za(e,"__v_skip",!0),e}const En=e=>Ve(e)?Vs(e):e,Ks=e=>Ve(e)?au(e):e;class cu{constructor(t,r,s,c){this.getter=t,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Ds(()=>t(this._value),()=>$n(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!c,this.__v_isReadonly=s}get value(){const t=Me(this);return(!t._cacheable||t.effect.dirty)&&dr(t._value,t._value=t.effect.run())&&$n(t,4),hu(t),t.effect._dirtyLevel>=2&&$n(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Sf(e,t,r=!1){let s,c;const n=Re(e);return n?(s=e,c=vt):(s=e.get,c=e.set),new cu(s,c,n||!c,r)}function hu(e){var t;hr&&Or&&(e=Me(e),Za(Or,(t=e.dep)!=null?t:e.dep=tu(()=>e.dep=void 0,e instanceof cu?e:void 0)))}function $n(e,t=4,r,s){e=Me(e);const c=e.dep;c&&eu(c,t)}function pt(e){return!!(e&&e.__v_isRef===!0)}function Mn(e){return Af(e,!1)}function Af(e,t){return pt(e)?e:new If(e,t)}class If{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Me(t),this._value=r?t:En(t)}get value(){return hu(this),this._value}set value(t){const r=this.__v_isShallow||en(t)||jr(t);t=r?t:Me(t),dr(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=r?t:En(t),$n(this,4))}}function fu(e){return pt(e)?e.value:e}const xf={get:(e,t,r)=>fu(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const c=e[t];return pt(c)&&!pt(r)?(c.value=r,!0):Reflect.set(e,t,r,s)}};function du(e){return mn(e)?e:new Proxy(e,xf)}/**
* @vue/runtime-core v3.4.32
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fr(e,t,r,s){try{return s?e(...s):e()}catch(c){pi(c,t,r)}}function Bt(e,t,r,s){if(Re(e)){const c=fr(e,t,r,s);return c&&$a(c)&&c.catch(n=>{pi(n,t,r)}),c}if(Be(e)){const c=[];for(let n=0;n<e.length;n++)c.push(Bt(e[n],t,r,s));return c}}function pi(e,t,r,s=!0){const c=t?t.vnode:null;if(t){let n=t.parent;const i=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${r}`;for(;n;){const h=n.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,i,o)===!1)return}n=n.parent}const a=t.appContext.config.errorHandler;if(a){mr(),fr(a,null,10,[e,i,o]),yr();return}}Tf(e,r,c,s)}function Tf(e,t,r,s=!0){console.error(e)}let Sn=!1,oo=!1;const st=[];let Mt=0;const Zr=[];let lr=null,Cr=0;const pu=Promise.resolve();let Ys=null;function gu(e){const t=Ys||pu;return e?t.then(this?e.bind(this):e):t}function Cf(e){let t=Mt+1,r=st.length;for(;t<r;){const s=t+r>>>1,c=st[s],n=An(c);n<e||n===e&&c.pre?t=s+1:r=s}return t}function Gs(e){(!st.length||!st.includes(e,Sn&&e.allowRecurse?Mt+1:Mt))&&(e.id==null?st.push(e):st.splice(Cf(e.id),0,e),mu())}function mu(){!Sn&&!oo&&(oo=!0,Ys=pu.then(bu))}function Bf(e){const t=st.indexOf(e);t>Mt&&st.splice(t,1)}function Rf(e){Be(e)?Zr.push(...e):(!lr||!lr.includes(e,e.allowRecurse?Cr+1:Cr))&&Zr.push(e),mu()}function xl(e,t,r=Sn?Mt+1:0){for(;r<st.length;r++){const s=st[r];if(s&&s.pre){if(e&&s.id!==e.uid)continue;st.splice(r,1),r--,s()}}}function yu(e){if(Zr.length){const t=[...new Set(Zr)].sort((r,s)=>An(r)-An(s));if(Zr.length=0,lr){lr.push(...t);return}for(lr=t,Cr=0;Cr<lr.length;Cr++){const r=lr[Cr];r.active!==!1&&r()}lr=null,Cr=0}}const An=e=>e.id==null?1/0:e.id,kf=(e,t)=>{const r=An(e)-An(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function bu(e){oo=!1,Sn=!0,st.sort(kf);try{for(Mt=0;Mt<st.length;Mt++){const t=st[Mt];t&&t.active!==!1&&fr(t,t.i,t.i?15:14)}}finally{Mt=0,st.length=0,yu(),Sn=!1,Ys=null,(st.length||Zr.length)&&bu()}}let Et=null,gi=null;function ti(e){const t=Et;return Et=e,gi=e&&e.type.__scopeId||null,t}function Of(e){gi=e}function Pf(){gi=null}function Mf(e,t=Et,r){if(!t||e._n)return e;const s=(...c)=>{s._d&&Nl(-1);const n=ti(t);let i;try{i=e(...c)}finally{ti(n),s._d&&Nl(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Uf(e,t){if(Et===null)return e;const r=_i(Et),s=e.dirs||(e.dirs=[]);for(let c=0;c<t.length;c++){let[n,i,o,a=$e]=t[c];n&&(Re(n)&&(n={mounted:n,updated:n}),n.deep&&cr(i),s.push({dir:n,instance:r,value:i,oldValue:void 0,arg:o,modifiers:a}))}return e}function wr(e,t,r,s){const c=e.dirs,n=t&&t.dirs;for(let i=0;i<c.length;i++){const o=c[i];n&&(o.oldValue=n[i].value);let a=o.dir[s];a&&(mr(),Bt(a,r,8,[e.el,o,e,t]),yr())}}function wu(e,t){e.shapeFlag&6&&e.component?wu(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function _u(e,t){return Re(e)?lt({name:e.name},t,{setup:e}):e}const Hn=e=>!!e.type.__asyncLoader,vu=e=>e.type.__isKeepAlive;function Lf(e,t){Eu(e,"a",t)}function Nf(e,t){Eu(e,"da",t)}function Eu(e,t,r=ct){const s=e.__wdc||(e.__wdc=()=>{let c=r;for(;c;){if(c.isDeactivated)return;c=c.parent}return e()});if(mi(t,s,r),r){let c=r.parent;for(;c&&c.parent;)vu(c.parent.vnode)&&jf(s,t,r,c),c=c.parent}}function jf(e,t,r,s){const c=mi(t,e,s,!0);Qs(()=>{Ns(s[t],c)},r)}function mi(e,t,r=ct,s=!1){if(r){const c=r[e]||(r[e]=[]),n=t.__weh||(t.__weh=(...i)=>{mr();const o=xn(r),a=Bt(t,r,e,i);return o(),yr(),a});return s?c.unshift(n):c.push(n),n}}const Xt=e=>(t,r=ct)=>{(!wi||e==="sp")&&mi(e,(...s)=>t(...s),r)},Ff=Xt("bm"),Su=Xt("m"),Df=Xt("bu"),Wf=Xt("u"),$f=Xt("bum"),Qs=Xt("um"),Hf=Xt("sp"),qf=Xt("rtg"),Vf=Xt("rtc");function zf(e,t=ct){mi("ec",e,t)}const Kf=Symbol.for("v-ndc");function Yf(e,t,r,s){let c;const n=r;if(Be(e)||Ge(e)){c=new Array(e.length);for(let i=0,o=e.length;i<o;i++)c[i]=t(e[i],i,void 0,n)}else if(typeof e=="number"){c=new Array(e);for(let i=0;i<e;i++)c[i]=t(i+1,i,void 0,n)}else if(Ve(e))if(e[Symbol.iterator])c=Array.from(e,(i,o)=>t(i,o,void 0,n));else{const i=Object.keys(e);c=new Array(i.length);for(let o=0,a=i.length;o<a;o++){const h=i[o];c[o]=t(e[h],h,o,n)}}else c=[];return c}const so=e=>e?qu(e)?_i(e):so(e.parent):null,yn=lt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>so(e.parent),$root:e=>so(e.root),$emit:e=>e.emit,$options:e=>Js(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Gs(e.update)}),$nextTick:e=>e.n||(e.n=gu.bind(e.proxy)),$watch:e=>bd.bind(e)}),ki=(e,t)=>e!==$e&&!e.__isScriptSetup&&ke(e,t),Gf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:s,data:c,props:n,accessCache:i,type:o,appContext:a}=e;let h;if(t[0]!=="$"){const b=i[t];if(b!==void 0)switch(b){case 1:return s[t];case 2:return c[t];case 4:return r[t];case 3:return n[t]}else{if(ki(s,t))return i[t]=1,s[t];if(c!==$e&&ke(c,t))return i[t]=2,c[t];if((h=e.propsOptions[0])&&ke(h,t))return i[t]=3,n[t];if(r!==$e&&ke(r,t))return i[t]=4,r[t];lo&&(i[t]=0)}}const d=yn[t];let g,m;if(d)return t==="$attrs"&&dt(e.attrs,"get",""),d(e);if((g=o.__cssModules)&&(g=g[t]))return g;if(r!==$e&&ke(r,t))return i[t]=4,r[t];if(m=a.config.globalProperties,ke(m,t))return m[t]},set({_:e},t,r){const{data:s,setupState:c,ctx:n}=e;return ki(c,t)?(c[t]=r,!0):s!==$e&&ke(s,t)?(s[t]=r,!0):ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:c,propsOptions:n}},i){let o;return!!r[i]||e!==$e&&ke(e,i)||ki(t,i)||(o=n[0])&&ke(o,i)||ke(s,i)||ke(yn,i)||ke(c.config.globalProperties,i)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:ke(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Tl(e){return Be(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let lo=!0;function Qf(e){const t=Js(e),r=e.proxy,s=e.ctx;lo=!1,t.beforeCreate&&Cl(t.beforeCreate,e,"bc");const{data:c,computed:n,methods:i,watch:o,provide:a,inject:h,created:d,beforeMount:g,mounted:m,beforeUpdate:b,updated:w,activated:v,deactivated:R,beforeDestroy:F,beforeUnmount:T,destroyed:I,unmounted:V,render:z,renderTracked:P,renderTriggered:N,errorCaptured:H,serverPrefetch:Q,expose:ne,inheritAttrs:le,components:U,directives:J,filters:se}=t;if(h&&Jf(h,s,null),i)for(const ie in i){const G=i[ie];Re(G)&&(s[ie]=G.bind(r))}if(c){const ie=c.call(r,r);Ve(ie)&&(e.data=Vs(ie))}if(lo=!0,n)for(const ie in n){const G=n[ie],be=Re(G)?G.bind(r,r):Re(G.get)?G.get.bind(r,r):vt,ue=!Re(G)&&Re(G.set)?G.set.bind(r):vt,ye=Wd({get:be,set:ue});Object.defineProperty(s,ie,{enumerable:!0,configurable:!0,get:()=>ye.value,set:S=>ye.value=S})}if(o)for(const ie in o)Au(o[ie],s,r,ie);if(a){const ie=Re(a)?a.call(r):a;Reflect.ownKeys(ie).forEach(G=>{nd(G,ie[G])})}d&&Cl(d,e,"c");function ce(ie,G){Be(G)?G.forEach(be=>ie(be.bind(r))):G&&ie(G.bind(r))}if(ce(Ff,g),ce(Su,m),ce(Df,b),ce(Wf,w),ce(Lf,v),ce(Nf,R),ce(zf,H),ce(Vf,P),ce(qf,N),ce($f,T),ce(Qs,V),ce(Hf,Q),Be(ne))if(ne.length){const ie=e.exposed||(e.exposed={});ne.forEach(G=>{Object.defineProperty(ie,G,{get:()=>r[G],set:be=>r[G]=be})})}else e.exposed||(e.exposed={});z&&e.render===vt&&(e.render=z),le!=null&&(e.inheritAttrs=le),U&&(e.components=U),J&&(e.directives=J)}function Jf(e,t,r=vt){Be(e)&&(e=ao(e));for(const s in e){const c=e[s];let n;Ve(c)?"default"in c?n=qn(c.from||s,c.default,!0):n=qn(c.from||s):n=qn(c),pt(n)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n.value,set:i=>n.value=i}):t[s]=n}}function Cl(e,t,r){Bt(Be(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function Au(e,t,r,s){const c=s.includes(".")?ju(r,s):()=>r[s];if(Ge(e)){const n=t[e];Re(n)&&Pi(c,n)}else if(Re(e))Pi(c,e.bind(r));else if(Ve(e))if(Be(e))e.forEach(n=>Au(n,t,r,s));else{const n=Re(e.handler)?e.handler.bind(r):t[e.handler];Re(n)&&Pi(c,n,e)}}function Js(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:c,optionsCache:n,config:{optionMergeStrategies:i}}=e.appContext,o=n.get(t);let a;return o?a=o:!c.length&&!r&&!s?a=t:(a={},c.length&&c.forEach(h=>ri(a,h,i,!0)),ri(a,t,i)),Ve(t)&&n.set(t,a),a}function ri(e,t,r,s=!1){const{mixins:c,extends:n}=t;n&&ri(e,n,r,!0),c&&c.forEach(i=>ri(e,i,r,!0));for(const i in t)if(!(s&&i==="expose")){const o=Xf[i]||r&&r[i];e[i]=o?o(e[i],t[i]):t[i]}return e}const Xf={data:Bl,props:Rl,emits:Rl,methods:hn,computed:hn,beforeCreate:ut,created:ut,beforeMount:ut,mounted:ut,beforeUpdate:ut,updated:ut,beforeDestroy:ut,beforeUnmount:ut,destroyed:ut,unmounted:ut,activated:ut,deactivated:ut,errorCaptured:ut,serverPrefetch:ut,components:hn,directives:hn,watch:ed,provide:Bl,inject:Zf};function Bl(e,t){return t?e?function(){return lt(Re(e)?e.call(this,this):e,Re(t)?t.call(this,this):t)}:t:e}function Zf(e,t){return hn(ao(e),ao(t))}function ao(e){if(Be(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function ut(e,t){return e?[...new Set([].concat(e,t))]:t}function hn(e,t){return e?lt(Object.create(null),e,t):t}function Rl(e,t){return e?Be(e)&&Be(t)?[...new Set([...e,...t])]:lt(Object.create(null),Tl(e),Tl(t??{})):t}function ed(e,t){if(!e)return t;if(!t)return e;const r=lt(Object.create(null),e);for(const s in t)r[s]=ut(e[s],t[s]);return r}function Iu(){return{app:null,config:{isNativeTag:Wh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let td=0;function rd(e,t){return function(s,c=null){Re(s)||(s=lt({},s)),c!=null&&!Ve(c)&&(c=null);const n=Iu(),i=new WeakSet;let o=!1;const a=n.app={_uid:td++,_component:s,_props:c,_container:null,_context:n,_instance:null,version:$d,get config(){return n.config},set config(h){},use(h,...d){return i.has(h)||(h&&Re(h.install)?(i.add(h),h.install(a,...d)):Re(h)&&(i.add(h),h(a,...d))),a},mixin(h){return n.mixins.includes(h)||n.mixins.push(h),a},component(h,d){return d?(n.components[h]=d,a):n.components[h]},directive(h,d){return d?(n.directives[h]=d,a):n.directives[h]},mount(h,d,g){if(!o){const m=Yt(s,c);return m.appContext=n,g===!0?g="svg":g===!1&&(g=void 0),d&&t?t(m,h):e(m,h,g),o=!0,a._container=h,h.__vue_app__=a,_i(m.component)}},unmount(){o&&(e(null,a._container),delete a._container.__vue_app__)},provide(h,d){return n.provides[h]=d,a},runWithContext(h){const d=bn;bn=a;try{return h()}finally{bn=d}}};return a}}let bn=null;function nd(e,t){if(ct){let r=ct.provides;const s=ct.parent&&ct.parent.provides;s===r&&(r=ct.provides=Object.create(s)),r[e]=t}}function qn(e,t,r=!1){const s=ct||Et;if(s||bn){const c=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:bn._context.provides;if(c&&e in c)return c[e];if(arguments.length>1)return r&&Re(t)?t.call(s&&s.proxy):t}}const xu={},Tu=()=>Object.create(xu),Cu=e=>Object.getPrototypeOf(e)===xu;function id(e,t,r,s=!1){const c={},n=Tu();e.propsDefaults=Object.create(null),Bu(e,t,c,n);for(const i in e.propsOptions[0])i in c||(c[i]=void 0);r?e.props=s?c:vf(c):e.type.props?e.props=c:e.props=n,e.attrs=n}function od(e,t,r,s){const{props:c,attrs:n,vnode:{patchFlag:i}}=e,o=Me(c),[a]=e.propsOptions;let h=!1;if((s||i>0)&&!(i&16)){if(i&8){const d=e.vnode.dynamicProps;for(let g=0;g<d.length;g++){let m=d[g];if(yi(e.emitsOptions,m))continue;const b=t[m];if(a)if(ke(n,m))b!==n[m]&&(n[m]=b,h=!0);else{const w=Nr(m);c[w]=uo(a,o,w,b,e,!1)}else b!==n[m]&&(n[m]=b,h=!0)}}}else{Bu(e,t,c,n)&&(h=!0);let d;for(const g in o)(!t||!ke(t,g)&&((d=gr(g))===g||!ke(t,d)))&&(a?r&&(r[g]!==void 0||r[d]!==void 0)&&(c[g]=uo(a,o,g,void 0,e,!0)):delete c[g]);if(n!==o)for(const g in n)(!t||!ke(t,g))&&(delete n[g],h=!0)}h&&Kt(e.attrs,"set","")}function Bu(e,t,r,s){const[c,n]=e.propsOptions;let i=!1,o;if(t)for(let a in t){if(gn(a))continue;const h=t[a];let d;c&&ke(c,d=Nr(a))?!n||!n.includes(d)?r[d]=h:(o||(o={}))[d]=h:yi(e.emitsOptions,a)||(!(a in s)||h!==s[a])&&(s[a]=h,i=!0)}if(n){const a=Me(r),h=o||$e;for(let d=0;d<n.length;d++){const g=n[d];r[g]=uo(c,a,g,h[g],e,!ke(h,g))}}return i}function uo(e,t,r,s,c,n){const i=e[r];if(i!=null){const o=ke(i,"default");if(o&&s===void 0){const a=i.default;if(i.type!==Function&&!i.skipFactory&&Re(a)){const{propsDefaults:h}=c;if(r in h)s=h[r];else{const d=xn(c);s=h[r]=a.call(null,t),d()}}else s=a}i[0]&&(n&&!o?s=!1:i[1]&&(s===""||s===gr(r))&&(s=!0))}return s}const sd=new WeakMap;function Ru(e,t,r=!1){const s=r?sd:t.propsCache,c=s.get(e);if(c)return c;const n=e.props,i={},o=[];let a=!1;if(!Re(e)){const d=g=>{a=!0;const[m,b]=Ru(g,t,!0);lt(i,m),b&&o.push(...b)};!r&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!n&&!a)return Ve(e)&&s.set(e,Jr),Jr;if(Be(n))for(let d=0;d<n.length;d++){const g=Nr(n[d]);kl(g)&&(i[g]=$e)}else if(n)for(const d in n){const g=Nr(d);if(kl(g)){const m=n[d],b=i[g]=Be(m)||Re(m)?{type:m}:lt({},m);if(b){const w=Ml(Boolean,b.type),v=Ml(String,b.type);b[0]=w>-1,b[1]=v<0||w<v,(w>-1||ke(b,"default"))&&o.push(g)}}}const h=[i,o];return Ve(e)&&s.set(e,h),h}function kl(e){return e[0]!=="$"&&!gn(e)}function Ol(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Pl(e,t){return Ol(e)===Ol(t)}function Ml(e,t){return Be(t)?t.findIndex(r=>Pl(r,e)):Re(t)&&Pl(t,e)?0:-1}const ku=e=>e[0]==="_"||e==="$stable",Xs=e=>Be(e)?e.map(Pt):[Pt(e)],ld=(e,t,r)=>{if(t._n)return t;const s=Mf((...c)=>Xs(t(...c)),r);return s._c=!1,s},Ou=(e,t,r)=>{const s=e._ctx;for(const c in e){if(ku(c))continue;const n=e[c];if(Re(n))t[c]=ld(c,n,s);else if(n!=null){const i=Xs(n);t[c]=()=>i}}},Pu=(e,t)=>{const r=Xs(t);e.slots.default=()=>r},Mu=(e,t,r)=>{for(const s in t)(r||s!=="_")&&(e[s]=t[s])},ad=(e,t,r)=>{const s=e.slots=Tu();if(e.vnode.shapeFlag&32){const c=t._;c?(Mu(s,t,r),r&&za(s,"_",c,!0)):Ou(t,s)}else t&&Pu(e,t)},ud=(e,t,r)=>{const{vnode:s,slots:c}=e;let n=!0,i=$e;if(s.shapeFlag&32){const o=t._;o?r&&o===1?n=!1:Mu(c,t,r):(n=!t.$stable,Ou(t,c)),i=t}else t&&(Pu(e,t),i={default:1});if(n)for(const o in c)!ku(o)&&i[o]==null&&delete c[o]};function co(e,t,r,s,c=!1){if(Be(e)){e.forEach((m,b)=>co(m,t&&(Be(t)?t[b]:t),r,s,c));return}if(Hn(s)&&!c)return;const n=s.shapeFlag&4?_i(s.component):s.el,i=c?null:n,{i:o,r:a}=e,h=t&&t.r,d=o.refs===$e?o.refs={}:o.refs,g=o.setupState;if(h!=null&&h!==a&&(Ge(h)?(d[h]=null,ke(g,h)&&(g[h]=null)):pt(h)&&(h.value=null)),Re(a))fr(a,o,12,[i,d]);else{const m=Ge(a),b=pt(a);if(m||b){const w=()=>{if(e.f){const v=m?ke(g,a)?g[a]:d[a]:a.value;c?Be(v)&&Ns(v,n):Be(v)?v.includes(n)||v.push(n):m?(d[a]=[n],ke(g,a)&&(g[a]=d[a])):(a.value=[n],e.k&&(d[e.k]=a.value))}else m?(d[a]=i,ke(g,a)&&(g[a]=i)):b&&(a.value=i,e.k&&(d[e.k]=i))};i?(w.id=-1,ft(w,r)):w()}}}const cd=Symbol("_vte"),hd=e=>e.__isTeleport,ft=xd;function fd(e){return dd(e)}function dd(e,t){const r=Ka();r.__VUE__=!0;const{insert:s,remove:c,patchProp:n,createElement:i,createText:o,createComment:a,setText:h,setElementText:d,parentNode:g,nextSibling:m,setScopeId:b=vt,insertStaticContent:w}=e,v=(x,B,E,O=null,k=null,K=null,Y=void 0,C=null,W=!!B.dynamicChildren)=>{if(x===B)return;x&&!on(x,B)&&(O=D(x),S(x,k,K,!0),x=null),B.patchFlag===-2&&(W=!1,B.dynamicChildren=null);const{type:A,ref:j,shapeFlag:q}=B;switch(A){case bi:R(x,B,E,O);break;case Fr:F(x,B,E,O);break;case Ui:x==null&&T(B,E,O,Y);break;case Ct:U(x,B,E,O,k,K,Y,C,W);break;default:q&1?z(x,B,E,O,k,K,Y,C,W):q&6?J(x,B,E,O,k,K,Y,C,W):(q&64||q&128)&&A.process(x,B,E,O,k,K,Y,C,W,fe)}j!=null&&k&&co(j,x&&x.ref,K,B||x,!B)},R=(x,B,E,O)=>{if(x==null)s(B.el=o(B.children),E,O);else{const k=B.el=x.el;B.children!==x.children&&h(k,B.children)}},F=(x,B,E,O)=>{x==null?s(B.el=a(B.children||""),E,O):B.el=x.el},T=(x,B,E,O)=>{[x.el,x.anchor]=w(x.children,B,E,O,x.el,x.anchor)},I=({el:x,anchor:B},E,O)=>{let k;for(;x&&x!==B;)k=m(x),s(x,E,O),x=k;s(B,E,O)},V=({el:x,anchor:B})=>{let E;for(;x&&x!==B;)E=m(x),c(x),x=E;c(B)},z=(x,B,E,O,k,K,Y,C,W)=>{B.type==="svg"?Y="svg":B.type==="math"&&(Y="mathml"),x==null?P(B,E,O,k,K,Y,C,W):Q(x,B,k,K,Y,C,W)},P=(x,B,E,O,k,K,Y,C)=>{let W,A;const{props:j,shapeFlag:q,transition:X,dirs:p}=x;if(W=x.el=i(x.type,K,j&&j.is,j),q&8?d(W,x.children):q&16&&H(x.children,W,null,O,k,Oi(x,K),Y,C),p&&wr(x,null,O,"created"),N(W,x,x.scopeId,Y,O),j){for(const l in j)l!=="value"&&!gn(l)&&n(W,l,null,j[l],K,O);"value"in j&&n(W,"value",null,j.value,K),(A=j.onVnodeBeforeMount)&&Rt(A,O,x)}p&&wr(x,null,O,"beforeMount");const u=pd(k,X);u&&X.beforeEnter(W),s(W,B,E),((A=j&&j.onVnodeMounted)||u||p)&&ft(()=>{A&&Rt(A,O,x),u&&X.enter(W),p&&wr(x,null,O,"mounted")},k)},N=(x,B,E,O,k)=>{if(E&&b(x,E),O)for(let K=0;K<O.length;K++)b(x,O[K]);if(k){let K=k.subTree;if(B===K){const Y=k.vnode;N(x,Y,Y.scopeId,Y.slotScopeIds,k.parent)}}},H=(x,B,E,O,k,K,Y,C,W=0)=>{for(let A=W;A<x.length;A++){const j=x[A]=C?ur(x[A]):Pt(x[A]);v(null,j,B,E,O,k,K,Y,C)}},Q=(x,B,E,O,k,K,Y)=>{const C=B.el=x.el;let{patchFlag:W,dynamicChildren:A,dirs:j}=B;W|=x.patchFlag&16;const q=x.props||$e,X=B.props||$e;let p;if(E&&_r(E,!1),(p=X.onVnodeBeforeUpdate)&&Rt(p,E,B,x),j&&wr(B,x,E,"beforeUpdate"),E&&_r(E,!0),(q.innerHTML&&X.innerHTML==null||q.textContent&&X.textContent==null)&&d(C,""),A?ne(x.dynamicChildren,A,C,E,O,Oi(B,k),K):Y||G(x,B,C,null,E,O,Oi(B,k),K,!1),W>0){if(W&16)le(C,q,X,E,k);else if(W&2&&q.class!==X.class&&n(C,"class",null,X.class,k),W&4&&n(C,"style",q.style,X.style,k),W&8){const u=B.dynamicProps;for(let l=0;l<u.length;l++){const f=u[l],y=q[f],_=X[f];(_!==y||f==="value")&&n(C,f,y,_,k,E)}}W&1&&x.children!==B.children&&d(C,B.children)}else!Y&&A==null&&le(C,q,X,E,k);((p=X.onVnodeUpdated)||j)&&ft(()=>{p&&Rt(p,E,B,x),j&&wr(B,x,E,"updated")},O)},ne=(x,B,E,O,k,K,Y)=>{for(let C=0;C<B.length;C++){const W=x[C],A=B[C],j=W.el&&(W.type===Ct||!on(W,A)||W.shapeFlag&70)?g(W.el):E;v(W,A,j,null,O,k,K,Y,!0)}},le=(x,B,E,O,k)=>{if(B!==E){if(B!==$e)for(const K in B)!gn(K)&&!(K in E)&&n(x,K,B[K],null,k,O);for(const K in E){if(gn(K))continue;const Y=E[K],C=B[K];Y!==C&&K!=="value"&&n(x,K,C,Y,k,O)}"value"in E&&n(x,"value",B.value,E.value,k)}},U=(x,B,E,O,k,K,Y,C,W)=>{const A=B.el=x?x.el:o(""),j=B.anchor=x?x.anchor:o("");let{patchFlag:q,dynamicChildren:X,slotScopeIds:p}=B;p&&(C=C?C.concat(p):p),x==null?(s(A,E,O),s(j,E,O),H(B.children||[],E,j,k,K,Y,C,W)):q>0&&q&64&&X&&x.dynamicChildren?(ne(x.dynamicChildren,X,E,k,K,Y,C),(B.key!=null||k&&B===k.subTree)&&Uu(x,B,!0)):G(x,B,E,j,k,K,Y,C,W)},J=(x,B,E,O,k,K,Y,C,W)=>{B.slotScopeIds=C,x==null?B.shapeFlag&512?k.ctx.activate(B,E,O,Y,W):se(B,E,O,k,K,Y,W):te(x,B,W)},se=(x,B,E,O,k,K,Y)=>{const C=x.component=Ud(x,O,k);if(vu(x)&&(C.ctx.renderer=fe),Ld(C,!1,Y),C.asyncDep){if(k&&k.registerDep(C,ce,Y),!x.el){const W=C.subTree=Yt(Fr);F(null,W,B,E)}}else ce(C,x,B,E,k,K,Y)},te=(x,B,E)=>{const O=B.component=x.component;if(Sd(x,B,E))if(O.asyncDep&&!O.asyncResolved){ie(O,B,E);return}else O.next=B,Bf(O.update),O.effect.dirty=!0,O.update();else B.el=x.el,O.vnode=B},ce=(x,B,E,O,k,K,Y)=>{const C=()=>{if(x.isMounted){let{next:j,bu:q,u:X,parent:p,vnode:u}=x;{const L=Lu(x);if(L){j&&(j.el=u.el,ie(x,j,Y)),L.asyncDep.then(()=>{x.isUnmounted||C()});return}}let l=j,f;_r(x,!1),j?(j.el=u.el,ie(x,j,Y)):j=u,q&&Wn(q),(f=j.props&&j.props.onVnodeBeforeUpdate)&&Rt(f,p,j,u),_r(x,!0);const y=Mi(x),_=x.subTree;x.subTree=y,v(_,y,g(_.el),D(_),x,k,K),j.el=y.el,l===null&&Ad(x,y.el),X&&ft(X,k),(f=j.props&&j.props.onVnodeUpdated)&&ft(()=>Rt(f,p,j,u),k)}else{let j;const{el:q,props:X}=B,{bm:p,m:u,parent:l}=x,f=Hn(B);if(_r(x,!1),p&&Wn(p),!f&&(j=X&&X.onVnodeBeforeMount)&&Rt(j,l,B),_r(x,!0),q&&oe){const y=()=>{x.subTree=Mi(x),oe(q,x.subTree,x,k,null)};f?B.type.__asyncLoader().then(()=>!x.isUnmounted&&y()):y()}else{const y=x.subTree=Mi(x);v(null,y,E,O,x,k,K),B.el=y.el}if(u&&ft(u,k),!f&&(j=X&&X.onVnodeMounted)){const y=B;ft(()=>Rt(j,l,y),k)}(B.shapeFlag&256||l&&Hn(l.vnode)&&l.vnode.shapeFlag&256)&&x.a&&ft(x.a,k),x.isMounted=!0,B=E=O=null}},W=x.effect=new Ds(C,vt,()=>Gs(A),x.scope),A=x.update=()=>{W.dirty&&W.run()};A.i=x,A.id=x.uid,_r(x,!0),A()},ie=(x,B,E)=>{B.component=x;const O=x.vnode.props;x.vnode=B,x.next=null,od(x,B.props,O,E),ud(x,B.children,E),mr(),xl(x),yr()},G=(x,B,E,O,k,K,Y,C,W=!1)=>{const A=x&&x.children,j=x?x.shapeFlag:0,q=B.children,{patchFlag:X,shapeFlag:p}=B;if(X>0){if(X&128){ue(A,q,E,O,k,K,Y,C,W);return}else if(X&256){be(A,q,E,O,k,K,Y,C,W);return}}p&8?(j&16&&he(A,k,K),q!==A&&d(E,q)):j&16?p&16?ue(A,q,E,O,k,K,Y,C,W):he(A,k,K,!0):(j&8&&d(E,""),p&16&&H(q,E,O,k,K,Y,C,W))},be=(x,B,E,O,k,K,Y,C,W)=>{x=x||Jr,B=B||Jr;const A=x.length,j=B.length,q=Math.min(A,j);let X;for(X=0;X<q;X++){const p=B[X]=W?ur(B[X]):Pt(B[X]);v(x[X],p,E,null,k,K,Y,C,W)}A>j?he(x,k,K,!0,!1,q):H(B,E,O,k,K,Y,C,W,q)},ue=(x,B,E,O,k,K,Y,C,W)=>{let A=0;const j=B.length;let q=x.length-1,X=j-1;for(;A<=q&&A<=X;){const p=x[A],u=B[A]=W?ur(B[A]):Pt(B[A]);if(on(p,u))v(p,u,E,null,k,K,Y,C,W);else break;A++}for(;A<=q&&A<=X;){const p=x[q],u=B[X]=W?ur(B[X]):Pt(B[X]);if(on(p,u))v(p,u,E,null,k,K,Y,C,W);else break;q--,X--}if(A>q){if(A<=X){const p=X+1,u=p<j?B[p].el:O;for(;A<=X;)v(null,B[A]=W?ur(B[A]):Pt(B[A]),E,u,k,K,Y,C,W),A++}}else if(A>X)for(;A<=q;)S(x[A],k,K,!0),A++;else{const p=A,u=A,l=new Map;for(A=u;A<=X;A++){const ve=B[A]=W?ur(B[A]):Pt(B[A]);ve.key!=null&&l.set(ve.key,A)}let f,y=0;const _=X-u+1;let L=!1,Z=0;const Ee=new Array(_);for(A=0;A<_;A++)Ee[A]=0;for(A=p;A<=q;A++){const ve=x[A];if(y>=_){S(ve,k,K,!0);continue}let Ie;if(ve.key!=null)Ie=l.get(ve.key);else for(f=u;f<=X;f++)if(Ee[f-u]===0&&on(ve,B[f])){Ie=f;break}Ie===void 0?S(ve,k,K,!0):(Ee[Ie-u]=A+1,Ie>=Z?Z=Ie:L=!0,v(ve,B[Ie],E,null,k,K,Y,C,W),y++)}const xe=L?gd(Ee):Jr;for(f=xe.length-1,A=_-1;A>=0;A--){const ve=u+A,Ie=B[ve],Ae=ve+1<j?B[ve+1].el:O;Ee[A]===0?v(null,Ie,E,Ae,k,K,Y,C,W):L&&(f<0||A!==xe[f]?ye(Ie,E,Ae,2):f--)}}},ye=(x,B,E,O,k=null)=>{const{el:K,type:Y,transition:C,children:W,shapeFlag:A}=x;if(A&6){ye(x.component.subTree,B,E,O);return}if(A&128){x.suspense.move(B,E,O);return}if(A&64){Y.move(x,B,E,fe);return}if(Y===Ct){s(K,B,E);for(let q=0;q<W.length;q++)ye(W[q],B,E,O);s(x.anchor,B,E);return}if(Y===Ui){I(x,B,E);return}if(O!==2&&A&1&&C)if(O===0)C.beforeEnter(K),s(K,B,E),ft(()=>C.enter(K),k);else{const{leave:q,delayLeave:X,afterLeave:p}=C,u=()=>s(K,B,E),l=()=>{q(K,()=>{u(),p&&p()})};X?X(K,u,l):l()}else s(K,B,E)},S=(x,B,E,O=!1,k=!1)=>{const{type:K,props:Y,ref:C,children:W,dynamicChildren:A,shapeFlag:j,patchFlag:q,dirs:X,cacheIndex:p}=x;if(q===-2&&(k=!1),C!=null&&co(C,null,E,x,!0),p!=null&&(B.renderCache[p]=void 0),j&256){B.ctx.deactivate(x);return}const u=j&1&&X,l=!Hn(x);let f;if(l&&(f=Y&&Y.onVnodeBeforeUnmount)&&Rt(f,B,x),j&6)Se(x.component,E,O);else{if(j&128){x.suspense.unmount(E,O);return}u&&wr(x,null,B,"beforeUnmount"),j&64?x.type.remove(x,B,E,fe,O):A&&!A.hasOnce&&(K!==Ct||q>0&&q&64)?he(A,B,E,!1,!0):(K===Ct&&q&384||!k&&j&16)&&he(W,B,E),O&&re(x)}(l&&(f=Y&&Y.onVnodeUnmounted)||u)&&ft(()=>{f&&Rt(f,B,x),u&&wr(x,null,B,"unmounted")},E)},re=x=>{const{type:B,el:E,anchor:O,transition:k}=x;if(B===Ct){de(E,O);return}if(B===Ui){V(x);return}const K=()=>{c(E),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(x.shapeFlag&1&&k&&!k.persisted){const{leave:Y,delayLeave:C}=k,W=()=>Y(E,K);C?C(x.el,K,W):W()}else K()},de=(x,B)=>{let E;for(;x!==B;)E=m(x),c(x),x=E;c(B)},Se=(x,B,E)=>{const{bum:O,scope:k,update:K,subTree:Y,um:C,m:W,a:A}=x;Ul(W),Ul(A),O&&Wn(O),k.stop(),K&&(K.active=!1,S(Y,x,B,E)),C&&ft(C,B),ft(()=>{x.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},he=(x,B,E,O=!1,k=!1,K=0)=>{for(let Y=K;Y<x.length;Y++)S(x[Y],B,E,O,k)},D=x=>{if(x.shapeFlag&6)return D(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const B=m(x.anchor||x.el),E=B&&B[cd];return E?m(E):B};let M=!1;const ee=(x,B,E)=>{x==null?B._vnode&&S(B._vnode,null,null,!0):v(B._vnode||null,x,B,null,null,null,E),M||(M=!0,xl(),yu(),M=!1),B._vnode=x},fe={p:v,um:S,m:ye,r:re,mt:se,mc:H,pc:G,pbc:ne,n:D,o:e};let ae,oe;return{render:ee,hydrate:ae,createApp:rd(ee,ae)}}function Oi({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function _r({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function pd(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Uu(e,t,r=!1){const s=e.children,c=t.children;if(Be(s)&&Be(c))for(let n=0;n<s.length;n++){const i=s[n];let o=c[n];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=c[n]=ur(c[n]),o.el=i.el),!r&&o.patchFlag!==-2&&Uu(i,o)),o.type===bi&&(o.el=i.el)}}function gd(e){const t=e.slice(),r=[0];let s,c,n,i,o;const a=e.length;for(s=0;s<a;s++){const h=e[s];if(h!==0){if(c=r[r.length-1],e[c]<h){t[s]=c,r.push(s);continue}for(n=0,i=r.length-1;n<i;)o=n+i>>1,e[r[o]]<h?n=o+1:i=o;h<e[r[n]]&&(n>0&&(t[s]=r[n-1]),r[n]=s)}}for(n=r.length,i=r[n-1];n-- >0;)r[n]=i,i=t[i];return r}function Lu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Lu(t)}function Ul(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const md=Symbol.for("v-scx"),yd=()=>qn(md),Un={};function Pi(e,t,r){return Nu(e,t,r)}function Nu(e,t,{immediate:r,deep:s,flush:c,once:n,onTrack:i,onTrigger:o}=$e){if(t&&n){const P=t;t=(...N)=>{P(...N),z()}}const a=ct,h=P=>s===!0?P:cr(P,s===!1?1:void 0);let d,g=!1,m=!1;if(pt(e)?(d=()=>e.value,g=en(e)):mn(e)?(d=()=>h(e),g=!0):Be(e)?(m=!0,g=e.some(P=>mn(P)||en(P)),d=()=>e.map(P=>{if(pt(P))return P.value;if(mn(P))return h(P);if(Re(P))return fr(P,a,2)})):Re(e)?t?d=()=>fr(e,a,2):d=()=>(b&&b(),Bt(e,a,3,[w])):d=vt,t&&s){const P=d;d=()=>cr(P())}let b,w=P=>{b=I.onStop=()=>{fr(P,a,4),b=I.onStop=void 0}},v;if(wi)if(w=vt,t?r&&Bt(t,a,3,[d(),m?[]:void 0,w]):d(),c==="sync"){const P=yd();v=P.__watcherHandles||(P.__watcherHandles=[])}else return vt;let R=m?new Array(e.length).fill(Un):Un;const F=()=>{if(!(!I.active||!I.dirty))if(t){const P=I.run();(s||g||(m?P.some((N,H)=>dr(N,R[H])):dr(P,R)))&&(b&&b(),Bt(t,a,3,[P,R===Un?void 0:m&&R[0]===Un?[]:R,w]),R=P)}else I.run()};F.allowRecurse=!!t;let T;c==="sync"?T=F:c==="post"?T=()=>ft(F,a&&a.suspense):(F.pre=!0,a&&(F.id=a.uid),T=()=>Gs(F));const I=new Ds(d,vt,T),V=ef(),z=()=>{I.stop(),V&&Ns(V.effects,I)};return t?r?F():R=I.run():c==="post"?ft(I.run.bind(I),a&&a.suspense):I.run(),v&&v.push(z),z}function bd(e,t,r){const s=this.proxy,c=Ge(e)?e.includes(".")?ju(s,e):()=>s[e]:e.bind(s,s);let n;Re(t)?n=t:(n=t.handler,r=t);const i=xn(this),o=Nu(c,n.bind(s),r);return i(),o}function ju(e,t){const r=t.split(".");return()=>{let s=e;for(let c=0;c<r.length&&s;c++)s=s[r[c]];return s}}function cr(e,t=1/0,r){if(t<=0||!Ve(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,pt(e))cr(e.value,t,r);else if(Be(e))for(let s=0;s<e.length;s++)cr(e[s],t,r);else if(Wa(e)||Xr(e))e.forEach(s=>{cr(s,t,r)});else if(qa(e)){for(const s in e)cr(e[s],t,r);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&cr(e[s],t,r)}return e}const wd=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Nr(t)}Modifiers`]||e[`${gr(t)}Modifiers`];function _d(e,t,...r){if(e.isUnmounted)return;const s=e.vnode.props||$e;let c=r;const n=t.startsWith("update:"),i=n&&wd(s,t.slice(7));i&&(i.trim&&(c=r.map(d=>Ge(d)?d.trim():d)),i.number&&(c=r.map(eo)));let o,a=s[o=Bi(t)]||s[o=Bi(Nr(t))];!a&&n&&(a=s[o=Bi(gr(t))]),a&&Bt(a,e,6,c);const h=s[o+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,Bt(h,e,6,c)}}function Fu(e,t,r=!1){const s=t.emitsCache,c=s.get(e);if(c!==void 0)return c;const n=e.emits;let i={},o=!1;if(!Re(e)){const a=h=>{const d=Fu(h,t,!0);d&&(o=!0,lt(i,d))};!r&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!n&&!o?(Ve(e)&&s.set(e,null),null):(Be(n)?n.forEach(a=>i[a]=null):lt(i,n),Ve(e)&&s.set(e,i),i)}function yi(e,t){return!e||!ui(t)?!1:(t=t.slice(2).replace(/Once$/,""),ke(e,t[0].toLowerCase()+t.slice(1))||ke(e,gr(t))||ke(e,t))}function Mi(e){const{type:t,vnode:r,proxy:s,withProxy:c,propsOptions:[n],slots:i,attrs:o,emit:a,render:h,renderCache:d,props:g,data:m,setupState:b,ctx:w,inheritAttrs:v}=e,R=ti(e);let F,T;try{if(r.shapeFlag&4){const V=c||s,z=V;F=Pt(h.call(z,V,d,g,b,m,w)),T=o}else{const V=t;F=Pt(V.length>1?V(g,{attrs:o,slots:i,emit:a}):V(g,null)),T=t.props?o:vd(o)}}catch(V){wn.length=0,pi(V,e,1),F=Yt(Fr)}let I=F;if(T&&v!==!1){const V=Object.keys(T),{shapeFlag:z}=I;V.length&&z&7&&(n&&V.some(Ls)&&(T=Ed(T,n)),I=tn(I,T,!1,!0))}return r.dirs&&(I=tn(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(r.dirs):r.dirs),r.transition&&(I.transition=r.transition),F=I,ti(R),F}const vd=e=>{let t;for(const r in e)(r==="class"||r==="style"||ui(r))&&((t||(t={}))[r]=e[r]);return t},Ed=(e,t)=>{const r={};for(const s in e)(!Ls(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function Sd(e,t,r){const{props:s,children:c,component:n}=e,{props:i,children:o,patchFlag:a}=t,h=n.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&a>=0){if(a&1024)return!0;if(a&16)return s?Ll(s,i,h):!!i;if(a&8){const d=t.dynamicProps;for(let g=0;g<d.length;g++){const m=d[g];if(i[m]!==s[m]&&!yi(h,m))return!0}}}else return(c||o)&&(!o||!o.$stable)?!0:s===i?!1:s?i?Ll(s,i,h):!0:!!i;return!1}function Ll(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let c=0;c<s.length;c++){const n=s[c];if(t[n]!==e[n]&&!yi(r,n))return!0}return!1}function Ad({vnode:e,parent:t},r){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=r,t=t.parent;else break}}const Id=e=>e.__isSuspense;function xd(e,t){t&&t.pendingBranch?Be(e)?t.effects.push(...e):t.effects.push(e):Rf(e)}const Ct=Symbol.for("v-fgt"),bi=Symbol.for("v-txt"),Fr=Symbol.for("v-cmt"),Ui=Symbol.for("v-stc"),wn=[];let bt=null;function ar(e=!1){wn.push(bt=e?null:[])}function Td(){wn.pop(),bt=wn[wn.length-1]||null}let In=1;function Nl(e){In+=e,e<0&&bt&&(bt.hasOnce=!0)}function Du(e){return e.dynamicChildren=In>0?bt||Jr:null,Td(),In>0&&bt&&bt.push(e),e}function qr(e,t,r,s,c,n){return Du(Ye(e,t,r,s,c,n,!0))}function Wu(e,t,r,s,c){return Du(Yt(e,t,r,s,c,!0))}function Cd(e){return e?e.__v_isVNode===!0:!1}function on(e,t){return e.type===t.type&&e.key===t.key}const $u=({key:e})=>e??null,Vn=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Ge(e)||pt(e)||Re(e)?{i:Et,r:e,k:t,f:!!r}:e:null);function Ye(e,t=null,r=null,s=0,c=null,n=e===Ct?0:1,i=!1,o=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&$u(t),ref:t&&Vn(t),scopeId:gi,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:s,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:Et};return o?(Zs(a,r),n&128&&e.normalize(a)):r&&(a.shapeFlag|=Ge(r)?8:16),In>0&&!i&&bt&&(a.patchFlag>0||n&6)&&a.patchFlag!==32&&bt.push(a),a}const Yt=Bd;function Bd(e,t=null,r=null,s=0,c=null,n=!1){if((!e||e===Kf)&&(e=Fr),Cd(e)){const o=tn(e,t,!0);return r&&Zs(o,r),In>0&&!n&&bt&&(o.shapeFlag&6?bt[bt.indexOf(e)]=o:bt.push(o)),o.patchFlag=-2,o}if(Dd(e)&&(e=e.__vccOpts),t){t=Rd(t);let{class:o,style:a}=t;o&&!Ge(o)&&(t.class=Fs(o)),Ve(a)&&(uu(a)&&!Be(a)&&(a=lt({},a)),t.style=fi(a))}const i=Ge(e)?1:Id(e)?128:hd(e)?64:Ve(e)?4:Re(e)?2:0;return Ye(e,t,r,s,c,i,n,!0)}function Rd(e){return e?uu(e)||Cu(e)?lt({},e):e:null}function tn(e,t,r=!1,s=!1){const{props:c,ref:n,patchFlag:i,children:o,transition:a}=e,h=t?Od(c||{},t):c,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&$u(h),ref:t&&t.ref?r&&n?Be(n)?n.concat(Vn(t)):[n,Vn(t)]:Vn(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ct?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&tn(e.ssContent),ssFallback:e.ssFallback&&tn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&s&&wu(d,a.clone(d)),d}function Hu(e=" ",t=0){return Yt(bi,null,e,t)}function kd(e="",t=!1){return t?(ar(),Wu(Fr,null,e)):Yt(Fr,null,e)}function Pt(e){return e==null||typeof e=="boolean"?Yt(Fr):Be(e)?Yt(Ct,null,e.slice()):typeof e=="object"?ur(e):Yt(bi,null,String(e))}function ur(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:tn(e)}function Zs(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Be(t))r=16;else if(typeof t=="object")if(s&65){const c=t.default;c&&(c._c&&(c._d=!1),Zs(e,c()),c._c&&(c._d=!0));return}else{r=32;const c=t._;!c&&!Cu(t)?t._ctx=Et:c===3&&Et&&(Et.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Re(t)?(t={default:t,_ctx:Et},r=32):(t=String(t),s&64?(r=16,t=[Hu(t)]):r=8);e.children=t,e.shapeFlag|=r}function Od(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const c in s)if(c==="class")t.class!==s.class&&(t.class=Fs([t.class,s.class]));else if(c==="style")t.style=fi([t.style,s.style]);else if(ui(c)){const n=t[c],i=s[c];i&&n!==i&&!(Be(n)&&n.includes(i))&&(t[c]=n?[].concat(n,i):i)}else c!==""&&(t[c]=s[c])}return t}function Rt(e,t,r,s=null){Bt(e,t,7,[r,s])}const Pd=Iu();let Md=0;function Ud(e,t,r){const s=e.type,c=(t?t.appContext:e.appContext)||Pd,n={uid:Md++,vnode:e,type:s,parent:t,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,scope:new Xh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(c.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ru(s,c),emitsOptions:Fu(s,c),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:s.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=_d.bind(null,n),e.ce&&e.ce(n),n}let ct=null,ni,ho;{const e=Ka(),t=(r,s)=>{let c;return(c=e[r])||(c=e[r]=[]),c.push(s),n=>{c.length>1?c.forEach(i=>i(n)):c[0](n)}};ni=t("__VUE_INSTANCE_SETTERS__",r=>ct=r),ho=t("__VUE_SSR_SETTERS__",r=>wi=r)}const xn=e=>{const t=ct;return ni(e),e.scope.on(),()=>{e.scope.off(),ni(t)}},jl=()=>{ct&&ct.scope.off(),ni(null)};function qu(e){return e.vnode.shapeFlag&4}let wi=!1;function Ld(e,t=!1,r=!1){t&&ho(t);const{props:s,children:c}=e.vnode,n=qu(e);id(e,s,n,t),ad(e,c,r);const i=n?Nd(e,t):void 0;return t&&ho(!1),i}function Nd(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Gf);const{setup:s}=r;if(s){const c=e.setupContext=s.length>1?Fd(e):null,n=xn(e);mr();const i=fr(s,e,0,[e.props,c]);if(yr(),n(),$a(i)){if(i.then(jl,jl),t)return i.then(o=>{Fl(e,o,t)}).catch(o=>{pi(o,e,0)});e.asyncDep=i}else Fl(e,i,t)}else Vu(e,t)}function Fl(e,t,r){Re(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ve(t)&&(e.setupState=du(t)),Vu(e,r)}let Dl;function Vu(e,t,r){const s=e.type;if(!e.render){if(!t&&Dl&&!s.render){const c=s.template||Js(e).template;if(c){const{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:o,compilerOptions:a}=s,h=lt(lt({isCustomElement:n,delimiters:o},i),a);s.render=Dl(c,h)}}e.render=s.render||vt}{const c=xn(e);mr();try{Qf(e)}finally{yr(),c()}}}const jd={get(e,t){return dt(e,"get",""),e[t]}};function Fd(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,jd),slots:e.slots,emit:e.emit,expose:t}}function _i(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(du(Ef(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in yn)return yn[r](e)},has(t,r){return r in t||r in yn}})):e.proxy}function Dd(e){return Re(e)&&"__vccOpts"in e}const Wd=(e,t)=>Sf(e,t,wi),$d="3.4.32";/**
* @vue/runtime-dom v3.4.32
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Hd="http://www.w3.org/2000/svg",qd="http://www.w3.org/1998/Math/MathML",Wt=typeof document<"u"?document:null,Wl=Wt&&Wt.createElement("template"),Vd={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const c=t==="svg"?Wt.createElementNS(Hd,e):t==="mathml"?Wt.createElementNS(qd,e):r?Wt.createElement(e,{is:r}):Wt.createElement(e);return e==="select"&&s&&s.multiple!=null&&c.setAttribute("multiple",s.multiple),c},createText:e=>Wt.createTextNode(e),createComment:e=>Wt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Wt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,s,c,n){const i=r?r.previousSibling:t.lastChild;if(c&&(c===n||c.nextSibling))for(;t.insertBefore(c.cloneNode(!0),r),!(c===n||!(c=c.nextSibling)););else{Wl.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const o=Wl.content;if(s==="svg"||s==="mathml"){const a=o.firstChild;for(;a.firstChild;)o.appendChild(a.firstChild);o.removeChild(a)}t.insertBefore(o,r)}return[i?i.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},zd=Symbol("_vtc");function Kd(e,t,r){const s=e[zd];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const $l=Symbol("_vod"),Yd=Symbol("_vsh"),Gd=Symbol(""),Qd=/(^|;)\s*display\s*:/;function Jd(e,t,r){const s=e.style,c=Ge(r);let n=!1;if(r&&!c){if(t)if(Ge(t))for(const i of t.split(";")){const o=i.slice(0,i.indexOf(":")).trim();r[o]==null&&zn(s,o,"")}else for(const i in t)r[i]==null&&zn(s,i,"");for(const i in r)i==="display"&&(n=!0),zn(s,i,r[i])}else if(c){if(t!==r){const i=s[Gd];i&&(r+=";"+i),s.cssText=r,n=Qd.test(r)}}else t&&e.removeAttribute("style");$l in e&&(e[$l]=n?s.display:"",e[Yd]&&(s.display="none"))}const Hl=/\s*!important$/;function zn(e,t,r){if(Be(r))r.forEach(s=>zn(e,t,s));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const s=Xd(e,t);Hl.test(r)?e.setProperty(gr(s),r.replace(Hl,""),"important"):e[s]=r}}const ql=["Webkit","Moz","ms"],Li={};function Xd(e,t){const r=Li[t];if(r)return r;let s=Nr(t);if(s!=="filter"&&s in e)return Li[t]=s;s=Va(s);for(let c=0;c<ql.length;c++){const n=ql[c]+s;if(n in e)return Li[t]=n}return t}const Vl="http://www.w3.org/1999/xlink";function zl(e,t,r,s,c,n=Jh(t)){s&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(Vl,t.slice(6,t.length)):e.setAttributeNS(Vl,t,r):r==null||n&&!Ya(r)?e.removeAttribute(t):e.setAttribute(t,n?"":pr(r)?String(r):r)}function Zd(e,t,r,s){if(t==="innerHTML"||t==="textContent"){if(r===null)return;e[t]=r;return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){const i=c==="OPTION"?e.getAttribute("value")||"":e.value,o=r==null?"":String(r);(i!==o||!("_value"in e))&&(e.value=o),r==null&&e.removeAttribute(t),e._value=r;return}let n=!1;if(r===""||r==null){const i=typeof e[t];i==="boolean"?r=Ya(r):r==null&&i==="string"?(r="",n=!0):i==="number"&&(r=0,n=!0)}try{e[t]=r}catch{}n&&e.removeAttribute(t)}function Yr(e,t,r,s){e.addEventListener(t,r,s)}function ep(e,t,r,s){e.removeEventListener(t,r,s)}const Kl=Symbol("_vei");function tp(e,t,r,s,c=null){const n=e[Kl]||(e[Kl]={}),i=n[t];if(s&&i)i.value=s;else{const[o,a]=rp(t);if(s){const h=n[t]=op(s,c);Yr(e,o,h,a)}else i&&(ep(e,o,i,a),n[t]=void 0)}}const Yl=/(?:Once|Passive|Capture)$/;function rp(e){let t;if(Yl.test(e)){t={};let s;for(;s=e.match(Yl);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):gr(e.slice(2)),t]}let Ni=0;const np=Promise.resolve(),ip=()=>Ni||(np.then(()=>Ni=0),Ni=Date.now());function op(e,t){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;Bt(sp(s,r.value),t,5,[s])};return r.value=e,r.attached=ip(),r}function sp(e,t){if(Be(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>c=>!c._stopped&&s&&s(c))}else return t}const Gl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,lp=(e,t,r,s,c,n)=>{const i=c==="svg";t==="class"?Kd(e,s,i):t==="style"?Jd(e,r,s):ui(t)?Ls(t)||tp(e,t,r,s,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ap(e,t,s,i))?(Zd(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&zl(e,t,s,i,n,t!=="value")):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),zl(e,t,s,i))};function ap(e,t,r,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Gl(t)&&Re(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const c=e.tagName;if(c==="IMG"||c==="VIDEO"||c==="CANVAS"||c==="SOURCE")return!1}return Gl(t)&&Ge(r)?!1:t in e}const Ql=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Be(t)?r=>Wn(t,r):t};function up(e){e.target.composing=!0}function Jl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ji=Symbol("_assign"),cp={created(e,{modifiers:{lazy:t,trim:r,number:s}},c){e[ji]=Ql(c);const n=s||c.props&&c.props.type==="number";Yr(e,t?"change":"input",i=>{if(i.target.composing)return;let o=e.value;r&&(o=o.trim()),n&&(o=eo(o)),e[ji](o)}),r&&Yr(e,"change",()=>{e.value=e.value.trim()}),t||(Yr(e,"compositionstart",up),Yr(e,"compositionend",Jl),Yr(e,"change",Jl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:s,trim:c,number:n}},i){if(e[ji]=Ql(i),e.composing)return;const o=(n||e.type==="number")&&!/^0\d/.test(e.value)?eo(e.value):e.value,a=t??"";o!==a&&(document.activeElement===e&&e.type!=="range"&&(s&&t===r||c&&e.value.trim()===a)||(e.value=a))}},hp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},fp=(e,t)=>{const r=e._withKeys||(e._withKeys={}),s=t.join(".");return r[s]||(r[s]=c=>{if(!("key"in c))return;const n=gr(c.key);if(t.some(i=>i===n||hp[i]===n))return e(c)})},dp=lt({patchProp:lp},Vd);let Xl;function pp(){return Xl||(Xl=fd(dp))}const gp=(...e)=>{const t=pp().createApp(...e),{mount:r}=t;return t.mount=s=>{const c=yp(s);if(!c)return;const n=t._component;!Re(n)&&!n.render&&!n.template&&(n.template=c.innerHTML),c.innerHTML="";const i=r(c,!1,mp(c));return c instanceof Element&&(c.removeAttribute("v-cloak"),c.setAttribute("data-v-app","")),i},t};function mp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function yp(e){return Ge(e)?document.querySelector(e):e}var el=Object.defineProperty,bp=Object.getOwnPropertyDescriptor,wp=Object.getOwnPropertyNames,_p=Object.prototype.hasOwnProperty,rt=(e,t)=>()=>(e&&(t=e(e=0)),t),_e=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Dr=(e,t)=>{for(var r in t)el(e,r,{get:t[r],enumerable:!0})},vp=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let c of wp(t))!_p.call(e,c)&&c!==r&&el(e,c,{get:()=>t[c],enumerable:!(s=bp(t,c))||s.enumerable});return e},Ne=e=>vp(el({},"__esModule",{value:!0}),e),tt,pe=rt(()=>{tt={deviceMemory:8,hardwareConcurrency:8,language:"en-US"}}),Pe={};Dr(Pe,{_debugEnd:()=>Vo,_debugProcess:()=>qo,_events:()=>ss,_eventsCount:()=>ls,_exiting:()=>Ro,_fatalExceptions:()=>Wo,_getActiveHandles:()=>Xu,_getActiveRequests:()=>Ju,_kill:()=>Po,_linkedBinding:()=>Gu,_maxListeners:()=>os,_preload_modules:()=>ns,_rawDebug:()=>To,_startProfilerIdleNotifier:()=>zo,_stopProfilerIdleNotifier:()=>Ko,_tickCallback:()=>Ho,abort:()=>Jo,addListener:()=>as,allowedNodeEnvironmentFlags:()=>Fo,arch:()=>po,argv:()=>yo,argv0:()=>rs,assert:()=>Zu,binding:()=>Eo,chdir:()=>Io,config:()=>ko,cpuUsage:()=>fn,cwd:()=>Ao,debugPort:()=>ts,default:()=>rl,dlopen:()=>Qu,domain:()=>Bo,emit:()=>ds,emitWarning:()=>vo,env:()=>mo,execArgv:()=>bo,execPath:()=>es,exit:()=>No,features:()=>Do,hasUncaughtExceptionCaptureCallback:()=>ec,hrtime:()=>Kn,kill:()=>Lo,listeners:()=>rc,memoryUsage:()=>Uo,moduleLoadList:()=>Co,nextTick:()=>Ku,off:()=>cs,on:()=>Ft,once:()=>us,openStdin:()=>jo,pid:()=>Xo,platform:()=>go,ppid:()=>Zo,prependListener:()=>ps,prependOnceListener:()=>gs,reallyExit:()=>Oo,release:()=>xo,removeAllListeners:()=>fs,removeListener:()=>hs,resourceUsage:()=>Mo,setSourceMapsEnabled:()=>is,setUncaughtExceptionCaptureCallback:()=>$o,stderr:()=>Go,stdin:()=>Qo,stdout:()=>Yo,title:()=>fo,umask:()=>So,uptime:()=>tc,version:()=>wo,versions:()=>_o});function tl(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function Ep(){!Mr||!Rr||(Mr=!1,Rr.length?Lt=Rr.concat(Lt):_n=-1,Lt.length&&zu())}function zu(){if(!Mr){var e=setTimeout(Ep,0);Mr=!0;for(var t=Lt.length;t;){for(Rr=Lt,Lt=[];++_n<t;)Rr&&Rr[_n].run();_n=-1,t=Lt.length}Rr=null,Mr=!1,clearTimeout(e)}}function Ku(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Lt.push(new Yu(e,t)),Lt.length===1&&!Mr&&setTimeout(zu,0)}function Yu(e,t){this.fun=e,this.array=t}function ot(){}function Gu(e){tl("_linkedBinding")}function Qu(e){tl("dlopen")}function Ju(){return[]}function Xu(){return[]}function Zu(e,t){if(!e)throw new Error(t||"assertion error")}function ec(){return!1}function tc(){return qt.now()/1e3}function Kn(e){var t=Math.floor((Date.now()-qt.now())*.001),r=qt.now()*.001,s=Math.floor(r)+t,c=Math.floor(r%1*1e9);return e&&(s=s-e[0],c=c-e[1],c<0&&(s--,c+=Yn)),[s,c]}function Ft(){return rl}function rc(e){return[]}var Lt,Mr,Rr,_n,fo,po,go,mo,yo,bo,wo,_o,vo,Eo,So,Ao,Io,xo,To,Co,Bo,Ro,ko,Oo,Po,fn,Mo,Uo,Lo,No,jo,Fo,Do,Wo,$o,Ho,qo,Vo,zo,Ko,Yo,Go,Qo,Jo,Xo,Zo,es,ts,rs,ns,is,qt,Fi,Yn,os,ss,ls,as,us,cs,hs,fs,ds,ps,gs,rl,Sp=rt(()=>{me(),ge(),pe(),Lt=[],Mr=!1,_n=-1,Yu.prototype.run=function(){this.fun.apply(null,this.array)},fo="browser",po="x64",go="browser",mo={PATH:"/usr/bin",LANG:tt.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},yo=["/usr/bin/node"],bo=[],wo="v16.8.0",_o={},vo=function(e,t){console.warn((t?t+": ":"")+e)},Eo=function(e){tl("binding")},So=function(e){return 0},Ao=function(){return"/"},Io=function(e){},xo={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},To=ot,Co=[],Bo={},Ro=!1,ko={},Oo=ot,Po=ot,fn=function(){return{}},Mo=fn,Uo=fn,Lo=ot,No=ot,jo=ot,Fo={},Do={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Wo=ot,$o=ot,Ho=ot,qo=ot,Vo=ot,zo=ot,Ko=ot,Yo=void 0,Go=void 0,Qo=void 0,Jo=ot,Xo=2,Zo=1,es="/bin/usr/node",ts=9229,rs="node",ns=[],is=ot,qt={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},qt.now===void 0&&(Fi=Date.now(),qt.timing&&qt.timing.navigationStart&&(Fi=qt.timing.navigationStart),qt.now=()=>Date.now()-Fi),Yn=1e9,Kn.bigint=function(e){var t=Kn(e);return typeof BigInt>"u"?t[0]*Yn+t[1]:BigInt(t[0]*Yn)+BigInt(t[1])},os=10,ss={},ls=0,as=Ft,us=Ft,cs=Ft,hs=Ft,fs=Ft,ds=ot,ps=Ft,gs=Ft,rl={version:wo,versions:_o,arch:po,platform:go,release:xo,_rawDebug:To,moduleLoadList:Co,binding:Eo,_linkedBinding:Gu,_events:ss,_eventsCount:ls,_maxListeners:os,on:Ft,addListener:as,once:us,off:cs,removeListener:hs,removeAllListeners:fs,emit:ds,prependListener:ps,prependOnceListener:gs,listeners:rc,domain:Bo,_exiting:Ro,config:ko,dlopen:Qu,uptime:tc,_getActiveRequests:Ju,_getActiveHandles:Xu,reallyExit:Oo,_kill:Po,cpuUsage:fn,resourceUsage:Mo,memoryUsage:Uo,kill:Lo,exit:No,openStdin:jo,allowedNodeEnvironmentFlags:Fo,assert:Zu,features:Do,_fatalExceptions:Wo,setUncaughtExceptionCaptureCallback:$o,hasUncaughtExceptionCaptureCallback:ec,emitWarning:vo,nextTick:Ku,_tickCallback:Ho,_debugProcess:qo,_debugEnd:Vo,_startProfilerIdleNotifier:zo,_stopProfilerIdleNotifier:Ko,stdout:Yo,stdin:Qo,stderr:Go,abort:Jo,umask:So,chdir:Io,cwd:Ao,env:mo,title:fo,argv:yo,execArgv:bo,pid:Xo,ppid:Zo,execPath:es,debugPort:ts,hrtime:Kn,argv0:rs,_preload_modules:ns,setSourceMapsEnabled:is}}),ge=rt(()=>{Sp()}),nt={};Dr(nt,{Buffer:()=>ii,INSPECT_MAX_BYTES:()=>nc,default:()=>Dt,kMaxLength:()=>ic});function Ap(){if(ms)return Gr;ms=!0,Gr.byteLength=o,Gr.toByteArray=h,Gr.fromByteArray=m;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,n=s.length;c<n;++c)e[c]=s[c],t[s.charCodeAt(c)]=c;t[45]=62,t[95]=63;function i(b){var w=b.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=b.indexOf("=");v===-1&&(v=w);var R=v===w?0:4-v%4;return[v,R]}function o(b){var w=i(b),v=w[0],R=w[1];return(v+R)*3/4-R}function a(b,w,v){return(w+v)*3/4-v}function h(b){var w,v=i(b),R=v[0],F=v[1],T=new r(a(b,R,F)),I=0,V=F>0?R-4:R,z;for(z=0;z<V;z+=4)w=t[b.charCodeAt(z)]<<18|t[b.charCodeAt(z+1)]<<12|t[b.charCodeAt(z+2)]<<6|t[b.charCodeAt(z+3)],T[I++]=w>>16&255,T[I++]=w>>8&255,T[I++]=w&255;return F===2&&(w=t[b.charCodeAt(z)]<<2|t[b.charCodeAt(z+1)]>>4,T[I++]=w&255),F===1&&(w=t[b.charCodeAt(z)]<<10|t[b.charCodeAt(z+1)]<<4|t[b.charCodeAt(z+2)]>>2,T[I++]=w>>8&255,T[I++]=w&255),T}function d(b){return e[b>>18&63]+e[b>>12&63]+e[b>>6&63]+e[b&63]}function g(b,w,v){for(var R,F=[],T=w;T<v;T+=3)R=(b[T]<<16&16711680)+(b[T+1]<<8&65280)+(b[T+2]&255),F.push(d(R));return F.join("")}function m(b){for(var w,v=b.length,R=v%3,F=[],T=16383,I=0,V=v-R;I<V;I+=T)F.push(g(b,I,I+T>V?V:I+T));return R===1?(w=b[v-1],F.push(e[w>>2]+e[w<<4&63]+"==")):R===2&&(w=(b[v-2]<<8)+b[v-1],F.push(e[w>>10]+e[w>>4&63]+e[w<<2&63]+"=")),F.join("")}return Gr}function Ip(){return ys?dn:(ys=!0,dn.read=function(e,t,r,s,c){var n,i,o=c*8-s-1,a=(1<<o)-1,h=a>>1,d=-7,g=r?c-1:0,m=r?-1:1,b=e[t+g];for(g+=m,n=b&(1<<-d)-1,b>>=-d,d+=o;d>0;n=n*256+e[t+g],g+=m,d-=8);for(i=n&(1<<-d)-1,n>>=-d,d+=s;d>0;i=i*256+e[t+g],g+=m,d-=8);if(n===0)n=1-h;else{if(n===a)return i?NaN:(b?-1:1)*(1/0);i=i+Math.pow(2,s),n=n-h}return(b?-1:1)*i*Math.pow(2,n-s)},dn.write=function(e,t,r,s,c,n){var i,o,a,h=n*8-c-1,d=(1<<h)-1,g=d>>1,m=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=s?0:n-1,w=s?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-i))<1&&(i--,a*=2),i+g>=1?t+=m/a:t+=m*Math.pow(2,1-g),t*a>=2&&(i++,a/=2),i+g>=d?(o=0,i=d):i+g>=1?(o=(t*a-1)*Math.pow(2,c),i=i+g):(o=t*Math.pow(2,g-1)*Math.pow(2,c),i=0));c>=8;e[r+b]=o&255,b+=w,o/=256,c-=8);for(i=i<<c|o,h+=c;h>0;e[r+b]=i&255,b+=w,i/=256,h-=8);e[r+b-w]|=v*128},dn)}function xp(){if(bs)return nr;bs=!0;let e=Ap(),t=Ip(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;nr.Buffer=i,nr.SlowBuffer=F,nr.INSPECT_MAX_BYTES=50;let s=2147483647;nr.kMaxLength=s,i.TYPED_ARRAY_SUPPORT=c(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{let p=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(p,u),p.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function n(p){if(p>s)throw new RangeError('The value "'+p+'" is invalid for option "size"');let u=new Uint8Array(p);return Object.setPrototypeOf(u,i.prototype),u}function i(p,u,l){if(typeof p=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(p)}return o(p,u,l)}i.poolSize=8192;function o(p,u,l){if(typeof p=="string")return g(p,u);if(ArrayBuffer.isView(p))return b(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(W(p,ArrayBuffer)||p&&W(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(W(p,SharedArrayBuffer)||p&&W(p.buffer,SharedArrayBuffer)))return w(p,u,l);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let f=p.valueOf&&p.valueOf();if(f!=null&&f!==p)return i.from(f,u,l);let y=v(p);if(y)return y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return i.from(p[Symbol.toPrimitive]("string"),u,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}i.from=function(p,u,l){return o(p,u,l)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function a(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function h(p,u,l){return a(p),p<=0?n(p):u!==void 0?typeof l=="string"?n(p).fill(u,l):n(p).fill(u):n(p)}i.alloc=function(p,u,l){return h(p,u,l)};function d(p){return a(p),n(p<0?0:R(p)|0)}i.allocUnsafe=function(p){return d(p)},i.allocUnsafeSlow=function(p){return d(p)};function g(p,u){if((typeof u!="string"||u==="")&&(u="utf8"),!i.isEncoding(u))throw new TypeError("Unknown encoding: "+u);let l=T(p,u)|0,f=n(l),y=f.write(p,u);return y!==l&&(f=f.slice(0,y)),f}function m(p){let u=p.length<0?0:R(p.length)|0,l=n(u);for(let f=0;f<u;f+=1)l[f]=p[f]&255;return l}function b(p){if(W(p,Uint8Array)){let u=new Uint8Array(p);return w(u.buffer,u.byteOffset,u.byteLength)}return m(p)}function w(p,u,l){if(u<0||p.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<u+(l||0))throw new RangeError('"length" is outside of buffer bounds');let f;return u===void 0&&l===void 0?f=new Uint8Array(p):l===void 0?f=new Uint8Array(p,u):f=new Uint8Array(p,u,l),Object.setPrototypeOf(f,i.prototype),f}function v(p){if(i.isBuffer(p)){let u=R(p.length)|0,l=n(u);return l.length===0||p.copy(l,0,0,u),l}if(p.length!==void 0)return typeof p.length!="number"||A(p.length)?n(0):m(p);if(p.type==="Buffer"&&Array.isArray(p.data))return m(p.data)}function R(p){if(p>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return p|0}function F(p){return+p!=p&&(p=0),i.alloc(+p)}i.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==i.prototype},i.compare=function(p,u){if(W(p,Uint8Array)&&(p=i.from(p,p.offset,p.byteLength)),W(u,Uint8Array)&&(u=i.from(u,u.offset,u.byteLength)),!i.isBuffer(p)||!i.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===u)return 0;let l=p.length,f=u.length;for(let y=0,_=Math.min(l,f);y<_;++y)if(p[y]!==u[y]){l=p[y],f=u[y];break}return l<f?-1:f<l?1:0},i.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(p,u){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return i.alloc(0);let l;if(u===void 0)for(u=0,l=0;l<p.length;++l)u+=p[l].length;let f=i.allocUnsafe(u),y=0;for(l=0;l<p.length;++l){let _=p[l];if(W(_,Uint8Array))y+_.length>f.length?(i.isBuffer(_)||(_=i.from(_)),_.copy(f,y)):Uint8Array.prototype.set.call(f,_,y);else if(i.isBuffer(_))_.copy(f,y);else throw new TypeError('"list" argument must be an Array of Buffers');y+=_.length}return f};function T(p,u){if(i.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||W(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);let l=p.length,f=arguments.length>2&&arguments[2]===!0;if(!f&&l===0)return 0;let y=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return O(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return Y(p).length;default:if(y)return f?-1:O(p).length;u=(""+u).toLowerCase(),y=!0}}i.byteLength=T;function I(p,u,l){let f=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,u>>>=0,l<=u))return"";for(p||(p="utf8");;)switch(p){case"hex":return G(this,u,l);case"utf8":case"utf-8":return J(this,u,l);case"ascii":return ce(this,u,l);case"latin1":case"binary":return ie(this,u,l);case"base64":return U(this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,u,l);default:if(f)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),f=!0}}i.prototype._isBuffer=!0;function V(p,u,l){let f=p[u];p[u]=p[l],p[l]=f}i.prototype.swap16=function(){let p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<p;u+=2)V(this,u,u+1);return this},i.prototype.swap32=function(){let p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<p;u+=4)V(this,u,u+3),V(this,u+1,u+2);return this},i.prototype.swap64=function(){let p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<p;u+=8)V(this,u,u+7),V(this,u+1,u+6),V(this,u+2,u+5),V(this,u+3,u+4);return this},i.prototype.toString=function(){let p=this.length;return p===0?"":arguments.length===0?J(this,0,p):I.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(p){if(!i.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:i.compare(this,p)===0},i.prototype.inspect=function(){let p="",u=nr.INSPECT_MAX_BYTES;return p=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(p+=" ... "),"<Buffer "+p+">"},r&&(i.prototype[r]=i.prototype.inspect),i.prototype.compare=function(p,u,l,f,y){if(W(p,Uint8Array)&&(p=i.from(p,p.offset,p.byteLength)),!i.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(u===void 0&&(u=0),l===void 0&&(l=p?p.length:0),f===void 0&&(f=0),y===void 0&&(y=this.length),u<0||l>p.length||f<0||y>this.length)throw new RangeError("out of range index");if(f>=y&&u>=l)return 0;if(f>=y)return-1;if(u>=l)return 1;if(u>>>=0,l>>>=0,f>>>=0,y>>>=0,this===p)return 0;let _=y-f,L=l-u,Z=Math.min(_,L),Ee=this.slice(f,y),xe=p.slice(u,l);for(let ve=0;ve<Z;++ve)if(Ee[ve]!==xe[ve]){_=Ee[ve],L=xe[ve];break}return _<L?-1:L<_?1:0};function z(p,u,l,f,y){if(p.length===0)return-1;if(typeof l=="string"?(f=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,A(l)&&(l=y?0:p.length-1),l<0&&(l=p.length+l),l>=p.length){if(y)return-1;l=p.length-1}else if(l<0)if(y)l=0;else return-1;if(typeof u=="string"&&(u=i.from(u,f)),i.isBuffer(u))return u.length===0?-1:P(p,u,l,f,y);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?y?Uint8Array.prototype.indexOf.call(p,u,l):Uint8Array.prototype.lastIndexOf.call(p,u,l):P(p,[u],l,f,y);throw new TypeError("val must be string, number or Buffer")}function P(p,u,l,f,y){let _=1,L=p.length,Z=u.length;if(f!==void 0&&(f=String(f).toLowerCase(),f==="ucs2"||f==="ucs-2"||f==="utf16le"||f==="utf-16le")){if(p.length<2||u.length<2)return-1;_=2,L/=2,Z/=2,l/=2}function Ee(ve,Ie){return _===1?ve[Ie]:ve.readUInt16BE(Ie*_)}let xe;if(y){let ve=-1;for(xe=l;xe<L;xe++)if(Ee(p,xe)===Ee(u,ve===-1?0:xe-ve)){if(ve===-1&&(ve=xe),xe-ve+1===Z)return ve*_}else ve!==-1&&(xe-=xe-ve),ve=-1}else for(l+Z>L&&(l=L-Z),xe=l;xe>=0;xe--){let ve=!0;for(let Ie=0;Ie<Z;Ie++)if(Ee(p,xe+Ie)!==Ee(u,Ie)){ve=!1;break}if(ve)return xe}return-1}i.prototype.includes=function(p,u,l){return this.indexOf(p,u,l)!==-1},i.prototype.indexOf=function(p,u,l){return z(this,p,u,l,!0)},i.prototype.lastIndexOf=function(p,u,l){return z(this,p,u,l,!1)};function N(p,u,l,f){l=Number(l)||0;let y=p.length-l;f?(f=Number(f),f>y&&(f=y)):f=y;let _=u.length;f>_/2&&(f=_/2);let L;for(L=0;L<f;++L){let Z=parseInt(u.substr(L*2,2),16);if(A(Z))return L;p[l+L]=Z}return L}function H(p,u,l,f){return C(O(u,p.length-l),p,l,f)}function Q(p,u,l,f){return C(k(u),p,l,f)}function ne(p,u,l,f){return C(Y(u),p,l,f)}function le(p,u,l,f){return C(K(u,p.length-l),p,l,f)}i.prototype.write=function(p,u,l,f){if(u===void 0)f="utf8",l=this.length,u=0;else if(l===void 0&&typeof u=="string")f=u,l=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(l)?(l=l>>>0,f===void 0&&(f="utf8")):(f=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let y=this.length-u;if((l===void 0||l>y)&&(l=y),p.length>0&&(l<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");let _=!1;for(;;)switch(f){case"hex":return N(this,p,u,l);case"utf8":case"utf-8":return H(this,p,u,l);case"ascii":case"latin1":case"binary":return Q(this,p,u,l);case"base64":return ne(this,p,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,p,u,l);default:if(_)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase(),_=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(p,u,l){return u===0&&l===p.length?e.fromByteArray(p):e.fromByteArray(p.slice(u,l))}function J(p,u,l){l=Math.min(p.length,l);let f=[],y=u;for(;y<l;){let _=p[y],L=null,Z=_>239?4:_>223?3:_>191?2:1;if(y+Z<=l){let Ee,xe,ve,Ie;switch(Z){case 1:_<128&&(L=_);break;case 2:Ee=p[y+1],(Ee&192)===128&&(Ie=(_&31)<<6|Ee&63,Ie>127&&(L=Ie));break;case 3:Ee=p[y+1],xe=p[y+2],(Ee&192)===128&&(xe&192)===128&&(Ie=(_&15)<<12|(Ee&63)<<6|xe&63,Ie>2047&&(Ie<55296||Ie>57343)&&(L=Ie));break;case 4:Ee=p[y+1],xe=p[y+2],ve=p[y+3],(Ee&192)===128&&(xe&192)===128&&(ve&192)===128&&(Ie=(_&15)<<18|(Ee&63)<<12|(xe&63)<<6|ve&63,Ie>65535&&Ie<1114112&&(L=Ie))}}L===null?(L=65533,Z=1):L>65535&&(L-=65536,f.push(L>>>10&1023|55296),L=56320|L&1023),f.push(L),y+=Z}return te(f)}let se=4096;function te(p){let u=p.length;if(u<=se)return String.fromCharCode.apply(String,p);let l="",f=0;for(;f<u;)l+=String.fromCharCode.apply(String,p.slice(f,f+=se));return l}function ce(p,u,l){let f="";l=Math.min(p.length,l);for(let y=u;y<l;++y)f+=String.fromCharCode(p[y]&127);return f}function ie(p,u,l){let f="";l=Math.min(p.length,l);for(let y=u;y<l;++y)f+=String.fromCharCode(p[y]);return f}function G(p,u,l){let f=p.length;(!u||u<0)&&(u=0),(!l||l<0||l>f)&&(l=f);let y="";for(let _=u;_<l;++_)y+=j[p[_]];return y}function be(p,u,l){let f=p.slice(u,l),y="";for(let _=0;_<f.length-1;_+=2)y+=String.fromCharCode(f[_]+f[_+1]*256);return y}i.prototype.slice=function(p,u){let l=this.length;p=~~p,u=u===void 0?l:~~u,p<0?(p+=l,p<0&&(p=0)):p>l&&(p=l),u<0?(u+=l,u<0&&(u=0)):u>l&&(u=l),u<p&&(u=p);let f=this.subarray(p,u);return Object.setPrototypeOf(f,i.prototype),f};function ue(p,u,l){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+u>l)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(p,u,l){p=p>>>0,u=u>>>0,l||ue(p,u,this.length);let f=this[p],y=1,_=0;for(;++_<u&&(y*=256);)f+=this[p+_]*y;return f},i.prototype.readUintBE=i.prototype.readUIntBE=function(p,u,l){p=p>>>0,u=u>>>0,l||ue(p,u,this.length);let f=this[p+--u],y=1;for(;u>0&&(y*=256);)f+=this[p+--u]*y;return f},i.prototype.readUint8=i.prototype.readUInt8=function(p,u){return p=p>>>0,u||ue(p,1,this.length),this[p]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(p,u){return p=p>>>0,u||ue(p,2,this.length),this[p]|this[p+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(p,u){return p=p>>>0,u||ue(p,2,this.length),this[p]<<8|this[p+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(p,u){return p=p>>>0,u||ue(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(p,u){return p=p>>>0,u||ue(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},i.prototype.readBigUInt64LE=q(function(p){p=p>>>0,oe(p,"offset");let u=this[p],l=this[p+7];(u===void 0||l===void 0)&&x(p,this.length-8);let f=u+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,y=this[++p]+this[++p]*2**8+this[++p]*2**16+l*2**24;return BigInt(f)+(BigInt(y)<<BigInt(32))}),i.prototype.readBigUInt64BE=q(function(p){p=p>>>0,oe(p,"offset");let u=this[p],l=this[p+7];(u===void 0||l===void 0)&&x(p,this.length-8);let f=u*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],y=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+l;return(BigInt(f)<<BigInt(32))+BigInt(y)}),i.prototype.readIntLE=function(p,u,l){p=p>>>0,u=u>>>0,l||ue(p,u,this.length);let f=this[p],y=1,_=0;for(;++_<u&&(y*=256);)f+=this[p+_]*y;return y*=128,f>=y&&(f-=Math.pow(2,8*u)),f},i.prototype.readIntBE=function(p,u,l){p=p>>>0,u=u>>>0,l||ue(p,u,this.length);let f=u,y=1,_=this[p+--f];for(;f>0&&(y*=256);)_+=this[p+--f]*y;return y*=128,_>=y&&(_-=Math.pow(2,8*u)),_},i.prototype.readInt8=function(p,u){return p=p>>>0,u||ue(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},i.prototype.readInt16LE=function(p,u){p=p>>>0,u||ue(p,2,this.length);let l=this[p]|this[p+1]<<8;return l&32768?l|4294901760:l},i.prototype.readInt16BE=function(p,u){p=p>>>0,u||ue(p,2,this.length);let l=this[p+1]|this[p]<<8;return l&32768?l|4294901760:l},i.prototype.readInt32LE=function(p,u){return p=p>>>0,u||ue(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},i.prototype.readInt32BE=function(p,u){return p=p>>>0,u||ue(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},i.prototype.readBigInt64LE=q(function(p){p=p>>>0,oe(p,"offset");let u=this[p],l=this[p+7];(u===void 0||l===void 0)&&x(p,this.length-8);let f=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+(l<<24);return(BigInt(f)<<BigInt(32))+BigInt(u+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),i.prototype.readBigInt64BE=q(function(p){p=p>>>0,oe(p,"offset");let u=this[p],l=this[p+7];(u===void 0||l===void 0)&&x(p,this.length-8);let f=(u<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(f)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+l)}),i.prototype.readFloatLE=function(p,u){return p=p>>>0,u||ue(p,4,this.length),t.read(this,p,!0,23,4)},i.prototype.readFloatBE=function(p,u){return p=p>>>0,u||ue(p,4,this.length),t.read(this,p,!1,23,4)},i.prototype.readDoubleLE=function(p,u){return p=p>>>0,u||ue(p,8,this.length),t.read(this,p,!0,52,8)},i.prototype.readDoubleBE=function(p,u){return p=p>>>0,u||ue(p,8,this.length),t.read(this,p,!1,52,8)};function ye(p,u,l,f,y,_){if(!i.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>y||u<_)throw new RangeError('"value" argument is out of bounds');if(l+f>p.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(p,u,l,f){if(p=+p,u=u>>>0,l=l>>>0,!f){let L=Math.pow(2,8*l)-1;ye(this,p,u,l,L,0)}let y=1,_=0;for(this[u]=p&255;++_<l&&(y*=256);)this[u+_]=p/y&255;return u+l},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(p,u,l,f){if(p=+p,u=u>>>0,l=l>>>0,!f){let L=Math.pow(2,8*l)-1;ye(this,p,u,l,L,0)}let y=l-1,_=1;for(this[u+y]=p&255;--y>=0&&(_*=256);)this[u+y]=p/_&255;return u+l},i.prototype.writeUint8=i.prototype.writeUInt8=function(p,u,l){return p=+p,u=u>>>0,l||ye(this,p,u,1,255,0),this[u]=p&255,u+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(p,u,l){return p=+p,u=u>>>0,l||ye(this,p,u,2,65535,0),this[u]=p&255,this[u+1]=p>>>8,u+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(p,u,l){return p=+p,u=u>>>0,l||ye(this,p,u,2,65535,0),this[u]=p>>>8,this[u+1]=p&255,u+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(p,u,l){return p=+p,u=u>>>0,l||ye(this,p,u,4,4294967295,0),this[u+3]=p>>>24,this[u+2]=p>>>16,this[u+1]=p>>>8,this[u]=p&255,u+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(p,u,l){return p=+p,u=u>>>0,l||ye(this,p,u,4,4294967295,0),this[u]=p>>>24,this[u+1]=p>>>16,this[u+2]=p>>>8,this[u+3]=p&255,u+4};function S(p,u,l,f,y){ae(u,f,y,p,l,7);let _=Number(u&BigInt(4294967295));p[l++]=_,_=_>>8,p[l++]=_,_=_>>8,p[l++]=_,_=_>>8,p[l++]=_;let L=Number(u>>BigInt(32)&BigInt(4294967295));return p[l++]=L,L=L>>8,p[l++]=L,L=L>>8,p[l++]=L,L=L>>8,p[l++]=L,l}function re(p,u,l,f,y){ae(u,f,y,p,l,7);let _=Number(u&BigInt(4294967295));p[l+7]=_,_=_>>8,p[l+6]=_,_=_>>8,p[l+5]=_,_=_>>8,p[l+4]=_;let L=Number(u>>BigInt(32)&BigInt(4294967295));return p[l+3]=L,L=L>>8,p[l+2]=L,L=L>>8,p[l+1]=L,L=L>>8,p[l]=L,l+8}i.prototype.writeBigUInt64LE=q(function(p,u=0){return S(this,p,u,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=q(function(p,u=0){return re(this,p,u,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(p,u,l,f){if(p=+p,u=u>>>0,!f){let Z=Math.pow(2,8*l-1);ye(this,p,u,l,Z-1,-Z)}let y=0,_=1,L=0;for(this[u]=p&255;++y<l&&(_*=256);)p<0&&L===0&&this[u+y-1]!==0&&(L=1),this[u+y]=(p/_>>0)-L&255;return u+l},i.prototype.writeIntBE=function(p,u,l,f){if(p=+p,u=u>>>0,!f){let Z=Math.pow(2,8*l-1);ye(this,p,u,l,Z-1,-Z)}let y=l-1,_=1,L=0;for(this[u+y]=p&255;--y>=0&&(_*=256);)p<0&&L===0&&this[u+y+1]!==0&&(L=1),this[u+y]=(p/_>>0)-L&255;return u+l},i.prototype.writeInt8=function(p,u,l){return p=+p,u=u>>>0,l||ye(this,p,u,1,127,-128),p<0&&(p=255+p+1),this[u]=p&255,u+1},i.prototype.writeInt16LE=function(p,u,l){return p=+p,u=u>>>0,l||ye(this,p,u,2,32767,-32768),this[u]=p&255,this[u+1]=p>>>8,u+2},i.prototype.writeInt16BE=function(p,u,l){return p=+p,u=u>>>0,l||ye(this,p,u,2,32767,-32768),this[u]=p>>>8,this[u+1]=p&255,u+2},i.prototype.writeInt32LE=function(p,u,l){return p=+p,u=u>>>0,l||ye(this,p,u,4,2147483647,-2147483648),this[u]=p&255,this[u+1]=p>>>8,this[u+2]=p>>>16,this[u+3]=p>>>24,u+4},i.prototype.writeInt32BE=function(p,u,l){return p=+p,u=u>>>0,l||ye(this,p,u,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[u]=p>>>24,this[u+1]=p>>>16,this[u+2]=p>>>8,this[u+3]=p&255,u+4},i.prototype.writeBigInt64LE=q(function(p,u=0){return S(this,p,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=q(function(p,u=0){return re(this,p,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function de(p,u,l,f,y,_){if(l+f>p.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function Se(p,u,l,f,y){return u=+u,l=l>>>0,y||de(p,u,l,4),t.write(p,u,l,f,23,4),l+4}i.prototype.writeFloatLE=function(p,u,l){return Se(this,p,u,!0,l)},i.prototype.writeFloatBE=function(p,u,l){return Se(this,p,u,!1,l)};function he(p,u,l,f,y){return u=+u,l=l>>>0,y||de(p,u,l,8),t.write(p,u,l,f,52,8),l+8}i.prototype.writeDoubleLE=function(p,u,l){return he(this,p,u,!0,l)},i.prototype.writeDoubleBE=function(p,u,l){return he(this,p,u,!1,l)},i.prototype.copy=function(p,u,l,f){if(!i.isBuffer(p))throw new TypeError("argument should be a Buffer");if(l||(l=0),!f&&f!==0&&(f=this.length),u>=p.length&&(u=p.length),u||(u=0),f>0&&f<l&&(f=l),f===l||p.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length),p.length-u<f-l&&(f=p.length-u+l);let y=f-l;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,l,f):Uint8Array.prototype.set.call(p,this.subarray(l,f),u),y},i.prototype.fill=function(p,u,l,f){if(typeof p=="string"){if(typeof u=="string"?(f=u,u=0,l=this.length):typeof l=="string"&&(f=l,l=this.length),f!==void 0&&typeof f!="string")throw new TypeError("encoding must be a string");if(typeof f=="string"&&!i.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(p.length===1){let _=p.charCodeAt(0);(f==="utf8"&&_<128||f==="latin1")&&(p=_)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(u<0||this.length<u||this.length<l)throw new RangeError("Out of range index");if(l<=u)return this;u=u>>>0,l=l===void 0?this.length:l>>>0,p||(p=0);let y;if(typeof p=="number")for(y=u;y<l;++y)this[y]=p;else{let _=i.isBuffer(p)?p:i.from(p,f),L=_.length;if(L===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(y=0;y<l-u;++y)this[y+u]=_[y%L]}return this};let D={};function M(p,u,l){D[p]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(f){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:f,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}M("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),M("ERR_INVALID_ARG_TYPE",function(p,u){return`The "${p}" argument must be of type number. Received type ${typeof u}`},TypeError),M("ERR_OUT_OF_RANGE",function(p,u,l){let f=`The value of "${p}" is out of range.`,y=l;return Number.isInteger(l)&&Math.abs(l)>2**32?y=ee(String(l)):typeof l=="bigint"&&(y=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(y=ee(y)),y+="n"),f+=` It must be ${u}. Received ${y}`,f},RangeError);function ee(p){let u="",l=p.length,f=p[0]==="-"?1:0;for(;l>=f+4;l-=3)u=`_${p.slice(l-3,l)}${u}`;return`${p.slice(0,l)}${u}`}function fe(p,u,l){oe(u,"offset"),(p[u]===void 0||p[u+l]===void 0)&&x(u,p.length-(l+1))}function ae(p,u,l,f,y,_){if(p>l||p<u){let L=typeof u=="bigint"?"n":"",Z;throw u===0||u===BigInt(0)?Z=`>= 0${L} and < 2${L} ** ${(_+1)*8}${L}`:Z=`>= -(2${L} ** ${(_+1)*8-1}${L}) and < 2 ** ${(_+1)*8-1}${L}`,new D.ERR_OUT_OF_RANGE("value",Z,p)}fe(f,y,_)}function oe(p,u){if(typeof p!="number")throw new D.ERR_INVALID_ARG_TYPE(u,"number",p)}function x(p,u,l){throw Math.floor(p)!==p?(oe(p,l),new D.ERR_OUT_OF_RANGE("offset","an integer",p)):u<0?new D.ERR_BUFFER_OUT_OF_BOUNDS:new D.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u}`,p)}let B=/[^+/0-9A-Za-z-_]/g;function E(p){if(p=p.split("=")[0],p=p.trim().replace(B,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function O(p,u){u=u||1/0;let l,f=p.length,y=null,_=[];for(let L=0;L<f;++L){if(l=p.charCodeAt(L),l>55295&&l<57344){if(!y){if(l>56319){(u-=3)>-1&&_.push(239,191,189);continue}else if(L+1===f){(u-=3)>-1&&_.push(239,191,189);continue}y=l;continue}if(l<56320){(u-=3)>-1&&_.push(239,191,189),y=l;continue}l=(y-55296<<10|l-56320)+65536}else y&&(u-=3)>-1&&_.push(239,191,189);if(y=null,l<128){if((u-=1)<0)break;_.push(l)}else if(l<2048){if((u-=2)<0)break;_.push(l>>6|192,l&63|128)}else if(l<65536){if((u-=3)<0)break;_.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((u-=4)<0)break;_.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return _}function k(p){let u=[];for(let l=0;l<p.length;++l)u.push(p.charCodeAt(l)&255);return u}function K(p,u){let l,f,y,_=[];for(let L=0;L<p.length&&!((u-=2)<0);++L)l=p.charCodeAt(L),f=l>>8,y=l%256,_.push(y),_.push(f);return _}function Y(p){return e.toByteArray(E(p))}function C(p,u,l,f){let y;for(y=0;y<f&&!(y+l>=u.length||y>=p.length);++y)u[y+l]=p[y];return y}function W(p,u){return p instanceof u||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===u.name}function A(p){return p!==p}let j=function(){let p="0123456789abcdef",u=new Array(256);for(let l=0;l<16;++l){let f=l*16;for(let y=0;y<16;++y)u[f+y]=p[l]+p[y]}return u}();function q(p){return typeof BigInt>"u"?X:p}function X(){throw new Error("BigInt not supported")}return nr}var Gr,ms,dn,ys,nr,bs,Dt,ii,nc,ic,it=rt(()=>{me(),ge(),pe(),Gr={},ms=!1,dn={},ys=!1,nr={},bs=!1,Dt=xp(),Dt.Buffer,Dt.SlowBuffer,Dt.INSPECT_MAX_BYTES,Dt.kMaxLength,ii=Dt.Buffer,nc=Dt.INSPECT_MAX_BYTES,ic=Dt.kMaxLength}),me=rt(()=>{it()}),Tp=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(r){this.aliasToTopic={},this.max=r}put(r,s){return s===0||s>this.max?!1:(this.aliasToTopic[s]=r,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(r){return this.aliasToTopic[r]}clear(){this.aliasToTopic={}}};e.default=t}),Qe=_e((e,t)=>{me(),ge(),pe(),t.exports={ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,s){return r.includes(s)},ArrayPrototypeIndexOf(r,s){return r.indexOf(s)},ArrayPrototypeJoin(r,s){return r.join(s)},ArrayPrototypeMap(r,s){return r.map(s)},ArrayPrototypePop(r,s){return r.pop(s)},ArrayPrototypePush(r,s){return r.push(s)},ArrayPrototypeSlice(r,s,c){return r.slice(s,c)},Error,FunctionPrototypeCall(r,s,...c){return r.call(s,...c)},FunctionPrototypeSymbolHasInstance(r,s){return Function.prototype[Symbol.hasInstance].call(r,s)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,s){return Object.defineProperties(r,s)},ObjectDefineProperty(r,s,c){return Object.defineProperty(r,s,c)},ObjectGetOwnPropertyDescriptor(r,s){return Object.getOwnPropertyDescriptor(r,s)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,s){return Object.setPrototypeOf(r,s)},Promise,PromisePrototypeCatch(r,s){return r.catch(s)},PromisePrototypeThen(r,s,c){return r.then(s,c)},PromiseReject(r){return Promise.reject(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,s){return r.test(s)},SafeSet:Set,String,StringPrototypeSlice(r,s,c){return r.slice(s,c)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(r,s,c){return r.set(s,c)},Uint8Array}}),Gt=_e((e,t)=>{me(),ge(),pe();var r=(it(),Ne(nt)),s=Object.getPrototypeOf(async function(){}).constructor,c=globalThis.Blob||r.Blob,n=typeof c<"u"?function(o){return o instanceof c}:function(o){return!1},i=class extends Error{constructor(o){if(!Array.isArray(o))throw new TypeError(`Expected input to be an Array, got ${typeof o}`);let a="";for(let h=0;h<o.length;h++)a+=`    ${o[h].stack}
`;super(a),this.name="AggregateError",this.errors=o}};t.exports={AggregateError:i,kEmptyObject:Object.freeze({}),once(o){let a=!1;return function(...h){a||(a=!0,o.apply(this,h))}},createDeferredPromise:function(){let o,a;return{promise:new Promise((h,d)=>{o=h,a=d}),resolve:o,reject:a}},promisify(o){return new Promise((a,h)=>{o((d,...g)=>d?h(d):a(...g))})},debuglog(){return function(){}},format(o,...a){return o.replace(/%([sdifj])/g,function(...[h,d]){let g=a.shift();return d==="f"?g.toFixed(6):d==="j"?JSON.stringify(g):d==="s"&&typeof g=="object"?`${g.constructor!==Object?g.constructor.name:""} {}`.trim():g.toString()})},inspect(o){switch(typeof o){case"string":if(o.includes("'"))if(o.includes('"')){if(!o.includes("`")&&!o.includes("${"))return`\`${o}\``}else return`"${o}"`;return`'${o}'`;case"number":return isNaN(o)?"NaN":Object.is(o,-0)?String(o):o;case"bigint":return`${String(o)}n`;case"boolean":case"undefined":return String(o);case"object":return"{}"}},types:{isAsyncFunction(o){return o instanceof s},isArrayBufferView(o){return ArrayBuffer.isView(o)}},isBlob:n},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),nl=_e((e,t)=>{me(),ge(),pe();var{AbortController:r,AbortSignal:s}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=r,t.exports.AbortSignal=s,t.exports.default=r}),gt=_e((e,t)=>{me(),ge(),pe();var{format:r,inspect:s,AggregateError:c}=Gt(),n=globalThis.AggregateError||c,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],a=/^([A-Z][a-z0-9]*)+$/,h="__node_internal_",d={};function g(T,I){if(!T)throw new d.ERR_INTERNAL_ASSERTION(I)}function m(T){let I="",V=T.length,z=T[0]==="-"?1:0;for(;V>=z+4;V-=3)I=`_${T.slice(V-3,V)}${I}`;return`${T.slice(0,V)}${I}`}function b(T,I,V){if(typeof I=="function")return g(I.length<=V.length,`Code: ${T}; The provided arguments length (${V.length}) does not match the required ones (${I.length}).`),I(...V);let z=(I.match(/%[dfijoOs]/g)||[]).length;return g(z===V.length,`Code: ${T}; The provided arguments length (${V.length}) does not match the required ones (${z}).`),V.length===0?I:r(I,...V)}function w(T,I,V){V||(V=Error);class z extends V{constructor(...N){super(b(T,I,N))}toString(){return`${this.name} [${T}]: ${this.message}`}}Object.defineProperties(z.prototype,{name:{value:V.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${T}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),z.prototype.code=T,z.prototype[i]=!0,d[T]=z}function v(T){let I=h+T.name;return Object.defineProperty(T,"name",{value:I}),T}function R(T,I){if(T&&I&&T!==I){if(Array.isArray(I.errors))return I.errors.push(T),I;let V=new n([I,T],I.message);return V.code=I.code,V}return T||I}var F=class extends Error{constructor(T="The operation was aborted",I=void 0){if(I!==void 0&&typeof I!="object")throw new d.ERR_INVALID_ARG_TYPE("options","Object",I);super(T,I),this.code="ABORT_ERR",this.name="AbortError"}};w("ERR_ASSERTION","%s",Error),w("ERR_INVALID_ARG_TYPE",(T,I,V)=>{g(typeof T=="string","'name' must be a string"),Array.isArray(I)||(I=[I]);let z="The ";T.endsWith(" argument")?z+=`${T} `:z+=`"${T}" ${T.includes(".")?"property":"argument"} `,z+="must be ";let P=[],N=[],H=[];for(let ne of I)g(typeof ne=="string","All expected entries have to be of type string"),o.includes(ne)?P.push(ne.toLowerCase()):a.test(ne)?N.push(ne):(g(ne!=="object",'The value "object" should be written as "Object"'),H.push(ne));if(N.length>0){let ne=P.indexOf("object");ne!==-1&&(P.splice(P,ne,1),N.push("Object"))}if(P.length>0){switch(P.length){case 1:z+=`of type ${P[0]}`;break;case 2:z+=`one of type ${P[0]} or ${P[1]}`;break;default:{let ne=P.pop();z+=`one of type ${P.join(", ")}, or ${ne}`}}(N.length>0||H.length>0)&&(z+=" or ")}if(N.length>0){switch(N.length){case 1:z+=`an instance of ${N[0]}`;break;case 2:z+=`an instance of ${N[0]} or ${N[1]}`;break;default:{let ne=N.pop();z+=`an instance of ${N.join(", ")}, or ${ne}`}}H.length>0&&(z+=" or ")}switch(H.length){case 0:break;case 1:H[0].toLowerCase()!==H[0]&&(z+="an "),z+=`${H[0]}`;break;case 2:z+=`one of ${H[0]} or ${H[1]}`;break;default:{let ne=H.pop();z+=`one of ${H.join(", ")}, or ${ne}`}}if(V==null)z+=`. Received ${V}`;else if(typeof V=="function"&&V.name)z+=`. Received function ${V.name}`;else if(typeof V=="object"){var Q;if((Q=V.constructor)!==null&&Q!==void 0&&Q.name)z+=`. Received an instance of ${V.constructor.name}`;else{let ne=s(V,{depth:-1});z+=`. Received ${ne}`}}else{let ne=s(V,{colors:!1});ne.length>25&&(ne=`${ne.slice(0,25)}...`),z+=`. Received type ${typeof V} (${ne})`}return z},TypeError),w("ERR_INVALID_ARG_VALUE",(T,I,V="is invalid")=>{let z=s(I);return z.length>128&&(z=z.slice(0,128)+"..."),`The ${T.includes(".")?"property":"argument"} '${T}' ${V}. Received ${z}`},TypeError),w("ERR_INVALID_RETURN_VALUE",(T,I,V)=>{var z;let P=V!=null&&(z=V.constructor)!==null&&z!==void 0&&z.name?`instance of ${V.constructor.name}`:`type ${typeof V}`;return`Expected ${T} to be returned from the "${I}" function but got ${P}.`},TypeError),w("ERR_MISSING_ARGS",(...T)=>{g(T.length>0,"At least one arg needs to be specified");let I,V=T.length;switch(T=(Array.isArray(T)?T:[T]).map(z=>`"${z}"`).join(" or "),V){case 1:I+=`The ${T[0]} argument`;break;case 2:I+=`The ${T[0]} and ${T[1]} arguments`;break;default:{let z=T.pop();I+=`The ${T.join(", ")}, and ${z} arguments`}break}return`${I} must be specified`},TypeError),w("ERR_OUT_OF_RANGE",(T,I,V)=>{g(I,'Missing "range" argument');let z;return Number.isInteger(V)&&Math.abs(V)>2**32?z=m(String(V)):typeof V=="bigint"?(z=String(V),(V>2n**32n||V<-(2n**32n))&&(z=m(z)),z+="n"):z=s(V),`The value of "${T}" is out of range. It must be ${I}. Received ${z}`},RangeError),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),w("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),w("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),w("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),w("ERR_STREAM_WRITE_AFTER_END","write after end",Error),w("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:F,aggregateTwoErrors:v(R),hideStackFrames:v,codes:d}}),vi=_e((e,t)=>{me(),ge(),pe();var{ArrayIsArray:r,ArrayPrototypeIncludes:s,ArrayPrototypeJoin:c,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:a,NumberMIN_SAFE_INTEGER:h,NumberParseInt:d,ObjectPrototypeHasOwnProperty:g,RegExpPrototypeExec:m,String:b,StringPrototypeToUpperCase:w,StringPrototypeTrim:v}=Qe(),{hideStackFrames:R,codes:{ERR_SOCKET_BAD_PORT:F,ERR_INVALID_ARG_TYPE:T,ERR_INVALID_ARG_VALUE:I,ERR_OUT_OF_RANGE:V,ERR_UNKNOWN_SIGNAL:z}}=gt(),{normalizeEncoding:P}=Gt(),{isAsyncFunction:N,isArrayBufferView:H}=Gt().types,Q={};function ne(C){return C===(C|0)}function le(C){return C===C>>>0}var U=/^[0-7]+$/,J="must be a 32-bit unsigned integer or an octal string";function se(C,W,A){if(typeof C>"u"&&(C=A),typeof C=="string"){if(m(U,C)===null)throw new I(W,C,J);C=d(C,8)}return ie(C,W),C}var te=R((C,W,A=h,j=a)=>{if(typeof C!="number")throw new T(W,"number",C);if(!i(C))throw new V(W,"an integer",C);if(C<A||C>j)throw new V(W,`>= ${A} && <= ${j}`,C)}),ce=R((C,W,A=-2147483648,j=2147483647)=>{if(typeof C!="number")throw new T(W,"number",C);if(!i(C))throw new V(W,"an integer",C);if(C<A||C>j)throw new V(W,`>= ${A} && <= ${j}`,C)}),ie=R((C,W,A=!1)=>{if(typeof C!="number")throw new T(W,"number",C);if(!i(C))throw new V(W,"an integer",C);let j=A?1:0,q=4294967295;if(C<j||C>q)throw new V(W,`>= ${j} && <= ${q}`,C)});function G(C,W){if(typeof C!="string")throw new T(W,"string",C)}function be(C,W,A=void 0,j){if(typeof C!="number")throw new T(W,"number",C);if(A!=null&&C<A||j!=null&&C>j||(A!=null||j!=null)&&o(C))throw new V(W,`${A!=null?`>= ${A}`:""}${A!=null&&j!=null?" && ":""}${j!=null?`<= ${j}`:""}`,C)}var ue=R((C,W,A)=>{if(!s(A,C)){let j="must be one of: "+c(n(A,q=>typeof q=="string"?`'${q}'`:b(q)),", ");throw new I(W,C,j)}});function ye(C,W){if(typeof C!="boolean")throw new T(W,"boolean",C)}function S(C,W,A){return C==null||!g(C,W)?A:C[W]}var re=R((C,W,A=null)=>{let j=S(A,"allowArray",!1),q=S(A,"allowFunction",!1);if(!S(A,"nullable",!1)&&C===null||!j&&r(C)||typeof C!="object"&&(!q||typeof C!="function"))throw new T(W,"Object",C)}),de=R((C,W)=>{if(C!=null&&typeof C!="object"&&typeof C!="function")throw new T(W,"a dictionary",C)}),Se=R((C,W,A=0)=>{if(!r(C))throw new T(W,"Array",C);if(C.length<A){let j=`must be longer than ${A}`;throw new I(W,C,j)}});function he(C,W){Se(C,W);for(let A=0;A<C.length;A++)G(C[A],`${W}[${A}]`)}function D(C,W){Se(C,W);for(let A=0;A<C.length;A++)ye(C[A],`${W}[${A}]`)}function M(C,W="signal"){if(G(C,W),Q[C]===void 0)throw Q[w(C)]!==void 0?new z(C+" (signals must use all capital letters)"):new z(C)}var ee=R((C,W="buffer")=>{if(!H(C))throw new T(W,["Buffer","TypedArray","DataView"],C)});function fe(C,W){let A=P(W),j=C.length;if(A==="hex"&&j%2!==0)throw new I("encoding",W,`is invalid for data of length ${j}`)}function ae(C,W="Port",A=!0){if(typeof C!="number"&&typeof C!="string"||typeof C=="string"&&v(C).length===0||+C!==+C>>>0||C>65535||C===0&&!A)throw new F(W,C,A);return C|0}var oe=R((C,W)=>{if(C!==void 0&&(C===null||typeof C!="object"||!("aborted"in C)))throw new T(W,"AbortSignal",C)}),x=R((C,W)=>{if(typeof C!="function")throw new T(W,"Function",C)}),B=R((C,W)=>{if(typeof C!="function"||N(C))throw new T(W,"Function",C)}),E=R((C,W)=>{if(C!==void 0)throw new T(W,"undefined",C)});function O(C,W,A){if(!s(A,C))throw new T(W,`('${c(A,"|")}')`,C)}var k=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function K(C,W){if(typeof C>"u"||!m(k,C))throw new I(W,C,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Y(C){if(typeof C=="string")return K(C,"hints"),C;if(r(C)){let W=C.length,A="";if(W===0)return A;for(let j=0;j<W;j++){let q=C[j];K(q,"hints"),A+=q,j!==W-1&&(A+=", ")}return A}throw new I("hints",C,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:ne,isUint32:le,parseFileMode:se,validateArray:Se,validateStringArray:he,validateBooleanArray:D,validateBoolean:ye,validateBuffer:ee,validateDictionary:de,validateEncoding:fe,validateFunction:x,validateInt32:ce,validateInteger:te,validateNumber:be,validateObject:re,validateOneOf:ue,validatePlainFunction:B,validatePort:ae,validateSignalName:M,validateString:G,validateUint32:ie,validateUndefined:E,validateUnion:O,validateAbortSignal:oe,validateLinkHeaderValue:Y}}),Wr=_e((e,t)=>{me(),ge(),pe();var r=t.exports={},s,c;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=n}catch{s=n}try{typeof clearTimeout=="function"?c=clearTimeout:c=i}catch{c=i}})();function o(F){if(s===setTimeout)return setTimeout(F,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(F,0);try{return s(F,0)}catch{try{return s.call(null,F,0)}catch{return s.call(this,F,0)}}}function a(F){if(c===clearTimeout)return clearTimeout(F);if((c===i||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(F);try{return c(F)}catch{try{return c.call(null,F)}catch{return c.call(this,F)}}}var h=[],d=!1,g,m=-1;function b(){!d||!g||(d=!1,g.length?h=g.concat(h):m=-1,h.length&&w())}function w(){if(!d){var F=o(b);d=!0;for(var T=h.length;T;){for(g=h,h=[];++m<T;)g&&g[m].run();m=-1,T=h.length}g=null,d=!1,a(F)}}r.nextTick=function(F){var T=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)T[I-1]=arguments[I];h.push(new v(F,T)),h.length===1&&!d&&o(w)};function v(F,T){this.fun=F,this.array=T}v.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function R(){}r.on=R,r.addListener=R,r.once=R,r.off=R,r.removeListener=R,r.removeAllListeners=R,r.emit=R,r.prependListener=R,r.prependOnceListener=R,r.listeners=function(F){return[]},r.binding=function(F){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(F){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),Zt=_e((e,t)=>{me(),ge(),pe();var{Symbol:r,SymbolAsyncIterator:s,SymbolIterator:c,SymbolFor:n}=Qe(),i=r("kDestroyed"),o=r("kIsErrored"),a=r("kIsReadable"),h=r("kIsDisturbed"),d=n("nodejs.webstream.isClosedPromise"),g=n("nodejs.webstream.controllerErrorFunction");function m(S,re=!1){var de;return!!(S&&typeof S.pipe=="function"&&typeof S.on=="function"&&(!re||typeof S.pause=="function"&&typeof S.resume=="function")&&(!S._writableState||((de=S._readableState)===null||de===void 0?void 0:de.readable)!==!1)&&(!S._writableState||S._readableState))}function b(S){var re;return!!(S&&typeof S.write=="function"&&typeof S.on=="function"&&(!S._readableState||((re=S._writableState)===null||re===void 0?void 0:re.writable)!==!1))}function w(S){return!!(S&&typeof S.pipe=="function"&&S._readableState&&typeof S.on=="function"&&typeof S.write=="function")}function v(S){return S&&(S._readableState||S._writableState||typeof S.write=="function"&&typeof S.on=="function"||typeof S.pipe=="function"&&typeof S.on=="function")}function R(S){return!!(S&&!v(S)&&typeof S.pipeThrough=="function"&&typeof S.getReader=="function"&&typeof S.cancel=="function")}function F(S){return!!(S&&!v(S)&&typeof S.getWriter=="function"&&typeof S.abort=="function")}function T(S){return!!(S&&!v(S)&&typeof S.readable=="object"&&typeof S.writable=="object")}function I(S){return R(S)||F(S)||T(S)}function V(S,re){return S==null?!1:re===!0?typeof S[s]=="function":re===!1?typeof S[c]=="function":typeof S[s]=="function"||typeof S[c]=="function"}function z(S){if(!v(S))return null;let re=S._writableState,de=S._readableState,Se=re||de;return!!(S.destroyed||S[i]||Se!=null&&Se.destroyed)}function P(S){if(!b(S))return null;if(S.writableEnded===!0)return!0;let re=S._writableState;return re!=null&&re.errored?!1:typeof(re==null?void 0:re.ended)!="boolean"?null:re.ended}function N(S,re){if(!b(S))return null;if(S.writableFinished===!0)return!0;let de=S._writableState;return de!=null&&de.errored?!1:typeof(de==null?void 0:de.finished)!="boolean"?null:!!(de.finished||re===!1&&de.ended===!0&&de.length===0)}function H(S){if(!m(S))return null;if(S.readableEnded===!0)return!0;let re=S._readableState;return!re||re.errored?!1:typeof(re==null?void 0:re.ended)!="boolean"?null:re.ended}function Q(S,re){if(!m(S))return null;let de=S._readableState;return de!=null&&de.errored?!1:typeof(de==null?void 0:de.endEmitted)!="boolean"?null:!!(de.endEmitted||re===!1&&de.ended===!0&&de.length===0)}function ne(S){return S&&S[a]!=null?S[a]:typeof(S==null?void 0:S.readable)!="boolean"?null:z(S)?!1:m(S)&&S.readable&&!Q(S)}function le(S){return typeof(S==null?void 0:S.writable)!="boolean"?null:z(S)?!1:b(S)&&S.writable&&!P(S)}function U(S,re){return v(S)?z(S)?!0:!((re==null?void 0:re.readable)!==!1&&ne(S)||(re==null?void 0:re.writable)!==!1&&le(S)):null}function J(S){var re,de;return v(S)?S.writableErrored?S.writableErrored:(re=(de=S._writableState)===null||de===void 0?void 0:de.errored)!==null&&re!==void 0?re:null:null}function se(S){var re,de;return v(S)?S.readableErrored?S.readableErrored:(re=(de=S._readableState)===null||de===void 0?void 0:de.errored)!==null&&re!==void 0?re:null:null}function te(S){if(!v(S))return null;if(typeof S.closed=="boolean")return S.closed;let re=S._writableState,de=S._readableState;return typeof(re==null?void 0:re.closed)=="boolean"||typeof(de==null?void 0:de.closed)=="boolean"?(re==null?void 0:re.closed)||(de==null?void 0:de.closed):typeof S._closed=="boolean"&&ce(S)?S._closed:null}function ce(S){return typeof S._closed=="boolean"&&typeof S._defaultKeepAlive=="boolean"&&typeof S._removedConnection=="boolean"&&typeof S._removedContLen=="boolean"}function ie(S){return typeof S._sent100=="boolean"&&ce(S)}function G(S){var re;return typeof S._consuming=="boolean"&&typeof S._dumped=="boolean"&&((re=S.req)===null||re===void 0?void 0:re.upgradeOrConnect)===void 0}function be(S){if(!v(S))return null;let re=S._writableState,de=S._readableState,Se=re||de;return!Se&&ie(S)||!!(Se&&Se.autoDestroy&&Se.emitClose&&Se.closed===!1)}function ue(S){var re;return!!(S&&((re=S[h])!==null&&re!==void 0?re:S.readableDidRead||S.readableAborted))}function ye(S){var re,de,Se,he,D,M,ee,fe,ae,oe;return!!(S&&((re=(de=(Se=(he=(D=(M=S[o])!==null&&M!==void 0?M:S.readableErrored)!==null&&D!==void 0?D:S.writableErrored)!==null&&he!==void 0?he:(ee=S._readableState)===null||ee===void 0?void 0:ee.errorEmitted)!==null&&Se!==void 0?Se:(fe=S._writableState)===null||fe===void 0?void 0:fe.errorEmitted)!==null&&de!==void 0?de:(ae=S._readableState)===null||ae===void 0?void 0:ae.errored)!==null&&re!==void 0?re:!((oe=S._writableState)===null||oe===void 0)&&oe.errored))}t.exports={kDestroyed:i,isDisturbed:ue,kIsDisturbed:h,isErrored:ye,kIsErrored:o,isReadable:ne,kIsReadable:a,kIsClosedPromise:d,kControllerErrorFunction:g,isClosed:te,isDestroyed:z,isDuplexNodeStream:w,isFinished:U,isIterable:V,isReadableNodeStream:m,isReadableStream:R,isReadableEnded:H,isReadableFinished:Q,isReadableErrored:se,isNodeStream:v,isWebStream:I,isWritable:le,isWritableNodeStream:b,isWritableStream:F,isWritableEnded:P,isWritableFinished:N,isWritableErrored:J,isServerRequest:G,isServerResponse:ie,willEmitClose:be,isTransformStream:T}}),br=_e((e,t)=>{me(),ge(),pe();var r=Wr(),{AbortError:s,codes:c}=gt(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=c,{kEmptyObject:o,once:a}=Gt(),{validateAbortSignal:h,validateFunction:d,validateObject:g,validateBoolean:m}=vi(),{Promise:b,PromisePrototypeThen:w}=Qe(),{isClosed:v,isReadable:R,isReadableNodeStream:F,isReadableStream:T,isReadableFinished:I,isReadableErrored:V,isWritable:z,isWritableNodeStream:P,isWritableStream:N,isWritableFinished:H,isWritableErrored:Q,isNodeStream:ne,willEmitClose:le,kIsClosedPromise:U}=Zt();function J(G){return G.setHeader&&typeof G.abort=="function"}var se=()=>{};function te(G,be,ue){var ye,S;if(arguments.length===2?(ue=be,be=o):be==null?be=o:g(be,"options"),d(ue,"callback"),h(be.signal,"options.signal"),ue=a(ue),T(G)||N(G))return ce(G,be,ue);if(!ne(G))throw new n("stream",["ReadableStream","WritableStream","Stream"],G);let re=(ye=be.readable)!==null&&ye!==void 0?ye:F(G),de=(S=be.writable)!==null&&S!==void 0?S:P(G),Se=G._writableState,he=G._readableState,D=()=>{G.writable||fe()},M=le(G)&&F(G)===re&&P(G)===de,ee=H(G,!1),fe=()=>{ee=!0,G.destroyed&&(M=!1),!(M&&(!G.readable||re))&&(!re||ae)&&ue.call(G)},ae=I(G,!1),oe=()=>{ae=!0,G.destroyed&&(M=!1),!(M&&(!G.writable||de))&&(!de||ee)&&ue.call(G)},x=Y=>{ue.call(G,Y)},B=v(G),E=()=>{B=!0;let Y=Q(G)||V(G);if(Y&&typeof Y!="boolean")return ue.call(G,Y);if(re&&!ae&&F(G,!0)&&!I(G,!1))return ue.call(G,new i);if(de&&!ee&&!H(G,!1))return ue.call(G,new i);ue.call(G)},O=()=>{B=!0;let Y=Q(G)||V(G);if(Y&&typeof Y!="boolean")return ue.call(G,Y);ue.call(G)},k=()=>{G.req.on("finish",fe)};J(G)?(G.on("complete",fe),M||G.on("abort",E),G.req?k():G.on("request",k)):de&&!Se&&(G.on("end",D),G.on("close",D)),!M&&typeof G.aborted=="boolean"&&G.on("aborted",E),G.on("end",oe),G.on("finish",fe),be.error!==!1&&G.on("error",x),G.on("close",E),B?r.nextTick(E):Se!=null&&Se.errorEmitted||he!=null&&he.errorEmitted?M||r.nextTick(O):(!re&&(!M||R(G))&&(ee||z(G)===!1)||!de&&(!M||z(G))&&(ae||R(G)===!1)||he&&G.req&&G.aborted)&&r.nextTick(O);let K=()=>{ue=se,G.removeListener("aborted",E),G.removeListener("complete",fe),G.removeListener("abort",E),G.removeListener("request",k),G.req&&G.req.removeListener("finish",fe),G.removeListener("end",D),G.removeListener("close",D),G.removeListener("finish",fe),G.removeListener("end",oe),G.removeListener("error",x),G.removeListener("close",E)};if(be.signal&&!B){let Y=()=>{let C=ue;K(),C.call(G,new s(void 0,{cause:be.signal.reason}))};if(be.signal.aborted)r.nextTick(Y);else{let C=ue;ue=a((...W)=>{be.signal.removeEventListener("abort",Y),C.apply(G,W)}),be.signal.addEventListener("abort",Y)}}return K}function ce(G,be,ue){let ye=!1,S=se;if(be.signal)if(S=()=>{ye=!0,ue.call(G,new s(void 0,{cause:be.signal.reason}))},be.signal.aborted)r.nextTick(S);else{let de=ue;ue=a((...Se)=>{be.signal.removeEventListener("abort",S),de.apply(G,Se)}),be.signal.addEventListener("abort",S)}let re=(...de)=>{ye||r.nextTick(()=>ue.apply(G,de))};return w(G[U].promise,re,re),se}function ie(G,be){var ue;let ye=!1;return be===null&&(be=o),(ue=be)!==null&&ue!==void 0&&ue.cleanup&&(m(be.cleanup,"cleanup"),ye=be.cleanup),new b((S,re)=>{let de=te(G,be,Se=>{ye&&de(),Se?re(Se):S()})})}t.exports=te,t.exports.finished=ie}),rn=_e((e,t)=>{me(),ge(),pe();var r=Wr(),{aggregateTwoErrors:s,codes:{ERR_MULTIPLE_CALLBACK:c},AbortError:n}=gt(),{Symbol:i}=Qe(),{kDestroyed:o,isDestroyed:a,isFinished:h,isServerRequest:d}=Zt(),g=i("kDestroy"),m=i("kConstruct");function b(U,J,se){U&&(U.stack,J&&!J.errored&&(J.errored=U),se&&!se.errored&&(se.errored=U))}function w(U,J){let se=this._readableState,te=this._writableState,ce=te||se;return te!=null&&te.destroyed||se!=null&&se.destroyed?(typeof J=="function"&&J(),this):(b(U,te,se),te&&(te.destroyed=!0),se&&(se.destroyed=!0),ce.constructed?v(this,U,J):this.once(g,function(ie){v(this,s(ie,U),J)}),this)}function v(U,J,se){let te=!1;function ce(ie){if(te)return;te=!0;let G=U._readableState,be=U._writableState;b(ie,be,G),be&&(be.closed=!0),G&&(G.closed=!0),typeof se=="function"&&se(ie),ie?r.nextTick(R,U,ie):r.nextTick(F,U)}try{U._destroy(J||null,ce)}catch(ie){ce(ie)}}function R(U,J){T(U,J),F(U)}function F(U){let J=U._readableState,se=U._writableState;se&&(se.closeEmitted=!0),J&&(J.closeEmitted=!0),(se!=null&&se.emitClose||J!=null&&J.emitClose)&&U.emit("close")}function T(U,J){let se=U._readableState,te=U._writableState;te!=null&&te.errorEmitted||se!=null&&se.errorEmitted||(te&&(te.errorEmitted=!0),se&&(se.errorEmitted=!0),U.emit("error",J))}function I(){let U=this._readableState,J=this._writableState;U&&(U.constructed=!0,U.closed=!1,U.closeEmitted=!1,U.destroyed=!1,U.errored=null,U.errorEmitted=!1,U.reading=!1,U.ended=U.readable===!1,U.endEmitted=U.readable===!1),J&&(J.constructed=!0,J.destroyed=!1,J.closed=!1,J.closeEmitted=!1,J.errored=null,J.errorEmitted=!1,J.finalCalled=!1,J.prefinished=!1,J.ended=J.writable===!1,J.ending=J.writable===!1,J.finished=J.writable===!1)}function V(U,J,se){let te=U._readableState,ce=U._writableState;if(ce!=null&&ce.destroyed||te!=null&&te.destroyed)return this;te!=null&&te.autoDestroy||ce!=null&&ce.autoDestroy?U.destroy(J):J&&(J.stack,ce&&!ce.errored&&(ce.errored=J),te&&!te.errored&&(te.errored=J),se?r.nextTick(T,U,J):T(U,J))}function z(U,J){if(typeof U._construct!="function")return;let se=U._readableState,te=U._writableState;se&&(se.constructed=!1),te&&(te.constructed=!1),U.once(m,J),!(U.listenerCount(m)>1)&&r.nextTick(P,U)}function P(U){let J=!1;function se(te){if(J){V(U,te??new c);return}J=!0;let ce=U._readableState,ie=U._writableState,G=ie||ce;ce&&(ce.constructed=!0),ie&&(ie.constructed=!0),G.destroyed?U.emit(g,te):te?V(U,te,!0):r.nextTick(N,U)}try{U._construct(te=>{r.nextTick(se,te)})}catch(te){r.nextTick(se,te)}}function N(U){U.emit(m)}function H(U){return(U==null?void 0:U.setHeader)&&typeof U.abort=="function"}function Q(U){U.emit("close")}function ne(U,J){U.emit("error",J),r.nextTick(Q,U)}function le(U,J){!U||a(U)||(!J&&!h(U)&&(J=new n),d(U)?(U.socket=null,U.destroy(J)):H(U)?U.abort():H(U.req)?U.req.abort():typeof U.destroy=="function"?U.destroy(J):typeof U.close=="function"?U.close():J?r.nextTick(ne,U,J):r.nextTick(Q,U),U.destroyed||(U[o]=!0))}t.exports={construct:z,destroyer:le,destroy:w,undestroy:I,errorOrDestroy:V}});function Le(){Le.init.call(this)}function Gn(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function oc(e){return e._maxListeners===void 0?Le.defaultMaxListeners:e._maxListeners}function Zl(e,t,r,s){var c,n,i,o;if(Gn(r),(n=e._events)===void 0?(n=e._events=Object.create(null),e._eventsCount=0):(n.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),n=e._events),i=n[t]),i===void 0)i=n[t]=r,++e._eventsCount;else if(typeof i=="function"?i=n[t]=s?[r,i]:[i,r]:s?i.unshift(r):i.push(r),(c=oc(e))>0&&i.length>c&&!i.warned){i.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=i.length,o=a,console&&console.warn&&console.warn(o)}return e}function Cp(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ea(e,t,r){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},c=Cp.bind(s);return c.listener=r,s.wrapFn=c,c}function ta(e,t,r){var s=e._events;if(s===void 0)return[];var c=s[t];return c===void 0?[]:typeof c=="function"?r?[c.listener||c]:[c]:r?function(n){for(var i=new Array(n.length),o=0;o<i.length;++o)i[o]=n[o].listener||n[o];return i}(c):sc(c,c.length)}function ra(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function sc(e,t){for(var r=new Array(t),s=0;s<t;++s)r[s]=e[s];return r}var na,ia,vr,Di,Wi,$i,yt,oa=rt(()=>{me(),ge(),pe(),vr=typeof Reflect=="object"?Reflect:null,Di=vr&&typeof vr.apply=="function"?vr.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},ia=vr&&typeof vr.ownKeys=="function"?vr.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},Wi=Number.isNaN||function(e){return e!=e},na=Le,Le.EventEmitter=Le,Le.prototype._events=void 0,Le.prototype._eventsCount=0,Le.prototype._maxListeners=void 0,$i=10,Object.defineProperty(Le,"defaultMaxListeners",{enumerable:!0,get:function(){return $i},set:function(e){if(typeof e!="number"||e<0||Wi(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");$i=e}}),Le.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Le.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Wi(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Le.prototype.getMaxListeners=function(){return oc(this)},Le.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var s=e==="error",c=this._events;if(c!==void 0)s=s&&c.error===void 0;else if(!s)return!1;if(s){var n;if(t.length>0&&(n=t[0]),n instanceof Error)throw n;var i=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw i.context=n,i}var o=c[e];if(o===void 0)return!1;if(typeof o=="function")Di(o,this,t);else{var a=o.length,h=sc(o,a);for(r=0;r<a;++r)Di(h[r],this,t)}return!0},Le.prototype.addListener=function(e,t){return Zl(this,e,t,!1)},Le.prototype.on=Le.prototype.addListener,Le.prototype.prependListener=function(e,t){return Zl(this,e,t,!0)},Le.prototype.once=function(e,t){return Gn(t),this.on(e,ea(this,e,t)),this},Le.prototype.prependOnceListener=function(e,t){return Gn(t),this.prependListener(e,ea(this,e,t)),this},Le.prototype.removeListener=function(e,t){var r,s,c,n,i;if(Gn(t),(s=this._events)===void 0)return this;if((r=s[e])===void 0)return this;if(r===t||r.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(c=-1,n=r.length-1;n>=0;n--)if(r[n]===t||r[n].listener===t){i=r[n].listener,c=n;break}if(c<0)return this;c===0?r.shift():function(o,a){for(;a+1<o.length;a++)o[a]=o[a+1];o.pop()}(r,c),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,i||t)}return this},Le.prototype.off=Le.prototype.removeListener,Le.prototype.removeAllListeners=function(e){var t,r,s;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var c,n=Object.keys(r);for(s=0;s<n.length;++s)(c=n[s])!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=r[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(s=t.length-1;s>=0;s--)this.removeListener(e,t[s]);return this},Le.prototype.listeners=function(e){return ta(this,e,!0)},Le.prototype.rawListeners=function(e){return ta(this,e,!1)},Le.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):ra.call(e,t)},Le.prototype.listenerCount=ra,Le.prototype.eventNames=function(){return this._eventsCount>0?ia(this._events):[]},yt=na,yt.EventEmitter,yt.defaultMaxListeners,yt.init,yt.listenerCount,yt.EventEmitter,yt.defaultMaxListeners,yt.init,yt.listenerCount}),$r={};Dr($r,{EventEmitter:()=>lc,default:()=>yt,defaultMaxListeners:()=>ac,init:()=>uc,listenerCount:()=>cc,on:()=>hc,once:()=>fc});var lc,ac,uc,cc,hc,fc,nn=rt(()=>{me(),ge(),pe(),oa(),oa(),yt.once=function(e,t){return new Promise((r,s)=>{function c(...i){n!==void 0&&e.removeListener("error",n),r(i)}let n;t!=="error"&&(n=i=>{e.removeListener(name,c),s(i)},e.once("error",n)),e.once(t,c)})},yt.on=function(e,t){let r=[],s=[],c=null,n=!1,i={async next(){let h=r.shift();if(h)return createIterResult(h,!1);if(c){let d=Promise.reject(c);return c=null,d}return n?createIterResult(void 0,!0):new Promise((d,g)=>s.push({resolve:d,reject:g}))},async return(){e.removeListener(t,o),e.removeListener("error",a),n=!0;for(let h of s)h.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(h){c=h,e.removeListener(t,o),e.removeListener("error",a)},[Symbol.asyncIterator](){return this}};return e.on(t,o),e.on("error",a),i;function o(...h){let d=s.shift();d?d.resolve(createIterResult(h,!1)):r.push(h)}function a(h){n=!0;let d=s.shift();d?d.reject(h):c=h,i.return()}},{EventEmitter:lc,defaultMaxListeners:ac,init:uc,listenerCount:cc,on:hc,once:fc}=yt}),il=_e((e,t)=>{me(),ge(),pe();var{ArrayIsArray:r,ObjectSetPrototypeOf:s}=Qe(),{EventEmitter:c}=(nn(),Ne($r));function n(o){c.call(this,o)}s(n.prototype,c.prototype),s(n,c),n.prototype.pipe=function(o,a){let h=this;function d(F){o.writable&&o.write(F)===!1&&h.pause&&h.pause()}h.on("data",d);function g(){h.readable&&h.resume&&h.resume()}o.on("drain",g),!o._isStdio&&(!a||a.end!==!1)&&(h.on("end",b),h.on("close",w));let m=!1;function b(){m||(m=!0,o.end())}function w(){m||(m=!0,typeof o.destroy=="function"&&o.destroy())}function v(F){R(),c.listenerCount(this,"error")===0&&this.emit("error",F)}i(h,"error",v),i(o,"error",v);function R(){h.removeListener("data",d),o.removeListener("drain",g),h.removeListener("end",b),h.removeListener("close",w),h.removeListener("error",v),o.removeListener("error",v),h.removeListener("end",R),h.removeListener("close",R),o.removeListener("close",R)}return h.on("end",R),h.on("close",R),o.on("close",R),o.emit("pipe",h),o};function i(o,a,h){if(typeof o.prependListener=="function")return o.prependListener(a,h);!o._events||!o._events[a]?o.on(a,h):r(o._events[a])?o._events[a].unshift(h):o._events[a]=[h,o._events[a]]}t.exports={Stream:n,prependListener:i}}),Ei=_e((e,t)=>{me(),ge(),pe();var{AbortError:r,codes:s}=gt(),{isNodeStream:c,isWebStream:n,kControllerErrorFunction:i}=Zt(),o=br(),{ERR_INVALID_ARG_TYPE:a}=s,h=(d,g)=>{if(typeof d!="object"||!("aborted"in d))throw new a(g,"AbortSignal",d)};t.exports.addAbortSignal=function(d,g){if(h(d,"signal"),!c(g)&&!n(g))throw new a("stream",["ReadableStream","WritableStream","Stream"],g);return t.exports.addAbortSignalNoValidate(d,g)},t.exports.addAbortSignalNoValidate=function(d,g){if(typeof d!="object"||!("aborted"in d))return g;let m=c(g)?()=>{g.destroy(new r(void 0,{cause:d.reason}))}:()=>{g[i](new r(void 0,{cause:d.reason}))};return d.aborted?m():(d.addEventListener("abort",m),o(g,()=>d.removeEventListener("abort",m))),g}}),Bp=_e((e,t)=>{me(),ge(),pe();var{StringPrototypeSlice:r,SymbolIterator:s,TypedArrayPrototypeSet:c,Uint8Array:n}=Qe(),{Buffer:i}=(it(),Ne(nt)),{inspect:o}=Gt();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){let h={data:a,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}unshift(a){let h={data:a,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}shift(){if(this.length===0)return;let a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(this.length===0)return"";let h=this.head,d=""+h.data;for(;(h=h.next)!==null;)d+=a+h.data;return d}concat(a){if(this.length===0)return i.alloc(0);let h=i.allocUnsafe(a>>>0),d=this.head,g=0;for(;d;)c(h,d.data,g),g+=d.data.length,d=d.next;return h}consume(a,h){let d=this.head.data;if(a<d.length){let g=d.slice(0,a);return this.head.data=d.slice(a),g}return a===d.length?this.shift():h?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[s](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let h="",d=this.head,g=0;do{let m=d.data;if(a>m.length)h+=m,a-=m.length;else{a===m.length?(h+=m,++g,d.next?this.head=d.next:this.head=this.tail=null):(h+=r(m,0,a),this.head=d,d.data=r(m,a));break}++g}while((d=d.next)!==null);return this.length-=g,h}_getBuffer(a){let h=i.allocUnsafe(a),d=a,g=this.head,m=0;do{let b=g.data;if(a>b.length)c(h,b,d-a),a-=b.length;else{a===b.length?(c(h,b,d-a),++m,g.next?this.head=g.next:this.head=this.tail=null):(c(h,new n(b.buffer,b.byteOffset,a),d-a),this.head=g,g.data=b.slice(a));break}++m}while((g=g.next)!==null);return this.length-=m,h}[Symbol.for("nodejs.util.inspect.custom")](a,h){return o(this,{...h,depth:0,customInspect:!1})}}}),ol=_e((e,t)=>{me(),ge(),pe();var{MathFloor:r,NumberIsInteger:s}=Qe(),{ERR_INVALID_ARG_VALUE:c}=gt().codes;function n(a,h,d){return a.highWaterMark!=null?a.highWaterMark:h?a[d]:null}function i(a){return a?16:16*1024}function o(a,h,d,g){let m=n(h,g,d);if(m!=null){if(!s(m)||m<0){let b=g?`options.${d}`:"options.highWaterMark";throw new c(b,m)}return r(m)}return i(a.objectMode)}t.exports={getHighWaterMark:o,getDefaultHighWaterMark:i}});function sa(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return r===-1&&(r=t),[r,r===t?0:4-r%4]}function Rp(e,t,r){for(var s,c,n=[],i=t;i<r;i+=3)s=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),n.push(Tt[(c=s)>>18&63]+Tt[c>>12&63]+Tt[c>>6&63]+Tt[63&c]);return n.join("")}function Vt(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,we.prototype),t}function we(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ws(e)}return dc(e,t,r)}function dc(e,t,r){if(typeof e=="string")return function(n,i){if(typeof i=="string"&&i!==""||(i="utf8"),!we.isEncoding(i))throw new TypeError("Unknown encoding: "+i);var o=0|gc(n,i),a=Vt(o),h=a.write(n,i);return h!==o&&(a=a.slice(0,h)),a}(e,t);if(ArrayBuffer.isView(e))return Hi(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(zt(e,ArrayBuffer)||e&&zt(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(zt(e,SharedArrayBuffer)||e&&zt(e.buffer,SharedArrayBuffer)))return kp(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var s=e.valueOf&&e.valueOf();if(s!=null&&s!==e)return we.from(s,t,r);var c=function(n){if(we.isBuffer(n)){var i=0|sl(n.length),o=Vt(i);return o.length===0||n.copy(o,0,0,i),o}if(n.length!==void 0)return typeof n.length!="number"||ll(n.length)?Vt(0):Hi(n);if(n.type==="Buffer"&&Array.isArray(n.data))return Hi(n.data)}(e);if(c)return c;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return we.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function pc(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function ws(e){return pc(e),Vt(e<0?0:0|sl(e))}function Hi(e){for(var t=e.length<0?0:0|sl(e.length),r=Vt(t),s=0;s<t;s+=1)r[s]=255&e[s];return r}function kp(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var s;return s=t===void 0&&r===void 0?new Uint8Array(e):r===void 0?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(s,we.prototype),s}function sl(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function gc(e,t){if(we.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||zt(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,s=arguments.length>2&&arguments[2]===!0;if(!s&&r===0)return 0;for(var c=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return _s(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return wc(e).length;default:if(c)return s?-1:_s(e).length;t=(""+t).toLowerCase(),c=!0}}function Op(e,t,r){var s=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Wp(this,t,r);case"utf8":case"utf-8":return yc(this,t,r);case"ascii":return Fp(this,t,r);case"latin1":case"binary":return Dp(this,t,r);case"base64":return jp(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $p(this,t,r);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function Er(e,t,r){var s=e[t];e[t]=e[r],e[r]=s}function la(e,t,r,s,c){if(e.length===0)return-1;if(typeof r=="string"?(s=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),ll(r=+r)&&(r=c?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(c)return-1;r=e.length-1}else if(r<0){if(!c)return-1;r=0}if(typeof t=="string"&&(t=we.from(t,s)),we.isBuffer(t))return t.length===0?-1:aa(e,t,r,s,c);if(typeof t=="number")return t&=255,typeof Uint8Array.prototype.indexOf=="function"?c?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):aa(e,[t],r,s,c);throw new TypeError("val must be string, number or Buffer")}function aa(e,t,r,s,c){var n,i=1,o=e.length,a=t.length;if(s!==void 0&&((s=String(s).toLowerCase())==="ucs2"||s==="ucs-2"||s==="utf16le"||s==="utf-16le")){if(e.length<2||t.length<2)return-1;i=2,o/=2,a/=2,r/=2}function h(b,w){return i===1?b[w]:b.readUInt16BE(w*i)}if(c){var d=-1;for(n=r;n<o;n++)if(h(e,n)===h(t,d===-1?0:n-d)){if(d===-1&&(d=n),n-d+1===a)return d*i}else d!==-1&&(n-=n-d),d=-1}else for(r+a>o&&(r=o-a),n=r;n>=0;n--){for(var g=!0,m=0;m<a;m++)if(h(e,n+m)!==h(t,m)){g=!1;break}if(g)return n}return-1}function Pp(e,t,r,s){r=Number(r)||0;var c=e.length-r;s?(s=Number(s))>c&&(s=c):s=c;var n=t.length;s>n/2&&(s=n/2);for(var i=0;i<s;++i){var o=parseInt(t.substr(2*i,2),16);if(ll(o))return i;e[r+i]=o}return i}function Mp(e,t,r,s){return Si(_s(t,e.length-r),e,r,s)}function mc(e,t,r,s){return Si(function(c){for(var n=[],i=0;i<c.length;++i)n.push(255&c.charCodeAt(i));return n}(t),e,r,s)}function Up(e,t,r,s){return mc(e,t,r,s)}function Lp(e,t,r,s){return Si(wc(t),e,r,s)}function Np(e,t,r,s){return Si(function(c,n){for(var i,o,a,h=[],d=0;d<c.length&&!((n-=2)<0);++d)i=c.charCodeAt(d),o=i>>8,a=i%256,h.push(a),h.push(o);return h}(t,e.length-r),e,r,s)}function jp(e,t,r){return t===0&&r===e.length?oi.fromByteArray(e):oi.fromByteArray(e.slice(t,r))}function yc(e,t,r){r=Math.min(e.length,r);for(var s=[],c=t;c<r;){var n,i,o,a,h=e[c],d=null,g=h>239?4:h>223?3:h>191?2:1;if(c+g<=r)switch(g){case 1:h<128&&(d=h);break;case 2:(192&(n=e[c+1]))==128&&(a=(31&h)<<6|63&n)>127&&(d=a);break;case 3:n=e[c+1],i=e[c+2],(192&n)==128&&(192&i)==128&&(a=(15&h)<<12|(63&n)<<6|63&i)>2047&&(a<55296||a>57343)&&(d=a);break;case 4:n=e[c+1],i=e[c+2],o=e[c+3],(192&n)==128&&(192&i)==128&&(192&o)==128&&(a=(15&h)<<18|(63&n)<<12|(63&i)<<6|63&o)>65535&&a<1114112&&(d=a)}d===null?(d=65533,g=1):d>65535&&(d-=65536,s.push(d>>>10&1023|55296),d=56320|1023&d),s.push(d),c+=g}return function(m){var b=m.length;if(b<=4096)return String.fromCharCode.apply(String,m);for(var w="",v=0;v<b;)w+=String.fromCharCode.apply(String,m.slice(v,v+=4096));return w}(s)}function Fp(e,t,r){var s="";r=Math.min(e.length,r);for(var c=t;c<r;++c)s+=String.fromCharCode(127&e[c]);return s}function Dp(e,t,r){var s="";r=Math.min(e.length,r);for(var c=t;c<r;++c)s+=String.fromCharCode(e[c]);return s}function Wp(e,t,r){var s=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>s)&&(r=s);for(var c="",n=t;n<r;++n)c+=vc[e[n]];return c}function $p(e,t,r){for(var s=e.slice(t,r),c="",n=0;n<s.length;n+=2)c+=String.fromCharCode(s[n]+256*s[n+1]);return c}function Ze(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function ht(e,t,r,s,c,n){if(!we.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>c||t<n)throw new RangeError('"value" argument is out of bounds');if(r+s>e.length)throw new RangeError("Index out of range")}function bc(e,t,r,s,c,n){if(r+s>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function ua(e,t,r,s,c){return t=+t,r>>>=0,c||bc(e,0,r,4),Br.write(e,t,r,s,23,4),r+4}function ca(e,t,r,s,c){return t=+t,r>>>=0,c||bc(e,0,r,8),Br.write(e,t,r,s,52,8),r+8}function _s(e,t){var r;t=t||1/0;for(var s=e.length,c=null,n=[],i=0;i<s;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!c){if(r>56319){(t-=3)>-1&&n.push(239,191,189);continue}if(i+1===s){(t-=3)>-1&&n.push(239,191,189);continue}c=r;continue}if(r<56320){(t-=3)>-1&&n.push(239,191,189),c=r;continue}r=65536+(c-55296<<10|r-56320)}else c&&(t-=3)>-1&&n.push(239,191,189);if(c=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return n}function wc(e){return oi.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(_c,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(e))}function Si(e,t,r,s){for(var c=0;c<s&&!(c+r>=t.length||c>=e.length);++c)t[c+r]=e[c];return c}function zt(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function ll(e){return e!=e}function ha(e,t){for(var r in e)t[r]=e[r]}function Sr(e,t,r){return At(e,t,r)}function sn(e){var t;switch(this.encoding=function(r){var s=function(c){if(!c)return"utf8";for(var n;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(n)return;c=(""+c).toLowerCase(),n=!0}}(r);if(typeof s!="string"&&(si.isEncoding===vs||!vs(r)))throw new Error("Unknown encoding: "+r);return s||r}(e),this.encoding){case"utf16le":this.text=qp,this.end=Vp,t=4;break;case"utf8":this.fillLast=Hp,t=4;break;case"base64":this.text=zp,this.end=Kp,t=3;break;default:return this.write=Yp,this.end=Gp,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=si.allocUnsafe(t)}function qi(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function Hp(e){var t=this.lastTotal-this.lastNeed,r=function(s,c,n){if((192&c[0])!=128)return s.lastNeed=0,"";if(s.lastNeed>1&&c.length>1){if((192&c[1])!=128)return s.lastNeed=1,"";if(s.lastNeed>2&&c.length>2&&(192&c[2])!=128)return s.lastNeed=2,""}}(this,e);return r!==void 0?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length,void 0)}function qp(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var s=r.charCodeAt(r.length-1);if(s>=55296&&s<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Vp(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function zp(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Kp(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Yp(e){return e.toString(this.encoding)}function Gp(e){return e&&e.length?this.write(e):""}var fa,Tt,mt,da,Ln,Ar,pa,ga,kt,oi,Br,Vi,_c,vc,ln,an,At,ma,Qr,si,vs,ya=rt(()=>{for(me(),ge(),pe(),fa={byteLength:function(e){var t=sa(e),r=t[0],s=t[1];return 3*(r+s)/4-s},toByteArray:function(e){var t,r,s=sa(e),c=s[0],n=s[1],i=new da(function(h,d,g){return 3*(d+g)/4-g}(0,c,n)),o=0,a=n>0?c-4:c;for(r=0;r<a;r+=4)t=mt[e.charCodeAt(r)]<<18|mt[e.charCodeAt(r+1)]<<12|mt[e.charCodeAt(r+2)]<<6|mt[e.charCodeAt(r+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=255&t;return n===2&&(t=mt[e.charCodeAt(r)]<<2|mt[e.charCodeAt(r+1)]>>4,i[o++]=255&t),n===1&&(t=mt[e.charCodeAt(r)]<<10|mt[e.charCodeAt(r+1)]<<4|mt[e.charCodeAt(r+2)]>>2,i[o++]=t>>8&255,i[o++]=255&t),i},fromByteArray:function(e){for(var t,r=e.length,s=r%3,c=[],n=0,i=r-s;n<i;n+=16383)c.push(Rp(e,n,n+16383>i?i:n+16383));return s===1?(t=e[r-1],c.push(Tt[t>>2]+Tt[t<<4&63]+"==")):s===2&&(t=(e[r-2]<<8)+e[r-1],c.push(Tt[t>>10]+Tt[t>>4&63]+Tt[t<<2&63]+"=")),c.join("")}},Tt=[],mt=[],da=typeof Uint8Array<"u"?Uint8Array:Array,Ln="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ar=0,pa=Ln.length;Ar<pa;++Ar)Tt[Ar]=Ln[Ar],mt[Ln.charCodeAt(Ar)]=Ar;mt[45]=62,mt[95]=63,ga={read:function(e,t,r,s,c){var n,i,o=8*c-s-1,a=(1<<o)-1,h=a>>1,d=-7,g=r?c-1:0,m=r?-1:1,b=e[t+g];for(g+=m,n=b&(1<<-d)-1,b>>=-d,d+=o;d>0;n=256*n+e[t+g],g+=m,d-=8);for(i=n&(1<<-d)-1,n>>=-d,d+=s;d>0;i=256*i+e[t+g],g+=m,d-=8);if(n===0)n=1-h;else{if(n===a)return i?NaN:1/0*(b?-1:1);i+=Math.pow(2,s),n-=h}return(b?-1:1)*i*Math.pow(2,n-s)},write:function(e,t,r,s,c,n){var i,o,a,h=8*n-c-1,d=(1<<h)-1,g=d>>1,m=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=s?0:n-1,w=s?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-i))<1&&(i--,a*=2),(t+=i+g>=1?m/a:m*Math.pow(2,1-g))*a>=2&&(i++,a/=2),i+g>=d?(o=0,i=d):i+g>=1?(o=(t*a-1)*Math.pow(2,c),i+=g):(o=t*Math.pow(2,g-1)*Math.pow(2,c),i=0));c>=8;e[r+b]=255&o,b+=w,o/=256,c-=8);for(i=i<<c|o,h+=c;h>0;e[r+b]=255&i,b+=w,i/=256,h-=8);e[r+b-w]|=128*v}},kt={},oi=fa,Br=ga,Vi=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,kt.Buffer=we,kt.SlowBuffer=function(e){return+e!=e&&(e=0),we.alloc(+e)},kt.INSPECT_MAX_BYTES=50,kt.kMaxLength=2147483647,we.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}(),we.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(we.prototype,"parent",{enumerable:!0,get:function(){if(we.isBuffer(this))return this.buffer}}),Object.defineProperty(we.prototype,"offset",{enumerable:!0,get:function(){if(we.isBuffer(this))return this.byteOffset}}),we.poolSize=8192,we.from=function(e,t,r){return dc(e,t,r)},Object.setPrototypeOf(we.prototype,Uint8Array.prototype),Object.setPrototypeOf(we,Uint8Array),we.alloc=function(e,t,r){return function(s,c,n){return pc(s),s<=0?Vt(s):c!==void 0?typeof n=="string"?Vt(s).fill(c,n):Vt(s).fill(c):Vt(s)}(e,t,r)},we.allocUnsafe=function(e){return ws(e)},we.allocUnsafeSlow=function(e){return ws(e)},we.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==we.prototype},we.compare=function(e,t){if(zt(e,Uint8Array)&&(e=we.from(e,e.offset,e.byteLength)),zt(t,Uint8Array)&&(t=we.from(t,t.offset,t.byteLength)),!we.isBuffer(e)||!we.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,s=t.length,c=0,n=Math.min(r,s);c<n;++c)if(e[c]!==t[c]){r=e[c],s=t[c];break}return r<s?-1:s<r?1:0},we.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},we.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return we.alloc(0);var r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var s=we.allocUnsafe(t),c=0;for(r=0;r<e.length;++r){var n=e[r];if(zt(n,Uint8Array)&&(n=we.from(n)),!we.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(s,c),c+=n.length}return s},we.byteLength=gc,we.prototype._isBuffer=!0,we.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Er(this,t,t+1);return this},we.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Er(this,t,t+3),Er(this,t+1,t+2);return this},we.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Er(this,t,t+7),Er(this,t+1,t+6),Er(this,t+2,t+5),Er(this,t+3,t+4);return this},we.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?yc(this,0,e):Op.apply(this,arguments)},we.prototype.toLocaleString=we.prototype.toString,we.prototype.equals=function(e){if(!we.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||we.compare(this,e)===0},we.prototype.inspect=function(){var e="",t=kt.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},Vi&&(we.prototype[Vi]=we.prototype.inspect),we.prototype.compare=function(e,t,r,s,c){if(zt(e,Uint8Array)&&(e=we.from(e,e.offset,e.byteLength)),!we.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),s===void 0&&(s=0),c===void 0&&(c=this.length),t<0||r>e.length||s<0||c>this.length)throw new RangeError("out of range index");if(s>=c&&t>=r)return 0;if(s>=c)return-1;if(t>=r)return 1;if(this===e)return 0;for(var n=(c>>>=0)-(s>>>=0),i=(r>>>=0)-(t>>>=0),o=Math.min(n,i),a=this.slice(s,c),h=e.slice(t,r),d=0;d<o;++d)if(a[d]!==h[d]){n=a[d],i=h[d];break}return n<i?-1:i<n?1:0},we.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},we.prototype.indexOf=function(e,t,r){return la(this,e,t,r,!0)},we.prototype.lastIndexOf=function(e,t,r){return la(this,e,t,r,!1)},we.prototype.write=function(e,t,r,s){if(t===void 0)s="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")s=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,s===void 0&&(s="utf8")):(s=r,r=void 0)}var c=this.length-t;if((r===void 0||r>c)&&(r=c),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var n=!1;;)switch(s){case"hex":return Pp(this,e,t,r);case"utf8":case"utf-8":return Mp(this,e,t,r);case"ascii":return mc(this,e,t,r);case"latin1":case"binary":return Up(this,e,t,r);case"base64":return Lp(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Np(this,e,t,r);default:if(n)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),n=!0}},we.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},we.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===void 0?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var s=this.subarray(e,t);return Object.setPrototypeOf(s,we.prototype),s},we.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||Ze(e,t,this.length);for(var s=this[e],c=1,n=0;++n<t&&(c*=256);)s+=this[e+n]*c;return s},we.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||Ze(e,t,this.length);for(var s=this[e+--t],c=1;t>0&&(c*=256);)s+=this[e+--t]*c;return s},we.prototype.readUInt8=function(e,t){return e>>>=0,t||Ze(e,1,this.length),this[e]},we.prototype.readUInt16LE=function(e,t){return e>>>=0,t||Ze(e,2,this.length),this[e]|this[e+1]<<8},we.prototype.readUInt16BE=function(e,t){return e>>>=0,t||Ze(e,2,this.length),this[e]<<8|this[e+1]},we.prototype.readUInt32LE=function(e,t){return e>>>=0,t||Ze(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},we.prototype.readUInt32BE=function(e,t){return e>>>=0,t||Ze(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},we.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||Ze(e,t,this.length);for(var s=this[e],c=1,n=0;++n<t&&(c*=256);)s+=this[e+n]*c;return s>=(c*=128)&&(s-=Math.pow(2,8*t)),s},we.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||Ze(e,t,this.length);for(var s=t,c=1,n=this[e+--s];s>0&&(c*=256);)n+=this[e+--s]*c;return n>=(c*=128)&&(n-=Math.pow(2,8*t)),n},we.prototype.readInt8=function(e,t){return e>>>=0,t||Ze(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},we.prototype.readInt16LE=function(e,t){e>>>=0,t||Ze(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},we.prototype.readInt16BE=function(e,t){e>>>=0,t||Ze(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},we.prototype.readInt32LE=function(e,t){return e>>>=0,t||Ze(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},we.prototype.readInt32BE=function(e,t){return e>>>=0,t||Ze(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},we.prototype.readFloatLE=function(e,t){return e>>>=0,t||Ze(e,4,this.length),Br.read(this,e,!0,23,4)},we.prototype.readFloatBE=function(e,t){return e>>>=0,t||Ze(e,4,this.length),Br.read(this,e,!1,23,4)},we.prototype.readDoubleLE=function(e,t){return e>>>=0,t||Ze(e,8,this.length),Br.read(this,e,!0,52,8)},we.prototype.readDoubleBE=function(e,t){return e>>>=0,t||Ze(e,8,this.length),Br.read(this,e,!1,52,8)},we.prototype.writeUIntLE=function(e,t,r,s){e=+e,t>>>=0,r>>>=0,s||ht(this,e,t,r,Math.pow(2,8*r)-1,0);var c=1,n=0;for(this[t]=255&e;++n<r&&(c*=256);)this[t+n]=e/c&255;return t+r},we.prototype.writeUIntBE=function(e,t,r,s){e=+e,t>>>=0,r>>>=0,s||ht(this,e,t,r,Math.pow(2,8*r)-1,0);var c=r-1,n=1;for(this[t+c]=255&e;--c>=0&&(n*=256);)this[t+c]=e/n&255;return t+r},we.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||ht(this,e,t,1,255,0),this[t]=255&e,t+1},we.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||ht(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},we.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||ht(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},we.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||ht(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},we.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||ht(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},we.prototype.writeIntLE=function(e,t,r,s){if(e=+e,t>>>=0,!s){var c=Math.pow(2,8*r-1);ht(this,e,t,r,c-1,-c)}var n=0,i=1,o=0;for(this[t]=255&e;++n<r&&(i*=256);)e<0&&o===0&&this[t+n-1]!==0&&(o=1),this[t+n]=(e/i>>0)-o&255;return t+r},we.prototype.writeIntBE=function(e,t,r,s){if(e=+e,t>>>=0,!s){var c=Math.pow(2,8*r-1);ht(this,e,t,r,c-1,-c)}var n=r-1,i=1,o=0;for(this[t+n]=255&e;--n>=0&&(i*=256);)e<0&&o===0&&this[t+n+1]!==0&&(o=1),this[t+n]=(e/i>>0)-o&255;return t+r},we.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||ht(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},we.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||ht(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},we.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||ht(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},we.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||ht(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},we.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||ht(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},we.prototype.writeFloatLE=function(e,t,r){return ua(this,e,t,!0,r)},we.prototype.writeFloatBE=function(e,t,r){return ua(this,e,t,!1,r)},we.prototype.writeDoubleLE=function(e,t,r){return ca(this,e,t,!0,r)},we.prototype.writeDoubleBE=function(e,t,r){return ca(this,e,t,!1,r)},we.prototype.copy=function(e,t,r,s){if(!we.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),s||s===0||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<r&&(s=r),s===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-r&&(s=e.length-t+r);var c=s-r;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,r,s);else if(this===e&&r<t&&t<s)for(var n=c-1;n>=0;--n)e[n+t]=this[n+r];else Uint8Array.prototype.set.call(e,this.subarray(r,s),t);return c},we.prototype.fill=function(e,t,r,s){if(typeof e=="string"){if(typeof t=="string"?(s=t,t=0,r=this.length):typeof r=="string"&&(s=r,r=this.length),s!==void 0&&typeof s!="string")throw new TypeError("encoding must be a string");if(typeof s=="string"&&!we.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(e.length===1){var c=e.charCodeAt(0);(s==="utf8"&&c<128||s==="latin1")&&(e=c)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var n;if(t>>>=0,r=r===void 0?this.length:r>>>0,e||(e=0),typeof e=="number")for(n=t;n<r;++n)this[n]=e;else{var i=we.isBuffer(e)?e:we.from(e,s),o=i.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=i[n%o]}return this},_c=/[^+/0-9A-Za-z-_]/g,vc=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,s=0;s<16;++s)e[r+s]="0123456789abcdef"[t]+"0123456789abcdef"[s];return e}(),kt.Buffer,kt.INSPECT_MAX_BYTES,kt.kMaxLength,ln={},an=kt,At=an.Buffer,At.from&&At.alloc&&At.allocUnsafe&&At.allocUnsafeSlow?ln=an:(ha(an,ln),ln.Buffer=Sr),Sr.prototype=Object.create(At.prototype),ha(At,Sr),Sr.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return At(e,t,r)},Sr.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var s=At(e);return t!==void 0?typeof r=="string"?s.fill(t,r):s.fill(t):s.fill(0),s},Sr.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return At(e)},Sr.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return an.SlowBuffer(e)},ma=ln,Qr={},si=ma.Buffer,vs=si.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Qr.StringDecoder=sn,sn.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if((t=this.fillLast(e))===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},sn.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},sn.prototype.text=function(e,t){var r=function(c,n,i){var o=n.length-1;if(o<i)return 0;var a=qi(n[o]);return a>=0?(a>0&&(c.lastNeed=a-1),a):--o<i||a===-2?0:(a=qi(n[o]))>=0?(a>0&&(c.lastNeed=a-2),a):--o<i||a===-2?0:(a=qi(n[o]))>=0?(a>0&&(a===2?a=0:c.lastNeed=a-3),a):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var s=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,s),e.toString("utf8",t,s)},sn.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},Qr.StringDecoder,Qr.StringDecoder}),Ec={};Dr(Ec,{StringDecoder:()=>Sc,default:()=>Qr});var Sc,Qp=rt(()=>{me(),ge(),pe(),ya(),ya(),Sc=Qr.StringDecoder}),Ac=_e((e,t)=>{me(),ge(),pe();var r=Wr(),{PromisePrototypeThen:s,SymbolAsyncIterator:c,SymbolIterator:n}=Qe(),{Buffer:i}=(it(),Ne(nt)),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:a}=gt().codes;function h(d,g,m){let b;if(typeof g=="string"||g instanceof i)return new d({objectMode:!0,...m,read(){this.push(g),this.push(null)}});let w;if(g&&g[c])w=!0,b=g[c]();else if(g&&g[n])w=!1,b=g[n]();else throw new o("iterable",["Iterable"],g);let v=new d({objectMode:!0,highWaterMark:1,...m}),R=!1;v._read=function(){R||(R=!0,T())},v._destroy=function(I,V){s(F(I),()=>r.nextTick(V,I),z=>r.nextTick(V,z||I))};async function F(I){let V=I!=null,z=typeof b.throw=="function";if(V&&z){let{value:P,done:N}=await b.throw(I);if(await P,N)return}if(typeof b.return=="function"){let{value:P}=await b.return();await P}}async function T(){for(;;){try{let{value:I,done:V}=w?await b.next():b.next();if(V)v.push(null);else{let z=I&&typeof I.then=="function"?await I:I;if(z===null)throw R=!1,new a;if(v.push(z))continue;R=!1}}catch(I){v.destroy(I)}break}}return v}t.exports=h}),Ai=_e((e,t)=>{me(),ge(),pe();var r=Wr(),{ArrayPrototypeIndexOf:s,NumberIsInteger:c,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:a,ObjectSetPrototypeOf:h,Promise:d,SafeSet:g,SymbolAsyncIterator:m,Symbol:b}=Qe();t.exports=S,S.ReadableState=ye;var{EventEmitter:w}=(nn(),Ne($r)),{Stream:v,prependListener:R}=il(),{Buffer:F}=(it(),Ne(nt)),{addAbortSignal:T}=Ei(),I=br(),V=Gt().debuglog("stream",u=>{V=u}),z=Bp(),P=rn(),{getHighWaterMark:N,getDefaultHighWaterMark:H}=ol(),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:ne,ERR_METHOD_NOT_IMPLEMENTED:le,ERR_OUT_OF_RANGE:U,ERR_STREAM_PUSH_AFTER_EOF:J,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:se}}=gt(),{validateObject:te}=vi(),ce=b("kPaused"),{StringDecoder:ie}=(Qp(),Ne(Ec)),G=Ac();h(S.prototype,v.prototype),h(S,v);var be=()=>{},{errorOrDestroy:ue}=P;function ye(u,l,f){typeof f!="boolean"&&(f=l instanceof Qt()),this.objectMode=!!(u&&u.objectMode),f&&(this.objectMode=this.objectMode||!!(u&&u.readableObjectMode)),this.highWaterMark=u?N(this,u,"readableHighWaterMark",f):H(!1),this.buffer=new z,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[ce]=null,this.errorEmitted=!1,this.emitClose=!u||u.emitClose!==!1,this.autoDestroy=!u||u.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=u&&u.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,u&&u.encoding&&(this.decoder=new ie(u.encoding),this.encoding=u.encoding)}function S(u){if(!(this instanceof S))return new S(u);let l=this instanceof Qt();this._readableState=new ye(u,this,l),u&&(typeof u.read=="function"&&(this._read=u.read),typeof u.destroy=="function"&&(this._destroy=u.destroy),typeof u.construct=="function"&&(this._construct=u.construct),u.signal&&!l&&T(u.signal,this)),v.call(this,u),P.construct(this,()=>{this._readableState.needReadable&&ae(this,this._readableState)})}S.prototype.destroy=P.destroy,S.prototype._undestroy=P.undestroy,S.prototype._destroy=function(u,l){l(u)},S.prototype[w.captureRejectionSymbol]=function(u){this.destroy(u)},S.prototype.push=function(u,l){return re(this,u,l,!1)},S.prototype.unshift=function(u,l){return re(this,u,l,!0)};function re(u,l,f,y){V("readableAddChunk",l);let _=u._readableState,L;if(_.objectMode||(typeof l=="string"?(f=f||_.defaultEncoding,_.encoding!==f&&(y&&_.encoding?l=F.from(l,f).toString(_.encoding):(l=F.from(l,f),f=""))):l instanceof F?f="":v._isUint8Array(l)?(l=v._uint8ArrayToBuffer(l),f=""):l!=null&&(L=new ne("chunk",["string","Buffer","Uint8Array"],l))),L)ue(u,L);else if(l===null)_.reading=!1,M(u,_);else if(_.objectMode||l&&l.length>0)if(y)if(_.endEmitted)ue(u,new se);else{if(_.destroyed||_.errored)return!1;de(u,_,l,!0)}else if(_.ended)ue(u,new J);else{if(_.destroyed||_.errored)return!1;_.reading=!1,_.decoder&&!f?(l=_.decoder.write(l),_.objectMode||l.length!==0?de(u,_,l,!1):ae(u,_)):de(u,_,l,!1)}else y||(_.reading=!1,ae(u,_));return!_.ended&&(_.length<_.highWaterMark||_.length===0)}function de(u,l,f,y){l.flowing&&l.length===0&&!l.sync&&u.listenerCount("data")>0?(l.multiAwaitDrain?l.awaitDrainWriters.clear():l.awaitDrainWriters=null,l.dataEmitted=!0,u.emit("data",f)):(l.length+=l.objectMode?1:f.length,y?l.buffer.unshift(f):l.buffer.push(f),l.needReadable&&ee(u)),ae(u,l)}S.prototype.isPaused=function(){let u=this._readableState;return u[ce]===!0||u.flowing===!1},S.prototype.setEncoding=function(u){let l=new ie(u);this._readableState.decoder=l,this._readableState.encoding=this._readableState.decoder.encoding;let f=this._readableState.buffer,y="";for(let _ of f)y+=l.write(_);return f.clear(),y!==""&&f.push(y),this._readableState.length=y.length,this};var Se=1073741824;function he(u){if(u>Se)throw new U("size","<= 1GiB",u);return u--,u|=u>>>1,u|=u>>>2,u|=u>>>4,u|=u>>>8,u|=u>>>16,u++,u}function D(u,l){return u<=0||l.length===0&&l.ended?0:l.objectMode?1:n(u)?l.flowing&&l.length?l.buffer.first().length:l.length:u<=l.length?u:l.ended?l.length:0}S.prototype.read=function(u){V("read",u),u===void 0?u=NaN:c(u)||(u=i(u,10));let l=this._readableState,f=u;if(u>l.highWaterMark&&(l.highWaterMark=he(u)),u!==0&&(l.emittedReadable=!1),u===0&&l.needReadable&&((l.highWaterMark!==0?l.length>=l.highWaterMark:l.length>0)||l.ended))return V("read: emitReadable",l.length,l.ended),l.length===0&&l.ended?A(this):ee(this),null;if(u=D(u,l),u===0&&l.ended)return l.length===0&&A(this),null;let y=l.needReadable;if(V("need readable",y),(l.length===0||l.length-u<l.highWaterMark)&&(y=!0,V("length less than watermark",y)),l.ended||l.reading||l.destroyed||l.errored||!l.constructed)y=!1,V("reading, ended or constructing",y);else if(y){V("do read"),l.reading=!0,l.sync=!0,l.length===0&&(l.needReadable=!0);try{this._read(l.highWaterMark)}catch(L){ue(this,L)}l.sync=!1,l.reading||(u=D(f,l))}let _;return u>0?_=W(u,l):_=null,_===null?(l.needReadable=l.length<=l.highWaterMark,u=0):(l.length-=u,l.multiAwaitDrain?l.awaitDrainWriters.clear():l.awaitDrainWriters=null),l.length===0&&(l.ended||(l.needReadable=!0),f!==u&&l.ended&&A(this)),_!==null&&!l.errorEmitted&&!l.closeEmitted&&(l.dataEmitted=!0,this.emit("data",_)),_};function M(u,l){if(V("onEofChunk"),!l.ended){if(l.decoder){let f=l.decoder.end();f&&f.length&&(l.buffer.push(f),l.length+=l.objectMode?1:f.length)}l.ended=!0,l.sync?ee(u):(l.needReadable=!1,l.emittedReadable=!0,fe(u))}}function ee(u){let l=u._readableState;V("emitReadable",l.needReadable,l.emittedReadable),l.needReadable=!1,l.emittedReadable||(V("emitReadable",l.flowing),l.emittedReadable=!0,r.nextTick(fe,u))}function fe(u){let l=u._readableState;V("emitReadable_",l.destroyed,l.length,l.ended),!l.destroyed&&!l.errored&&(l.length||l.ended)&&(u.emit("readable"),l.emittedReadable=!1),l.needReadable=!l.flowing&&!l.ended&&l.length<=l.highWaterMark,K(u)}function ae(u,l){!l.readingMore&&l.constructed&&(l.readingMore=!0,r.nextTick(oe,u,l))}function oe(u,l){for(;!l.reading&&!l.ended&&(l.length<l.highWaterMark||l.flowing&&l.length===0);){let f=l.length;if(V("maybeReadMore read 0"),u.read(0),f===l.length)break}l.readingMore=!1}S.prototype._read=function(u){throw new le("_read()")},S.prototype.pipe=function(u,l){let f=this,y=this._readableState;y.pipes.length===1&&(y.multiAwaitDrain||(y.multiAwaitDrain=!0,y.awaitDrainWriters=new g(y.awaitDrainWriters?[y.awaitDrainWriters]:[]))),y.pipes.push(u),V("pipe count=%d opts=%j",y.pipes.length,l);let _=(!l||l.end!==!1)&&u!==r.stdout&&u!==r.stderr?Z:et;y.endEmitted?r.nextTick(_):f.once("end",_),u.on("unpipe",L);function L(at,Xe){V("onunpipe"),at===f&&Xe&&Xe.hasUnpiped===!1&&(Xe.hasUnpiped=!0,ve())}function Z(){V("onend"),u.end()}let Ee,xe=!1;function ve(){V("cleanup"),u.removeListener("close",Je),u.removeListener("finish",Ke),Ee&&u.removeListener("drain",Ee),u.removeListener("error",je),u.removeListener("unpipe",L),f.removeListener("end",Z),f.removeListener("end",et),f.removeListener("data",Ae),xe=!0,Ee&&y.awaitDrainWriters&&(!u._writableState||u._writableState.needDrain)&&Ee()}function Ie(){xe||(y.pipes.length===1&&y.pipes[0]===u?(V("false write response, pause",0),y.awaitDrainWriters=u,y.multiAwaitDrain=!1):y.pipes.length>1&&y.pipes.includes(u)&&(V("false write response, pause",y.awaitDrainWriters.size),y.awaitDrainWriters.add(u)),f.pause()),Ee||(Ee=x(f,u),u.on("drain",Ee))}f.on("data",Ae);function Ae(at){V("ondata");let Xe=u.write(at);V("dest.write",Xe),Xe===!1&&Ie()}function je(at){if(V("onerror",at),et(),u.removeListener("error",je),u.listenerCount("error")===0){let Xe=u._writableState||u._readableState;Xe&&!Xe.errorEmitted?ue(u,at):u.emit("error",at)}}R(u,"error",je);function Je(){u.removeListener("finish",Ke),et()}u.once("close",Je);function Ke(){V("onfinish"),u.removeListener("close",Je),et()}u.once("finish",Ke);function et(){V("unpipe"),f.unpipe(u)}return u.emit("pipe",f),u.writableNeedDrain===!0?y.flowing&&Ie():y.flowing||(V("pipe resume"),f.resume()),u};function x(u,l){return function(){let f=u._readableState;f.awaitDrainWriters===l?(V("pipeOnDrain",1),f.awaitDrainWriters=null):f.multiAwaitDrain&&(V("pipeOnDrain",f.awaitDrainWriters.size),f.awaitDrainWriters.delete(l)),(!f.awaitDrainWriters||f.awaitDrainWriters.size===0)&&u.listenerCount("data")&&u.resume()}}S.prototype.unpipe=function(u){let l=this._readableState,f={hasUnpiped:!1};if(l.pipes.length===0)return this;if(!u){let _=l.pipes;l.pipes=[],this.pause();for(let L=0;L<_.length;L++)_[L].emit("unpipe",this,{hasUnpiped:!1});return this}let y=s(l.pipes,u);return y===-1?this:(l.pipes.splice(y,1),l.pipes.length===0&&this.pause(),u.emit("unpipe",this,f),this)},S.prototype.on=function(u,l){let f=v.prototype.on.call(this,u,l),y=this._readableState;return u==="data"?(y.readableListening=this.listenerCount("readable")>0,y.flowing!==!1&&this.resume()):u==="readable"&&!y.endEmitted&&!y.readableListening&&(y.readableListening=y.needReadable=!0,y.flowing=!1,y.emittedReadable=!1,V("on readable",y.length,y.reading),y.length?ee(this):y.reading||r.nextTick(E,this)),f},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(u,l){let f=v.prototype.removeListener.call(this,u,l);return u==="readable"&&r.nextTick(B,this),f},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(u){let l=v.prototype.removeAllListeners.apply(this,arguments);return(u==="readable"||u===void 0)&&r.nextTick(B,this),l};function B(u){let l=u._readableState;l.readableListening=u.listenerCount("readable")>0,l.resumeScheduled&&l[ce]===!1?l.flowing=!0:u.listenerCount("data")>0?u.resume():l.readableListening||(l.flowing=null)}function E(u){V("readable nexttick read 0"),u.read(0)}S.prototype.resume=function(){let u=this._readableState;return u.flowing||(V("resume"),u.flowing=!u.readableListening,O(this,u)),u[ce]=!1,this};function O(u,l){l.resumeScheduled||(l.resumeScheduled=!0,r.nextTick(k,u,l))}function k(u,l){V("resume",l.reading),l.reading||u.read(0),l.resumeScheduled=!1,u.emit("resume"),K(u),l.flowing&&!l.reading&&u.read(0)}S.prototype.pause=function(){return V("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(V("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ce]=!0,this};function K(u){let l=u._readableState;for(V("flow",l.flowing);l.flowing&&u.read()!==null;);}S.prototype.wrap=function(u){let l=!1;u.on("data",y=>{!this.push(y)&&u.pause&&(l=!0,u.pause())}),u.on("end",()=>{this.push(null)}),u.on("error",y=>{ue(this,y)}),u.on("close",()=>{this.destroy()}),u.on("destroy",()=>{this.destroy()}),this._read=()=>{l&&u.resume&&(l=!1,u.resume())};let f=a(u);for(let y=1;y<f.length;y++){let _=f[y];this[_]===void 0&&typeof u[_]=="function"&&(this[_]=u[_].bind(u))}return this},S.prototype[m]=function(){return Y(this)},S.prototype.iterator=function(u){return u!==void 0&&te(u,"options"),Y(this,u)};function Y(u,l){typeof u.read!="function"&&(u=S.wrap(u,{objectMode:!0}));let f=C(u,l);return f.stream=u,f}async function*C(u,l){let f=be;function y(Z){this===u?(f(),f=be):f=Z}u.on("readable",y);let _,L=I(u,{writable:!1},Z=>{_=Z?Q(_,Z):null,f(),f=be});try{for(;;){let Z=u.destroyed?null:u.read();if(Z!==null)yield Z;else{if(_)throw _;if(_===null)return;await new d(y)}}}catch(Z){throw _=Q(_,Z),_}finally{(_||(l==null?void 0:l.destroyOnReturn)!==!1)&&(_===void 0||u._readableState.autoDestroy)?P.destroyer(u,null):(u.off("readable",y),L())}}o(S.prototype,{readable:{__proto__:null,get(){let u=this._readableState;return!!u&&u.readable!==!1&&!u.destroyed&&!u.errorEmitted&&!u.endEmitted},set(u){this._readableState&&(this._readableState.readable=!!u)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(u){this._readableState&&(this._readableState.flowing=u)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(u){this._readableState&&(this._readableState.destroyed=u)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(ye.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ce]!==!1},set(u){this[ce]=!!u}}}),S._fromList=W;function W(u,l){if(l.length===0)return null;let f;return l.objectMode?f=l.buffer.shift():!u||u>=l.length?(l.decoder?f=l.buffer.join(""):l.buffer.length===1?f=l.buffer.first():f=l.buffer.concat(l.length),l.buffer.clear()):f=l.buffer.consume(u,l.decoder),f}function A(u){let l=u._readableState;V("endReadable",l.endEmitted),l.endEmitted||(l.ended=!0,r.nextTick(j,l,u))}function j(u,l){if(V("endReadableNT",u.endEmitted,u.length),!u.errored&&!u.closeEmitted&&!u.endEmitted&&u.length===0){if(u.endEmitted=!0,l.emit("end"),l.writable&&l.allowHalfOpen===!1)r.nextTick(q,l);else if(u.autoDestroy){let f=l._writableState;(!f||f.autoDestroy&&(f.finished||f.writable===!1))&&l.destroy()}}}function q(u){u.writable&&!u.writableEnded&&!u.destroyed&&u.end()}S.from=function(u,l){return G(S,u,l)};var X;function p(){return X===void 0&&(X={}),X}S.fromWeb=function(u,l){return p().newStreamReadableFromReadableStream(u,l)},S.toWeb=function(u,l){return p().newReadableStreamFromStreamReadable(u,l)},S.wrap=function(u,l){var f,y;return new S({objectMode:(f=(y=u.readableObjectMode)!==null&&y!==void 0?y:u.objectMode)!==null&&f!==void 0?f:!0,...l,destroy(_,L){P.destroyer(u,_),L(_)}}).wrap(u)}}),Ic=_e((e,t)=>{me(),ge(),pe();var r=Wr(),{ArrayPrototypeSlice:s,Error:c,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:h,Symbol:d,SymbolHasInstance:g}=Qe();t.exports=ie,ie.WritableState=te;var{EventEmitter:m}=(nn(),Ne($r)),b=il().Stream,{Buffer:w}=(it(),Ne(nt)),v=rn(),{addAbortSignal:R}=Ei(),{getHighWaterMark:F,getDefaultHighWaterMark:T}=ol(),{ERR_INVALID_ARG_TYPE:I,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_MULTIPLE_CALLBACK:z,ERR_STREAM_CANNOT_PIPE:P,ERR_STREAM_DESTROYED:N,ERR_STREAM_ALREADY_FINISHED:H,ERR_STREAM_NULL_VALUES:Q,ERR_STREAM_WRITE_AFTER_END:ne,ERR_UNKNOWN_ENCODING:le}=gt().codes,{errorOrDestroy:U}=v;a(ie.prototype,b.prototype),a(ie,b);function J(){}var se=d("kOnFinished");function te(E,O,k){typeof k!="boolean"&&(k=O instanceof Qt()),this.objectMode=!!(E&&E.objectMode),k&&(this.objectMode=this.objectMode||!!(E&&E.writableObjectMode)),this.highWaterMark=E?F(this,E,"writableHighWaterMark",k):T(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let K=!!(E&&E.decodeStrings===!1);this.decodeStrings=!K,this.defaultEncoding=E&&E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=S.bind(void 0,O),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ce(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!E||E.emitClose!==!1,this.autoDestroy=!E||E.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[se]=[]}function ce(E){E.buffered=[],E.bufferedIndex=0,E.allBuffers=!0,E.allNoop=!0}te.prototype.getBuffer=function(){return s(this.buffered,this.bufferedIndex)},i(te.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ie(E){let O=this instanceof Qt();if(!O&&!n(ie,this))return new ie(E);this._writableState=new te(E,this,O),E&&(typeof E.write=="function"&&(this._write=E.write),typeof E.writev=="function"&&(this._writev=E.writev),typeof E.destroy=="function"&&(this._destroy=E.destroy),typeof E.final=="function"&&(this._final=E.final),typeof E.construct=="function"&&(this._construct=E.construct),E.signal&&R(E.signal,this)),b.call(this,E),v.construct(this,()=>{let k=this._writableState;k.writing||he(this,k),fe(this,k)})}i(ie,g,{__proto__:null,value:function(E){return n(this,E)?!0:this!==ie?!1:E&&E._writableState instanceof te}}),ie.prototype.pipe=function(){U(this,new P)};function G(E,O,k,K){let Y=E._writableState;if(typeof k=="function")K=k,k=Y.defaultEncoding;else{if(!k)k=Y.defaultEncoding;else if(k!=="buffer"&&!w.isEncoding(k))throw new le(k);typeof K!="function"&&(K=J)}if(O===null)throw new Q;if(!Y.objectMode)if(typeof O=="string")Y.decodeStrings!==!1&&(O=w.from(O,k),k="buffer");else if(O instanceof w)k="buffer";else if(b._isUint8Array(O))O=b._uint8ArrayToBuffer(O),k="buffer";else throw new I("chunk",["string","Buffer","Uint8Array"],O);let C;return Y.ending?C=new ne:Y.destroyed&&(C=new N("write")),C?(r.nextTick(K,C),U(E,C,!0),C):(Y.pendingcb++,be(E,Y,O,k,K))}ie.prototype.write=function(E,O,k){return G(this,E,O,k)===!0},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){let E=this._writableState;E.corked&&(E.corked--,E.writing||he(this,E))},ie.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=h(E)),!w.isEncoding(E))throw new le(E);return this._writableState.defaultEncoding=E,this};function be(E,O,k,K,Y){let C=O.objectMode?1:k.length;O.length+=C;let W=O.length<O.highWaterMark;return W||(O.needDrain=!0),O.writing||O.corked||O.errored||!O.constructed?(O.buffered.push({chunk:k,encoding:K,callback:Y}),O.allBuffers&&K!=="buffer"&&(O.allBuffers=!1),O.allNoop&&Y!==J&&(O.allNoop=!1)):(O.writelen=C,O.writecb=Y,O.writing=!0,O.sync=!0,E._write(k,K,O.onwrite),O.sync=!1),W&&!O.errored&&!O.destroyed}function ue(E,O,k,K,Y,C,W){O.writelen=K,O.writecb=W,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new N("write")):k?E._writev(Y,O.onwrite):E._write(Y,C,O.onwrite),O.sync=!1}function ye(E,O,k,K){--O.pendingcb,K(k),Se(O),U(E,k)}function S(E,O){let k=E._writableState,K=k.sync,Y=k.writecb;if(typeof Y!="function"){U(E,new z);return}k.writing=!1,k.writecb=null,k.length-=k.writelen,k.writelen=0,O?(O.stack,k.errored||(k.errored=O),E._readableState&&!E._readableState.errored&&(E._readableState.errored=O),K?r.nextTick(ye,E,k,O,Y):ye(E,k,O,Y)):(k.buffered.length>k.bufferedIndex&&he(E,k),K?k.afterWriteTickInfo!==null&&k.afterWriteTickInfo.cb===Y?k.afterWriteTickInfo.count++:(k.afterWriteTickInfo={count:1,cb:Y,stream:E,state:k},r.nextTick(re,k.afterWriteTickInfo)):de(E,k,1,Y))}function re({stream:E,state:O,count:k,cb:K}){return O.afterWriteTickInfo=null,de(E,O,k,K)}function de(E,O,k,K){for(!O.ending&&!E.destroyed&&O.length===0&&O.needDrain&&(O.needDrain=!1,E.emit("drain"));k-- >0;)O.pendingcb--,K();O.destroyed&&Se(O),fe(E,O)}function Se(E){if(E.writing)return;for(let Y=E.bufferedIndex;Y<E.buffered.length;++Y){var O;let{chunk:C,callback:W}=E.buffered[Y],A=E.objectMode?1:C.length;E.length-=A,W((O=E.errored)!==null&&O!==void 0?O:new N("write"))}let k=E[se].splice(0);for(let Y=0;Y<k.length;Y++){var K;k[Y]((K=E.errored)!==null&&K!==void 0?K:new N("end"))}ce(E)}function he(E,O){if(O.corked||O.bufferProcessing||O.destroyed||!O.constructed)return;let{buffered:k,bufferedIndex:K,objectMode:Y}=O,C=k.length-K;if(!C)return;let W=K;if(O.bufferProcessing=!0,C>1&&E._writev){O.pendingcb-=C-1;let A=O.allNoop?J:q=>{for(let X=W;X<k.length;++X)k[X].callback(q)},j=O.allNoop&&W===0?k:s(k,W);j.allBuffers=O.allBuffers,ue(E,O,!0,O.length,j,"",A),ce(O)}else{do{let{chunk:A,encoding:j,callback:q}=k[W];k[W++]=null;let X=Y?1:A.length;ue(E,O,!1,X,A,j,q)}while(W<k.length&&!O.writing);W===k.length?ce(O):W>256?(k.splice(0,W),O.bufferedIndex=0):O.bufferedIndex=W}O.bufferProcessing=!1}ie.prototype._write=function(E,O,k){if(this._writev)this._writev([{chunk:E,encoding:O}],k);else throw new V("_write()")},ie.prototype._writev=null,ie.prototype.end=function(E,O,k){let K=this._writableState;typeof E=="function"?(k=E,E=null,O=null):typeof O=="function"&&(k=O,O=null);let Y;if(E!=null){let C=G(this,E,O);C instanceof c&&(Y=C)}return K.corked&&(K.corked=1,this.uncork()),Y||(!K.errored&&!K.ending?(K.ending=!0,fe(this,K,!0),K.ended=!0):K.finished?Y=new H("end"):K.destroyed&&(Y=new N("end"))),typeof k=="function"&&(Y||K.finished?r.nextTick(k,Y):K[se].push(k)),this};function D(E){return E.ending&&!E.destroyed&&E.constructed&&E.length===0&&!E.errored&&E.buffered.length===0&&!E.finished&&!E.writing&&!E.errorEmitted&&!E.closeEmitted}function M(E,O){let k=!1;function K(Y){if(k){U(E,Y??z());return}if(k=!0,O.pendingcb--,Y){let C=O[se].splice(0);for(let W=0;W<C.length;W++)C[W](Y);U(E,Y,O.sync)}else D(O)&&(O.prefinished=!0,E.emit("prefinish"),O.pendingcb++,r.nextTick(ae,E,O))}O.sync=!0,O.pendingcb++;try{E._final(K)}catch(Y){K(Y)}O.sync=!1}function ee(E,O){!O.prefinished&&!O.finalCalled&&(typeof E._final=="function"&&!O.destroyed?(O.finalCalled=!0,M(E,O)):(O.prefinished=!0,E.emit("prefinish")))}function fe(E,O,k){D(O)&&(ee(E,O),O.pendingcb===0&&(k?(O.pendingcb++,r.nextTick((K,Y)=>{D(Y)?ae(K,Y):Y.pendingcb--},E,O)):D(O)&&(O.pendingcb++,ae(E,O))))}function ae(E,O){O.pendingcb--,O.finished=!0;let k=O[se].splice(0);for(let K=0;K<k.length;K++)k[K]();if(E.emit("finish"),O.autoDestroy){let K=E._readableState;(!K||K.autoDestroy&&(K.endEmitted||K.readable===!1))&&E.destroy()}}o(ie.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(E){this._writableState&&(this._writableState.destroyed=E)}},writable:{__proto__:null,get(){let E=this._writableState;return!!E&&E.writable!==!1&&!E.destroyed&&!E.errored&&!E.ending&&!E.ended},set(E){this._writableState&&(this._writableState.writable=!!E)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let E=this._writableState;return E?!E.destroyed&&!E.ending&&E.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var oe=v.destroy;ie.prototype.destroy=function(E,O){let k=this._writableState;return!k.destroyed&&(k.bufferedIndex<k.buffered.length||k[se].length)&&r.nextTick(Se,k),oe.call(this,E,O),this},ie.prototype._undestroy=v.undestroy,ie.prototype._destroy=function(E,O){O(E)},ie.prototype[m.captureRejectionSymbol]=function(E){this.destroy(E)};var x;function B(){return x===void 0&&(x={}),x}ie.fromWeb=function(E,O){return B().newStreamWritableFromWritableStream(E,O)},ie.toWeb=function(E){return B().newWritableStreamFromStreamWritable(E)}}),Jp=_e((e,t)=>{me(),ge(),pe();var r=Wr(),s=(it(),Ne(nt)),{isReadable:c,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:a,isWritableNodeStream:h,isDuplexNodeStream:d}=Zt(),g=br(),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:w}}=gt(),{destroyer:v}=rn(),R=Qt(),F=Ai(),{createDeferredPromise:T}=Gt(),I=Ac(),V=globalThis.Blob||s.Blob,z=typeof V<"u"?function(le){return le instanceof V}:function(le){return!1},P=globalThis.AbortController||nl().AbortController,{FunctionPrototypeCall:N}=Qe(),H=class extends R{constructor(le){super(le),(le==null?void 0:le.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(le==null?void 0:le.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};t.exports=function le(U,J){if(d(U))return U;if(a(U))return ne({readable:U});if(h(U))return ne({writable:U});if(o(U))return ne({writable:!1,readable:!1});if(typeof U=="function"){let{value:te,write:ce,final:ie,destroy:G}=Q(U);if(i(te))return I(H,te,{objectMode:!0,write:ce,final:ie,destroy:G});let be=te==null?void 0:te.then;if(typeof be=="function"){let ue,ye=N(be,te,S=>{if(S!=null)throw new w("nully","body",S)},S=>{v(ue,S)});return ue=new H({objectMode:!0,readable:!1,write:ce,final(S){ie(async()=>{try{await ye,r.nextTick(S,null)}catch(re){r.nextTick(S,re)}})},destroy:G})}throw new w("Iterable, AsyncIterable or AsyncFunction",J,te)}if(z(U))return le(U.arrayBuffer());if(i(U))return I(H,U,{objectMode:!0,writable:!1});if(typeof(U==null?void 0:U.writable)=="object"||typeof(U==null?void 0:U.readable)=="object"){let te=U!=null&&U.readable?a(U==null?void 0:U.readable)?U==null?void 0:U.readable:le(U.readable):void 0,ce=U!=null&&U.writable?h(U==null?void 0:U.writable)?U==null?void 0:U.writable:le(U.writable):void 0;return ne({readable:te,writable:ce})}let se=U==null?void 0:U.then;if(typeof se=="function"){let te;return N(se,U,ce=>{ce!=null&&te.push(ce),te.push(null)},ce=>{v(te,ce)}),te=new H({objectMode:!0,writable:!1,read(){}})}throw new b(J,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],U)};function Q(le){let{promise:U,resolve:J}=T(),se=new P,te=se.signal;return{value:le(async function*(){for(;;){let ce=U;U=null;let{chunk:ie,done:G,cb:be}=await ce;if(r.nextTick(be),G)return;if(te.aborted)throw new m(void 0,{cause:te.reason});({promise:U,resolve:J}=T()),yield ie}}(),{signal:te}),write(ce,ie,G){let be=J;J=null,be({chunk:ce,done:!1,cb:G})},final(ce){let ie=J;J=null,ie({done:!0,cb:ce})},destroy(ce,ie){se.abort(),ie(ce)}}}function ne(le){let U=le.readable&&typeof le.readable.read!="function"?F.wrap(le.readable):le.readable,J=le.writable,se=!!c(U),te=!!n(J),ce,ie,G,be,ue;function ye(S){let re=be;be=null,re?re(S):S&&ue.destroy(S)}return ue=new H({readableObjectMode:!!(U!=null&&U.readableObjectMode),writableObjectMode:!!(J!=null&&J.writableObjectMode),readable:se,writable:te}),te&&(g(J,S=>{te=!1,S&&v(U,S),ye(S)}),ue._write=function(S,re,de){J.write(S,re)?de():ce=de},ue._final=function(S){J.end(),ie=S},J.on("drain",function(){if(ce){let S=ce;ce=null,S()}}),J.on("finish",function(){if(ie){let S=ie;ie=null,S()}})),se&&(g(U,S=>{se=!1,S&&v(U,S),ye(S)}),U.on("readable",function(){if(G){let S=G;G=null,S()}}),U.on("end",function(){ue.push(null)}),ue._read=function(){for(;;){let S=U.read();if(S===null){G=ue._read;return}if(!ue.push(S))return}}),ue._destroy=function(S,re){!S&&be!==null&&(S=new m),G=null,ce=null,ie=null,be===null?re(S):(be=re,v(J,S),v(U,S))},ue}}),Qt=_e((e,t)=>{me(),ge(),pe();var{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:s,ObjectKeys:c,ObjectSetPrototypeOf:n}=Qe();t.exports=a;var i=Ai(),o=Ic();n(a.prototype,i.prototype),n(a,i);{let m=c(o.prototype);for(let b=0;b<m.length;b++){let w=m[b];a.prototype[w]||(a.prototype[w]=o.prototype[w])}}function a(m){if(!(this instanceof a))return new a(m);i.call(this,m),o.call(this,m),m?(this.allowHalfOpen=m.allowHalfOpen!==!1,m.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),m.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}r(a.prototype,{writable:{__proto__:null,...s(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...s(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...s(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...s(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...s(o.prototype,"writableLength")},writableFinished:{__proto__:null,...s(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...s(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...s(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...s(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(m){this._readableState&&this._writableState&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}});var h;function d(){return h===void 0&&(h={}),h}a.fromWeb=function(m,b){return d().newStreamDuplexFromReadableWritablePair(m,b)},a.toWeb=function(m){return d().newReadableWritablePairFromDuplex(m)};var g;a.from=function(m){return g||(g=Jp()),g(m,"body")}}),xc=_e((e,t)=>{me(),ge(),pe();var{ObjectSetPrototypeOf:r,Symbol:s}=Qe();t.exports=a;var{ERR_METHOD_NOT_IMPLEMENTED:c}=gt().codes,n=Qt(),{getHighWaterMark:i}=ol();r(a.prototype,n.prototype),r(a,n);var o=s("kCallback");function a(g){if(!(this instanceof a))return new a(g);let m=g?i(this,g,"readableHighWaterMark",!0):null;m===0&&(g={...g,highWaterMark:null,readableHighWaterMark:m,writableHighWaterMark:g.writableHighWaterMark||0}),n.call(this,g),this._readableState.sync=!1,this[o]=null,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",d)}function h(g){typeof this._flush=="function"&&!this.destroyed?this._flush((m,b)=>{if(m){g?g(m):this.destroy(m);return}b!=null&&this.push(b),this.push(null),g&&g()}):(this.push(null),g&&g())}function d(){this._final!==h&&h.call(this)}a.prototype._final=h,a.prototype._transform=function(g,m,b){throw new c("_transform()")},a.prototype._write=function(g,m,b){let w=this._readableState,v=this._writableState,R=w.length;this._transform(g,m,(F,T)=>{if(F){b(F);return}T!=null&&this.push(T),v.ended||R===w.length||w.length<w.highWaterMark?b():this[o]=b})},a.prototype._read=function(){if(this[o]){let g=this[o];this[o]=null,g()}}}),Tc=_e((e,t)=>{me(),ge(),pe();var{ObjectSetPrototypeOf:r}=Qe();t.exports=c;var s=xc();r(c.prototype,s.prototype),r(c,s);function c(n){if(!(this instanceof c))return new c(n);s.call(this,n)}c.prototype._transform=function(n,i,o){o(null,n)}}),al=_e((e,t)=>{me(),ge(),pe();var r=Wr(),{ArrayIsArray:s,Promise:c,SymbolAsyncIterator:n}=Qe(),i=br(),{once:o}=Gt(),a=rn(),h=Qt(),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:m,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:w,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:R}=gt(),{validateFunction:F,validateAbortSignal:T}=vi(),{isIterable:I,isReadable:V,isReadableNodeStream:z,isNodeStream:P,isTransformStream:N,isWebStream:H,isReadableStream:Q,isReadableEnded:ne}=Zt(),le=globalThis.AbortController||nl().AbortController,U,J;function se(re,de,Se){let he=!1;re.on("close",()=>{he=!0});let D=i(re,{readable:de,writable:Se},M=>{he=!M});return{destroy:M=>{he||(he=!0,a.destroyer(re,M||new w("pipe")))},cleanup:D}}function te(re){return F(re[re.length-1],"streams[stream.length - 1]"),re.pop()}function ce(re){if(I(re))return re;if(z(re))return ie(re);throw new g("val",["Readable","Iterable","AsyncIterable"],re)}async function*ie(re){J||(J=Ai()),yield*J.prototype[n].call(re)}async function G(re,de,Se,{end:he}){let D,M=null,ee=oe=>{if(oe&&(D=oe),M){let x=M;M=null,x()}},fe=()=>new c((oe,x)=>{D?x(D):M=()=>{D?x(D):oe()}});de.on("drain",ee);let ae=i(de,{readable:!1},ee);try{de.writableNeedDrain&&await fe();for await(let oe of re)de.write(oe)||await fe();he&&de.end(),await fe(),Se()}catch(oe){Se(D!==oe?d(D,oe):oe)}finally{ae(),de.off("drain",ee)}}async function be(re,de,Se,{end:he}){N(de)&&(de=de.writable);let D=de.getWriter();try{for await(let M of re)await D.ready,D.write(M).catch(()=>{});await D.ready,he&&await D.close(),Se()}catch(M){try{await D.abort(M),Se(M)}catch(ee){Se(ee)}}}function ue(...re){return ye(re,o(te(re)))}function ye(re,de,Se){if(re.length===1&&s(re[0])&&(re=re[0]),re.length<2)throw new b("streams");let he=new le,D=he.signal,M=Se==null?void 0:Se.signal,ee=[];T(M,"options.signal");function fe(){O(new R)}M==null||M.addEventListener("abort",fe);let ae,oe,x=[],B=0;function E(C){O(C,--B===0)}function O(C,W){if(C&&(!ae||ae.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ae=C),!(!ae&&!W)){for(;x.length;)x.shift()(ae);M==null||M.removeEventListener("abort",fe),he.abort(),W&&(ae||ee.forEach(A=>A()),r.nextTick(de,ae,oe))}}let k;for(let C=0;C<re.length;C++){let W=re[C],A=C<re.length-1,j=C>0,q=A||(Se==null?void 0:Se.end)!==!1,X=C===re.length-1;if(P(W)){let p=function(u){u&&u.name!=="AbortError"&&u.code!=="ERR_STREAM_PREMATURE_CLOSE"&&E(u)};if(q){let{destroy:u,cleanup:l}=se(W,A,j);x.push(u),V(W)&&X&&ee.push(l)}W.on("error",p),V(W)&&X&&ee.push(()=>{W.removeListener("error",p)})}if(C===0)if(typeof W=="function"){if(k=W({signal:D}),!I(k))throw new m("Iterable, AsyncIterable or Stream","source",k)}else I(W)||z(W)||N(W)?k=W:k=h.from(W);else if(typeof W=="function"){if(N(k)){var K;k=ce((K=k)===null||K===void 0?void 0:K.readable)}else k=ce(k);if(k=W(k,{signal:D}),A){if(!I(k,!0))throw new m("AsyncIterable",`transform[${C-1}]`,k)}else{var Y;U||(U=Tc());let p=new U({objectMode:!0}),u=(Y=k)===null||Y===void 0?void 0:Y.then;if(typeof u=="function")B++,u.call(k,y=>{oe=y,y!=null&&p.write(y),q&&p.end(),r.nextTick(E)},y=>{p.destroy(y),r.nextTick(E,y)});else if(I(k,!0))B++,G(k,p,E,{end:q});else if(Q(k)||N(k)){let y=k.readable||k;B++,G(y,p,E,{end:q})}else throw new m("AsyncIterable or Promise","destination",k);k=p;let{destroy:l,cleanup:f}=se(k,!1,!0);x.push(l),X&&ee.push(f)}}else if(P(W)){if(z(k)){B+=2;let p=S(k,W,E,{end:q});V(W)&&X&&ee.push(p)}else if(N(k)||Q(k)){let p=k.readable||k;B++,G(p,W,E,{end:q})}else if(I(k))B++,G(k,W,E,{end:q});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],k);k=W}else if(H(W)){if(z(k))B++,be(ce(k),W,E,{end:q});else if(Q(k)||I(k))B++,be(k,W,E,{end:q});else if(N(k))B++,be(k.readable,W,E,{end:q});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],k);k=W}else k=h.from(W)}return(D!=null&&D.aborted||M!=null&&M.aborted)&&r.nextTick(fe),k}function S(re,de,Se,{end:he}){let D=!1;if(de.on("close",()=>{D||Se(new v)}),re.pipe(de,{end:!1}),he){let M=function(){D=!0,de.end()};ne(re)?r.nextTick(M):re.once("end",M)}else Se();return i(re,{readable:!0,writable:!1},M=>{let ee=re._readableState;M&&M.code==="ERR_STREAM_PREMATURE_CLOSE"&&ee&&ee.ended&&!ee.errored&&!ee.errorEmitted?re.once("end",Se).once("error",Se):Se(M)}),i(de,{readable:!1,writable:!0},Se)}t.exports={pipelineImpl:ye,pipeline:ue}}),Cc=_e((e,t)=>{me(),ge(),pe();var{pipeline:r}=al(),s=Qt(),{destroyer:c}=rn(),{isNodeStream:n,isReadable:i,isWritable:o,isWebStream:a,isTransformStream:h,isWritableStream:d,isReadableStream:g}=Zt(),{AbortError:m,codes:{ERR_INVALID_ARG_VALUE:b,ERR_MISSING_ARGS:w}}=gt(),v=br();t.exports=function(...R){if(R.length===0)throw new w("streams");if(R.length===1)return s.from(R[0]);let F=[...R];if(typeof R[0]=="function"&&(R[0]=s.from(R[0])),typeof R[R.length-1]=="function"){let U=R.length-1;R[U]=s.from(R[U])}for(let U=0;U<R.length;++U)if(!(!n(R[U])&&!a(R[U]))){if(U<R.length-1&&!(i(R[U])||g(R[U])||h(R[U])))throw new b(`streams[${U}]`,F[U],"must be readable");if(U>0&&!(o(R[U])||d(R[U])||h(R[U])))throw new b(`streams[${U}]`,F[U],"must be writable")}let T,I,V,z,P;function N(U){let J=z;z=null,J?J(U):U?P.destroy(U):!le&&!ne&&P.destroy()}let H=R[0],Q=r(R,N),ne=!!(o(H)||d(H)||h(H)),le=!!(i(Q)||g(Q)||h(Q));if(P=new s({writableObjectMode:!!(H!=null&&H.writableObjectMode),readableObjectMode:!!(Q!=null&&Q.writableObjectMode),writable:ne,readable:le}),ne){if(n(H))P._write=function(J,se,te){H.write(J,se)?te():T=te},P._final=function(J){H.end(),I=J},H.on("drain",function(){if(T){let J=T;T=null,J()}});else if(a(H)){let J=(h(H)?H.writable:H).getWriter();P._write=async function(se,te,ce){try{await J.ready,J.write(se).catch(()=>{}),ce()}catch(ie){ce(ie)}},P._final=async function(se){try{await J.ready,J.close().catch(()=>{}),I=se}catch(te){se(te)}}}let U=h(Q)?Q.readable:Q;v(U,()=>{if(I){let J=I;I=null,J()}})}if(le){if(n(Q))Q.on("readable",function(){if(V){let U=V;V=null,U()}}),Q.on("end",function(){P.push(null)}),P._read=function(){for(;;){let U=Q.read();if(U===null){V=P._read;return}if(!P.push(U))return}};else if(a(Q)){let U=(h(Q)?Q.readable:Q).getReader();P._read=async function(){for(;;)try{let{value:J,done:se}=await U.read();if(!P.push(J))return;if(se){P.push(null);return}}catch{return}}}}return P._destroy=function(U,J){!U&&z!==null&&(U=new m),V=null,T=null,I=null,z===null?J(U):(z=J,n(Q)&&c(Q,U))},P}}),Xp=_e((e,t)=>{me(),ge(),pe();var r=globalThis.AbortController||nl().AbortController,{codes:{ERR_INVALID_ARG_VALUE:s,ERR_INVALID_ARG_TYPE:c,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:o}=gt(),{validateAbortSignal:a,validateInteger:h,validateObject:d}=vi(),g=Qe().Symbol("kWeak"),{finished:m}=br(),b=Cc(),{addAbortSignalNoValidate:w}=Ei(),{isWritable:v,isNodeStream:R}=Zt(),{ArrayPrototypePush:F,MathFloor:T,Number:I,NumberIsNaN:V,Promise:z,PromiseReject:P,PromisePrototypeThen:N,Symbol:H}=Qe(),Q=H("kEmpty"),ne=H("kEof");function le(he,D){if(D!=null&&d(D,"options"),(D==null?void 0:D.signal)!=null&&a(D.signal,"options.signal"),R(he)&&!v(he))throw new s("stream",he,"must be writable");let M=b(this,he);return D!=null&&D.signal&&w(D.signal,M),M}function U(he,D){if(typeof he!="function")throw new c("fn",["Function","AsyncFunction"],he);D!=null&&d(D,"options"),(D==null?void 0:D.signal)!=null&&a(D.signal,"options.signal");let M=1;return(D==null?void 0:D.concurrency)!=null&&(M=T(D.concurrency)),h(M,"concurrency",1),(async function*(){var ee,fe;let ae=new r,oe=this,x=[],B=ae.signal,E={signal:B},O=()=>ae.abort();D!=null&&(ee=D.signal)!==null&&ee!==void 0&&ee.aborted&&O(),D==null||(fe=D.signal)===null||fe===void 0||fe.addEventListener("abort",O);let k,K,Y=!1;function C(){Y=!0}async function W(){try{for await(let q of oe){var A;if(Y)return;if(B.aborted)throw new o;try{q=he(q,E)}catch(X){q=P(X)}q!==Q&&(typeof((A=q)===null||A===void 0?void 0:A.catch)=="function"&&q.catch(C),x.push(q),k&&(k(),k=null),!Y&&x.length&&x.length>=M&&await new z(X=>{K=X}))}x.push(ne)}catch(q){let X=P(q);N(X,void 0,C),x.push(X)}finally{var j;Y=!0,k&&(k(),k=null),D==null||(j=D.signal)===null||j===void 0||j.removeEventListener("abort",O)}}W();try{for(;;){for(;x.length>0;){let A=await x[0];if(A===ne)return;if(B.aborted)throw new o;A!==Q&&(yield A),x.shift(),K&&(K(),K=null)}await new z(A=>{k=A})}}finally{ae.abort(),Y=!0,K&&(K(),K=null)}}).call(this)}function J(he=void 0){return he!=null&&d(he,"options"),(he==null?void 0:he.signal)!=null&&a(he.signal,"options.signal"),(async function*(){let D=0;for await(let ee of this){var M;if(he!=null&&(M=he.signal)!==null&&M!==void 0&&M.aborted)throw new o({cause:he.signal.reason});yield[D++,ee]}}).call(this)}async function se(he,D=void 0){for await(let M of G.call(this,he,D))return!0;return!1}async function te(he,D=void 0){if(typeof he!="function")throw new c("fn",["Function","AsyncFunction"],he);return!await se.call(this,async(...M)=>!await he(...M),D)}async function ce(he,D){for await(let M of G.call(this,he,D))return M}async function ie(he,D){if(typeof he!="function")throw new c("fn",["Function","AsyncFunction"],he);async function M(ee,fe){return await he(ee,fe),Q}for await(let ee of U.call(this,M,D));}function G(he,D){if(typeof he!="function")throw new c("fn",["Function","AsyncFunction"],he);async function M(ee,fe){return await he(ee,fe)?ee:Q}return U.call(this,M,D)}var be=class extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ue(he,D,M){var ee;if(typeof he!="function")throw new c("reducer",["Function","AsyncFunction"],he);M!=null&&d(M,"options"),(M==null?void 0:M.signal)!=null&&a(M.signal,"options.signal");let fe=arguments.length>1;if(M!=null&&(ee=M.signal)!==null&&ee!==void 0&&ee.aborted){let E=new o(void 0,{cause:M.signal.reason});throw this.once("error",()=>{}),await m(this.destroy(E)),E}let ae=new r,oe=ae.signal;if(M!=null&&M.signal){let E={once:!0,[g]:this};M.signal.addEventListener("abort",()=>ae.abort(),E)}let x=!1;try{for await(let E of this){var B;if(x=!0,M!=null&&(B=M.signal)!==null&&B!==void 0&&B.aborted)throw new o;fe?D=await he(D,E,{signal:oe}):(D=E,fe=!0)}if(!x&&!fe)throw new be}finally{ae.abort()}return D}async function ye(he){he!=null&&d(he,"options"),(he==null?void 0:he.signal)!=null&&a(he.signal,"options.signal");let D=[];for await(let ee of this){var M;if(he!=null&&(M=he.signal)!==null&&M!==void 0&&M.aborted)throw new o(void 0,{cause:he.signal.reason});F(D,ee)}return D}function S(he,D){let M=U.call(this,he,D);return(async function*(){for await(let ee of M)yield*ee}).call(this)}function re(he){if(he=I(he),V(he))return 0;if(he<0)throw new i("number",">= 0",he);return he}function de(he,D=void 0){return D!=null&&d(D,"options"),(D==null?void 0:D.signal)!=null&&a(D.signal,"options.signal"),he=re(he),(async function*(){var M;if(D!=null&&(M=D.signal)!==null&&M!==void 0&&M.aborted)throw new o;for await(let fe of this){var ee;if(D!=null&&(ee=D.signal)!==null&&ee!==void 0&&ee.aborted)throw new o;he--<=0&&(yield fe)}}).call(this)}function Se(he,D=void 0){return D!=null&&d(D,"options"),(D==null?void 0:D.signal)!=null&&a(D.signal,"options.signal"),he=re(he),(async function*(){var M;if(D!=null&&(M=D.signal)!==null&&M!==void 0&&M.aborted)throw new o;for await(let fe of this){var ee;if(D!=null&&(ee=D.signal)!==null&&ee!==void 0&&ee.aborted)throw new o;if(he-- >0)yield fe;else return}}).call(this)}t.exports.streamReturningOperators={asIndexedPairs:J,drop:de,filter:G,flatMap:S,map:U,take:Se,compose:le},t.exports.promiseReturningOperators={every:te,forEach:ie,reduce:ue,toArray:ye,some:se,find:ce}}),Bc=_e((e,t)=>{me(),ge(),pe();var{ArrayPrototypePop:r,Promise:s}=Qe(),{isIterable:c,isNodeStream:n,isWebStream:i}=Zt(),{pipelineImpl:o}=al(),{finished:a}=br();Rc();function h(...d){return new s((g,m)=>{let b,w,v=d[d.length-1];if(v&&typeof v=="object"&&!n(v)&&!c(v)&&!i(v)){let R=r(d);b=R.signal,w=R.end}o(d,(R,F)=>{R?m(R):g(F)},{signal:b,end:w})})}t.exports={finished:a,pipeline:h}}),Rc=_e((e,t)=>{me(),ge(),pe();var{Buffer:r}=(it(),Ne(nt)),{ObjectDefineProperty:s,ObjectKeys:c,ReflectApply:n}=Qe(),{promisify:{custom:i}}=Gt(),{streamReturningOperators:o,promiseReturningOperators:a}=Xp(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:h}}=gt(),d=Cc(),{pipeline:g}=al(),{destroyer:m}=rn(),b=br(),w=Bc(),v=Zt(),R=t.exports=il().Stream;R.isDisturbed=v.isDisturbed,R.isErrored=v.isErrored,R.isReadable=v.isReadable,R.Readable=Ai();for(let T of c(o)){let I=function(...z){if(new.target)throw h();return R.Readable.from(n(V,this,z))},V=o[T];s(I,"name",{__proto__:null,value:V.name}),s(I,"length",{__proto__:null,value:V.length}),s(R.Readable.prototype,T,{__proto__:null,value:I,enumerable:!1,configurable:!0,writable:!0})}for(let T of c(a)){let I=function(...z){if(new.target)throw h();return n(V,this,z)},V=a[T];s(I,"name",{__proto__:null,value:V.name}),s(I,"length",{__proto__:null,value:V.length}),s(R.Readable.prototype,T,{__proto__:null,value:I,enumerable:!1,configurable:!0,writable:!0})}R.Writable=Ic(),R.Duplex=Qt(),R.Transform=xc(),R.PassThrough=Tc(),R.pipeline=g;var{addAbortSignal:F}=Ei();R.addAbortSignal=F,R.finished=b,R.destroy=m,R.compose=d,s(R,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),s(g,i,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),s(b,i,{__proto__:null,enumerable:!0,get(){return w.finished}}),R.Stream=R,R._isUint8Array=function(T){return T instanceof Uint8Array},R._uint8ArrayToBuffer=function(T){return r.from(T.buffer,T.byteOffset,T.byteLength)}}),Hr=_e((e,t)=>{me(),ge(),pe();var r=Rc(),s=Bc(),c=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=c,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return s}}),t.exports.Stream=r.Stream,t.exports.default=t.exports}),Zp=_e((e,t)=>{me(),ge(),pe(),typeof Object.create=="function"?t.exports=function(r,s){s&&(r.super_=s,r.prototype=Object.create(s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,s){if(s){r.super_=s;var c=function(){};c.prototype=s.prototype,r.prototype=new c,r.prototype.constructor=r}}}),eg=_e((e,t)=>{me(),ge(),pe();var{Buffer:r}=(it(),Ne(nt)),s=Symbol.for("BufferList");function c(n){if(!(this instanceof c))return new c(n);c._init.call(this,n)}c._init=function(n){Object.defineProperty(this,s,{value:!0}),this._bufs=[],this.length=0,n&&this.append(n)},c.prototype._new=function(n){return new c(n)},c.prototype._offset=function(n){if(n===0)return[0,0];let i=0;for(let o=0;o<this._bufs.length;o++){let a=i+this._bufs[o].length;if(n<a||o===this._bufs.length-1)return[o,n-i];i=a}},c.prototype._reverseOffset=function(n){let i=n[0],o=n[1];for(let a=0;a<i;a++)o+=this._bufs[a].length;return o},c.prototype.get=function(n){if(n>this.length||n<0)return;let i=this._offset(n);return this._bufs[i[0]][i[1]]},c.prototype.slice=function(n,i){return typeof n=="number"&&n<0&&(n+=this.length),typeof i=="number"&&i<0&&(i+=this.length),this.copy(null,0,n,i)},c.prototype.copy=function(n,i,o,a){if((typeof o!="number"||o<0)&&(o=0),(typeof a!="number"||a>this.length)&&(a=this.length),o>=this.length||a<=0)return n||r.alloc(0);let h=!!n,d=this._offset(o),g=a-o,m=g,b=h&&i||0,w=d[1];if(o===0&&a===this.length){if(!h)return this._bufs.length===1?this._bufs[0]:r.concat(this._bufs,this.length);for(let v=0;v<this._bufs.length;v++)this._bufs[v].copy(n,b),b+=this._bufs[v].length;return n}if(m<=this._bufs[d[0]].length-w)return h?this._bufs[d[0]].copy(n,i,w,w+m):this._bufs[d[0]].slice(w,w+m);h||(n=r.allocUnsafe(g));for(let v=d[0];v<this._bufs.length;v++){let R=this._bufs[v].length-w;if(m>R)this._bufs[v].copy(n,b,w),b+=R;else{this._bufs[v].copy(n,b,w,w+m),b+=R;break}m-=R,w&&(w=0)}return n.length>b?n.slice(0,b):n},c.prototype.shallowSlice=function(n,i){if(n=n||0,i=typeof i!="number"?this.length:i,n<0&&(n+=this.length),i<0&&(i+=this.length),n===i)return this._new();let o=this._offset(n),a=this._offset(i),h=this._bufs.slice(o[0],a[0]+1);return a[1]===0?h.pop():h[h.length-1]=h[h.length-1].slice(0,a[1]),o[1]!==0&&(h[0]=h[0].slice(o[1])),this._new(h)},c.prototype.toString=function(n,i,o){return this.slice(i,o).toString(n)},c.prototype.consume=function(n){if(n=Math.trunc(n),Number.isNaN(n)||n<=0)return this;for(;this._bufs.length;)if(n>=this._bufs[0].length)n-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(n),this.length-=n;break}return this},c.prototype.duplicate=function(){let n=this._new();for(let i=0;i<this._bufs.length;i++)n.append(this._bufs[i]);return n},c.prototype.append=function(n){if(n==null)return this;if(n.buffer)this._appendBuffer(r.from(n.buffer,n.byteOffset,n.byteLength));else if(Array.isArray(n))for(let i=0;i<n.length;i++)this.append(n[i]);else if(this._isBufferList(n))for(let i=0;i<n._bufs.length;i++)this.append(n._bufs[i]);else typeof n=="number"&&(n=n.toString()),this._appendBuffer(r.from(n));return this},c.prototype._appendBuffer=function(n){this._bufs.push(n),this.length+=n.length},c.prototype.indexOf=function(n,i,o){if(o===void 0&&typeof i=="string"&&(o=i,i=void 0),typeof n=="function"||Array.isArray(n))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof n=="number"?n=r.from([n]):typeof n=="string"?n=r.from(n,o):this._isBufferList(n)?n=n.slice():Array.isArray(n.buffer)?n=r.from(n.buffer,n.byteOffset,n.byteLength):r.isBuffer(n)||(n=r.from(n)),i=Number(i||0),isNaN(i)&&(i=0),i<0&&(i=this.length+i),i<0&&(i=0),n.length===0)return i>this.length?this.length:i;let a=this._offset(i),h=a[0],d=a[1];for(;h<this._bufs.length;h++){let g=this._bufs[h];for(;d<g.length;)if(g.length-d>=n.length){let m=g.indexOf(n,d);if(m!==-1)return this._reverseOffset([h,m]);d=g.length-n.length+1}else{let m=this._reverseOffset([h,d]);if(this._match(m,n))return m;d++}d=0}return-1},c.prototype._match=function(n,i){if(this.length-n<i.length)return!1;for(let o=0;o<i.length;o++)if(this.get(n+o)!==i[o])return!1;return!0},function(){let n={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let i in n)(function(o){n[o]===null?c.prototype[o]=function(a,h){return this.slice(a,a+h)[o](0,h)}:c.prototype[o]=function(a=0){return this.slice(a,a+n[o])[o](0)}})(i)}(),c.prototype._isBufferList=function(n){return n instanceof c||c.isBufferList(n)},c.isBufferList=function(n){return n!=null&&n[s]},t.exports=c}),tg=_e((e,t)=>{me(),ge(),pe();var r=Hr().Duplex,s=Zp(),c=eg();function n(i){if(!(this instanceof n))return new n(i);if(typeof i=="function"){this._callback=i;let o=(function(a){this._callback&&(this._callback(a),this._callback=null)}).bind(this);this.on("pipe",function(a){a.on("error",o)}),this.on("unpipe",function(a){a.removeListener("error",o)}),i=null}c._init.call(this,i),r.call(this)}s(n,r),Object.assign(n.prototype,c.prototype),n.prototype._new=function(i){return new n(i)},n.prototype._write=function(i,o,a){this._appendBuffer(i),typeof a=="function"&&a()},n.prototype._read=function(i){if(!this.length)return this.push(null);i=Math.min(i,this.length),this.push(this.slice(0,i)),this.consume(i)},n.prototype.end=function(i){r.prototype.end.call(this,i),this._callback&&(this._callback(null,this.slice()),this._callback=null)},n.prototype._destroy=function(i,o){this._bufs.length=0,this.length=0,o(i)},n.prototype._isBufferList=function(i){return i instanceof n||i instanceof c||n.isBufferList(i)},n.isBufferList=c.isBufferList,t.exports=n,t.exports.BufferListStream=n,t.exports.BufferList=c}),rg=_e((e,t)=>{me(),ge(),pe();var r=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};t.exports=r}),kc=_e((e,t)=>{me(),ge(),pe();var r=t.exports,{Buffer:s}=(it(),Ne(nt));r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},r.requiredHeaderFlagsErrors={};for(let n in r.requiredHeaderFlags){let i=r.requiredHeaderFlags[n];r.requiredHeaderFlagsErrors[n]="Invalid header flag bits, must be 0x"+i.toString(16)+" for "+r.types[n]+" packet"}r.codes={};for(let n in r.types){let i=r.types[n];r.codes[i]=n}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=s.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=s.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=s.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(let n in r.properties){let i=r.properties[n];r.propertiesCodes[i]=n}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function c(n){return[0,1,2].map(i=>[0,1].map(o=>[0,1].map(a=>{let h=s.alloc(1);return h.writeUInt8(r.codes[n]<<r.CMD_SHIFT|(o?r.DUP_MASK:0)|i<<r.QOS_SHIFT|a,0,!0),h})))}r.PUBLISH_HEADER=c("publish"),r.SUBSCRIBE_HEADER=c("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=c("unsubscribe"),r.ACKS={unsuback:c("unsuback"),puback:c("puback"),pubcomp:c("pubcomp"),pubrel:c("pubrel"),pubrec:c("pubrec")},r.SUBACK_HEADER=s.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=s.from([3]),r.VERSION4=s.from([4]),r.VERSION5=s.from([5]),r.VERSION131=s.from([131]),r.VERSION132=s.from([132]),r.QOS=[0,1,2].map(n=>s.from([n])),r.EMPTY={pingreq:s.from([r.codes.pingreq<<4,0]),pingresp:s.from([r.codes.pingresp<<4,0]),disconnect:s.from([r.codes.disconnect<<4,0])},r.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},r.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},r.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},r.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),ng=_e((e,t)=>{me(),ge(),pe();var r=1e3,s=r*60,c=s*60,n=c*24,i=n*7,o=n*365.25;t.exports=function(m,b){b=b||{};var w=typeof m;if(w==="string"&&m.length>0)return a(m);if(w==="number"&&isFinite(m))return b.long?d(m):h(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function a(m){if(m=String(m),!(m.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(b){var w=parseFloat(b[1]),v=(b[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return w*o;case"weeks":case"week":case"w":return w*i;case"days":case"day":case"d":return w*n;case"hours":case"hour":case"hrs":case"hr":case"h":return w*c;case"minutes":case"minute":case"mins":case"min":case"m":return w*s;case"seconds":case"second":case"secs":case"sec":case"s":return w*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function h(m){var b=Math.abs(m);return b>=n?Math.round(m/n)+"d":b>=c?Math.round(m/c)+"h":b>=s?Math.round(m/s)+"m":b>=r?Math.round(m/r)+"s":m+"ms"}function d(m){var b=Math.abs(m);return b>=n?g(m,b,n,"day"):b>=c?g(m,b,c,"hour"):b>=s?g(m,b,s,"minute"):b>=r?g(m,b,r,"second"):m+" ms"}function g(m,b,w,v){var R=b>=w*1.5;return Math.round(m/w)+" "+v+(R?"s":"")}}),ig=_e((e,t)=>{me(),ge(),pe();function r(s){n.debug=n,n.default=n,n.coerce=g,n.disable=a,n.enable=o,n.enabled=h,n.humanize=ng(),n.destroy=m,Object.keys(s).forEach(b=>{n[b]=s[b]}),n.names=[],n.skips=[],n.formatters={};function c(b){let w=0;for(let v=0;v<b.length;v++)w=(w<<5)-w+b.charCodeAt(v),w|=0;return n.colors[Math.abs(w)%n.colors.length]}n.selectColor=c;function n(b){let w,v=null,R,F;function T(...I){if(!T.enabled)return;let V=T,z=Number(new Date),P=z-(w||z);V.diff=P,V.prev=w,V.curr=z,w=z,I[0]=n.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");let N=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(H,Q)=>{if(H==="%%")return"%";N++;let ne=n.formatters[Q];if(typeof ne=="function"){let le=I[N];H=ne.call(V,le),I.splice(N,1),N--}return H}),n.formatArgs.call(V,I),(V.log||n.log).apply(V,I)}return T.namespace=b,T.useColors=n.useColors(),T.color=n.selectColor(b),T.extend=i,T.destroy=n.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(R!==n.namespaces&&(R=n.namespaces,F=n.enabled(b)),F),set:I=>{v=I}}),typeof n.init=="function"&&n.init(T),T}function i(b,w){let v=n(this.namespace+(typeof w>"u"?":":w)+b);return v.log=this.log,v}function o(b){n.save(b),n.namespaces=b,n.names=[],n.skips=[];let w,v=(typeof b=="string"?b:"").split(/[\s,]+/),R=v.length;for(w=0;w<R;w++)v[w]&&(b=v[w].replace(/\*/g,".*?"),b[0]==="-"?n.skips.push(new RegExp("^"+b.slice(1)+"$")):n.names.push(new RegExp("^"+b+"$")))}function a(){let b=[...n.names.map(d),...n.skips.map(d).map(w=>"-"+w)].join(",");return n.enable(""),b}function h(b){if(b[b.length-1]==="*")return!0;let w,v;for(w=0,v=n.skips.length;w<v;w++)if(n.skips[w].test(b))return!1;for(w=0,v=n.names.length;w<v;w++)if(n.names[w].test(b))return!0;return!1}function d(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}function g(b){return b instanceof Error?b.stack||b.message:b}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}t.exports=r}),Jt=_e((e,t)=>{me(),ge(),pe(),e.formatArgs=s,e.save=c,e.load=n,e.useColors=r,e.storage=i(),e.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof tt<"u"&&tt.userAgent&&tt.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof tt<"u"&&tt.userAgent&&tt.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof tt<"u"&&tt.userAgent&&tt.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let h="color: "+this.color;a.splice(1,0,h,"color: inherit");let d=0,g=0;a[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(d++,m==="%c"&&(g=d))}),a.splice(g,0,h)}e.log=console.debug||console.log||(()=>{});function c(a){try{a?e.storage.setItem("debug",a):e.storage.removeItem("debug")}catch{}}function n(){let a;try{a=e.storage.getItem("debug")}catch{}return!a&&typeof Pe<"u"&&"env"in Pe&&(a=Pe.env.DEBUG),a}function i(){try{return localStorage}catch{}}t.exports=ig()(e);var{formatters:o}=t.exports;o.j=function(a){try{return JSON.stringify(a)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}),og=_e((e,t)=>{me(),ge(),pe();var r=tg(),{EventEmitter:s}=(nn(),Ne($r)),c=rg(),n=kc(),i=Jt()("mqtt-packet:parser"),o=class Es extends s{constructor(){super(),this.parser=this.constructor.parser}static parser(h){return this instanceof Es?(this.settings=h||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new Es().parser(h)}_resetState(){i("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new c,this.error=null,this._list=r(),this._stateCounter=0}parse(h){for(this.error&&this._resetState(),this._list.append(h),i("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,i("parse: state complete. _stateCounter is now: %d",this._stateCounter),i("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return i("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let h=this._list.readUInt8(0),d=h>>n.CMD_SHIFT;this.packet.cmd=n.types[d];let g=h&15,m=n.requiredHeaderFlags[d];return m!=null&&g!==m?this._emitError(new Error(n.requiredHeaderFlagsErrors[d])):(this.packet.retain=(h&n.RETAIN_MASK)!==0,this.packet.qos=h>>n.QOS_SHIFT&n.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(h&n.DUP_MASK)!==0,i("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let h=this._parseVarByteNum(!0);return h&&(this.packet.length=h.value,this._list.consume(h.bytes)),i("_parseLength %d",h.value),!!h}_parsePayload(){i("_parsePayload: payload %O",this._list);let h=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}h=!0}return i("_parsePayload complete result: %s",h),h}_parseConnect(){i("_parseConnect");let h,d,g,m,b={},w=this.packet,v=this._parseString();if(v===null)return this._emitError(new Error("Cannot parse protocolId"));if(v!=="MQTT"&&v!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(w.protocolId=v,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(w.protocolVersion=this._list.readUInt8(this._pos),w.protocolVersion>=128&&(w.bridgeMode=!0,w.protocolVersion=w.protocolVersion-128),w.protocolVersion!==3&&w.protocolVersion!==4&&w.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));b.username=this._list.readUInt8(this._pos)&n.USERNAME_MASK,b.password=this._list.readUInt8(this._pos)&n.PASSWORD_MASK,b.will=this._list.readUInt8(this._pos)&n.WILL_FLAG_MASK;let R=!!(this._list.readUInt8(this._pos)&n.WILL_RETAIN_MASK),F=(this._list.readUInt8(this._pos)&n.WILL_QOS_MASK)>>n.WILL_QOS_SHIFT;if(b.will)w.will={},w.will.retain=R,w.will.qos=F;else{if(R)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(F)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(w.clean=(this._list.readUInt8(this._pos)&n.CLEAN_SESSION_MASK)!==0,this._pos++,w.keepalive=this._parseNum(),w.keepalive===-1)return this._emitError(new Error("Packet too short"));if(w.protocolVersion===5){let I=this._parseProperties();Object.getOwnPropertyNames(I).length&&(w.properties=I)}let T=this._parseString();if(T===null)return this._emitError(new Error("Packet too short"));if(w.clientId=T,i("_parseConnect: packet.clientId: %s",w.clientId),b.will){if(w.protocolVersion===5){let I=this._parseProperties();Object.getOwnPropertyNames(I).length&&(w.will.properties=I)}if(h=this._parseString(),h===null)return this._emitError(new Error("Cannot parse will topic"));if(w.will.topic=h,i("_parseConnect: packet.will.topic: %s",w.will.topic),d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse will payload"));w.will.payload=d,i("_parseConnect: packet.will.paylaod: %s",w.will.payload)}if(b.username){if(m=this._parseString(),m===null)return this._emitError(new Error("Cannot parse username"));w.username=m,i("_parseConnect: packet.username: %s",w.username)}if(b.password){if(g=this._parseBuffer(),g===null)return this._emitError(new Error("Cannot parse password"));w.password=g}return this.settings=w,i("_parseConnect: complete"),w}_parseConnack(){i("_parseConnack");let h=this.packet;if(this._list.length<1)return null;let d=this._list.readUInt8(this._pos++);if(d>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(h.sessionPresent=!!(d&n.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?h.reasonCode=this._list.readUInt8(this._pos++):h.reasonCode=0;else{if(this._list.length<2)return null;h.returnCode=this._list.readUInt8(this._pos++)}if(h.returnCode===-1||h.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(h.properties=g)}i("_parseConnack: complete")}_parsePublish(){i("_parsePublish");let h=this.packet;if(h.topic=this._parseString(),h.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(h.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}h.payload=this._list.slice(this._pos,h.length),i("_parsePublish: payload from buffer list: %o",h.payload)}}_parseSubscribe(){i("_parseSubscribe");let h=this.packet,d,g,m,b,w,v,R;if(h.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let F=this._parseProperties();Object.getOwnPropertyNames(F).length&&(h.properties=F)}if(h.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<h.length;){if(d=this._parseString(),d===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=h.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(g=this._parseByte(),this.settings.protocolVersion===5){if(g&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(g&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(m=g&n.SUBSCRIBE_OPTIONS_QOS_MASK,m>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(v=(g>>n.SUBSCRIBE_OPTIONS_NL_SHIFT&n.SUBSCRIBE_OPTIONS_NL_MASK)!==0,w=(g>>n.SUBSCRIBE_OPTIONS_RAP_SHIFT&n.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,b=g>>n.SUBSCRIBE_OPTIONS_RH_SHIFT&n.SUBSCRIBE_OPTIONS_RH_MASK,b>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));R={topic:d,qos:m},this.settings.protocolVersion===5?(R.nl=v,R.rap=w,R.rh=b):this.settings.bridgeMode&&(R.rh=0,R.rap=!0,R.nl=!0),i("_parseSubscribe: push subscription `%s` to subscription",R),h.subscriptions.push(R)}}}_parseSuback(){i("_parseSuback");let h=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}if(h.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!n.MQTT5_SUBACK_CODES[d])return this._emitError(new Error("Invalid suback code"))}else if(d>2&&d!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(d)}}}_parseUnsubscribe(){i("_parseUnsubscribe");let h=this.packet;if(h.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}if(h.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<h.length;){let d=this._parseString();if(d===null)return this._emitError(new Error("Cannot parse topic"));i("_parseUnsubscribe: push topic `%s` to unsubscriptions",d),h.unsubscriptions.push(d)}}}_parseUnsuback(){i("_parseUnsuback");let h=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&h.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(h.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let d=this._parseProperties();for(Object.getOwnPropertyNames(d).length&&(h.properties=d),h.granted=[];this._pos<this.packet.length;){let g=this._list.readUInt8(this._pos++);if(!n.MQTT5_UNSUBACK_CODES[g])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(g)}}}_parseConfirmation(){i("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let h=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(h.length>2){switch(h.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!n.MQTT5_PUBACK_PUBREC_CODES[h.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!n.MQTT5_PUBREL_PUBCOMP_CODES[h.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}i("_parseConfirmation: packet.reasonCode `%d`",h.reasonCode)}else h.reasonCode=0;if(h.length>3){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}}return!0}_parseDisconnect(){let h=this.packet;if(i("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(h.reasonCode=this._parseByte(),n.MQTT5_DISCONNECT_CODES[h.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):h.reasonCode=0;let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}return i("_parseDisconnect result: true"),!0}_parseAuth(){i("_parseAuth");let h=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(h.reasonCode=this._parseByte(),!n.MQTT5_AUTH_CODES[h.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let d=this._parseProperties();return Object.getOwnPropertyNames(d).length&&(h.properties=d),i("_parseAuth: result: true"),!0}_parseMessageId(){let h=this.packet;return h.messageId=this._parseNum(),h.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(i("_parseMessageId: packet.messageId %d",h.messageId),!0)}_parseString(h){let d=this._parseNum(),g=d+this._pos;if(d===-1||g>this._list.length||g>this.packet.length)return null;let m=this._list.toString("utf8",this._pos,g);return this._pos+=d,i("_parseString: result: %s",m),m}_parseStringPair(){return i("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let h=this._parseNum(),d=h+this._pos;if(h===-1||d>this._list.length||d>this.packet.length)return null;let g=this._list.slice(this._pos,d);return this._pos+=h,i("_parseBuffer: result: %o",g),g}_parseNum(){if(this._list.length-this._pos<2)return-1;let h=this._list.readUInt16BE(this._pos);return this._pos+=2,i("_parseNum: result: %s",h),h}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let h=this._list.readUInt32BE(this._pos);return this._pos+=4,i("_parse4ByteNum: result: %s",h),h}_parseVarByteNum(h){i("_parseVarByteNum");let d=4,g=0,m=1,b=0,w=!1,v,R=this._pos?this._pos:0;for(;g<d&&R+g<this._list.length;){if(v=this._list.readUInt8(R+g++),b+=m*(v&n.VARBYTEINT_MASK),m*=128,!(v&n.VARBYTEINT_FIN_MASK)){w=!0;break}if(this._list.length<=g)break}return!w&&g===d&&this._list.length>=g&&this._emitError(new Error("Invalid variable byte integer")),R&&(this._pos+=g),w?h?w={bytes:g,value:b}:w=b:w=!1,i("_parseVarByteNum: result: %o",w),w}_parseByte(){let h;return this._pos<this._list.length&&(h=this._list.readUInt8(this._pos),this._pos++),i("_parseByte: result: %o",h),h}_parseByType(h){switch(i("_parseByType: type: %s",h),h){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){i("_parseProperties");let h=this._parseVarByteNum(),d=this._pos+h,g={};for(;this._pos<d;){let m=this._parseByte();if(!m)return this._emitError(new Error("Cannot parse property code type")),!1;let b=n.propertiesCodes[m];if(!b)return this._emitError(new Error("Unknown property")),!1;if(b==="userProperties"){g[b]||(g[b]=Object.create(null));let w=this._parseByType(n.propertiesTypes[b]);if(g[b][w.name])if(Array.isArray(g[b][w.name]))g[b][w.name].push(w.value);else{let v=g[b][w.name];g[b][w.name]=[v],g[b][w.name].push(w.value)}else g[b][w.name]=w.value;continue}g[b]?Array.isArray(g[b])?g[b].push(this._parseByType(n.propertiesTypes[b])):(g[b]=[g[b]],g[b].push(this._parseByType(n.propertiesTypes[b]))):g[b]=this._parseByType(n.propertiesTypes[b])}return g}_newPacket(){return i("_newPacket"),this.packet&&(this._list.consume(this.packet.length),i("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),i("_newPacket: new packet"),this.packet=new c,this._pos=0,!0}_emitError(h){i("_emitError",h),this.error=h,this.emit("error",h)}};t.exports=o}),sg=_e((e,t)=>{me(),ge(),pe();var{Buffer:r}=(it(),Ne(nt)),s=65536,c={},n=r.isBuffer(r.from([1,2]).subarray(0,1));function i(d){let g=r.allocUnsafe(2);return g.writeUInt8(d>>8,0),g.writeUInt8(d&255,1),g}function o(){for(let d=0;d<s;d++)c[d]=i(d)}function a(d){let g=0,m=0,b=r.allocUnsafe(4);do g=d%128|0,d=d/128|0,d>0&&(g=g|128),b.writeUInt8(g,m++);while(d>0&&m<4);return d>0&&(m=0),n?b.subarray(0,m):b.slice(0,m)}function h(d){let g=r.allocUnsafe(4);return g.writeUInt32BE(d,0),g}t.exports={cache:c,generateCache:o,generateNumber:i,genBufVariableByteInt:a,generate4ByteBuffer:h}}),lg=_e((e,t)=>{me(),ge(),pe(),typeof Pe>"u"||!Pe.version||Pe.version.indexOf("v0.")===0||Pe.version.indexOf("v1.")===0&&Pe.version.indexOf("v1.8.")!==0?t.exports={nextTick:r}:t.exports=Pe;function r(s,c,n,i){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,a,h;switch(o){case 0:case 1:return Pe.nextTick(s);case 2:return Pe.nextTick(function(){s.call(null,c)});case 3:return Pe.nextTick(function(){s.call(null,c,n)});case 4:return Pe.nextTick(function(){s.call(null,c,n,i)});default:for(a=new Array(o-1),h=0;h<a.length;)a[h++]=arguments[h];return Pe.nextTick(function(){s.apply(null,a)})}}}),Oc=_e((e,t)=>{me(),ge(),pe();var r=kc(),{Buffer:s}=(it(),Ne(nt)),c=s.allocUnsafe(0),n=s.from([0]),i=sg(),o=lg().nextTick,a=Jt()("mqtt-packet:writeToStream"),h=i.cache,d=i.generateNumber,g=i.generateCache,m=i.genBufVariableByteInt,b=i.generate4ByteBuffer,w=ie,v=!0;function R(D,M,ee){switch(a("generate called"),M.cork&&(M.cork(),o(F,M)),v&&(v=!1,g()),a("generate: packet.cmd: %s",D.cmd),D.cmd){case"connect":return T(D,M);case"connack":return I(D,M,ee);case"publish":return V(D,M,ee);case"puback":case"pubrec":case"pubrel":case"pubcomp":return z(D,M,ee);case"subscribe":return P(D,M,ee);case"suback":return N(D,M,ee);case"unsubscribe":return H(D,M,ee);case"unsuback":return Q(D,M,ee);case"pingreq":case"pingresp":return ne(D,M);case"disconnect":return le(D,M,ee);case"auth":return U(D,M,ee);default:return M.destroy(new Error("Unknown command")),!1}}Object.defineProperty(R,"cacheNumbers",{get(){return w===ie},set(D){D?((!h||Object.keys(h).length===0)&&(v=!0),w=ie):(v=!1,w=G)}});function F(D){D.uncork()}function T(D,M,ee){let fe=D||{},ae=fe.protocolId||"MQTT",oe=fe.protocolVersion||4,x=fe.will,B=fe.clean,E=fe.keepalive||0,O=fe.clientId||"",k=fe.username,K=fe.password,Y=fe.properties;B===void 0&&(B=!0);let C=0;if(!ae||typeof ae!="string"&&!s.isBuffer(ae))return M.destroy(new Error("Invalid protocolId")),!1;if(C+=ae.length+2,oe!==3&&oe!==4&&oe!==5)return M.destroy(new Error("Invalid protocol version")),!1;if(C+=1,(typeof O=="string"||s.isBuffer(O))&&(O||oe>=4)&&(O||B))C+=s.byteLength(O)+2;else{if(oe<4)return M.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(B*1===0)return M.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof E!="number"||E<0||E>65535||E%1!==0)return M.destroy(new Error("Invalid keepalive")),!1;C+=2,C+=1;let W,A;if(oe===5){if(W=ye(M,Y),!W)return!1;C+=W.length}if(x){if(typeof x!="object")return M.destroy(new Error("Invalid will")),!1;if(!x.topic||typeof x.topic!="string")return M.destroy(new Error("Invalid will topic")),!1;if(C+=s.byteLength(x.topic)+2,C+=2,x.payload)if(x.payload.length>=0)typeof x.payload=="string"?C+=s.byteLength(x.payload):C+=x.payload.length;else return M.destroy(new Error("Invalid will payload")),!1;if(A={},oe===5){if(A=ye(M,x.properties),!A)return!1;C+=A.length}}let j=!1;if(k!=null)if(he(k))j=!0,C+=s.byteLength(k)+2;else return M.destroy(new Error("Invalid username")),!1;if(K!=null){if(!j)return M.destroy(new Error("Username is required to use password")),!1;if(he(K))C+=Se(K)+2;else return M.destroy(new Error("Invalid password")),!1}M.write(r.CONNECT_HEADER),se(M,C),ue(M,ae),fe.bridgeMode&&(oe+=128),M.write(oe===131?r.VERSION131:oe===132?r.VERSION132:oe===4?r.VERSION4:oe===5?r.VERSION5:r.VERSION3);let q=0;return q|=k!=null?r.USERNAME_MASK:0,q|=K!=null?r.PASSWORD_MASK:0,q|=x&&x.retain?r.WILL_RETAIN_MASK:0,q|=x&&x.qos?x.qos<<r.WILL_QOS_SHIFT:0,q|=x?r.WILL_FLAG_MASK:0,q|=B?r.CLEAN_SESSION_MASK:0,M.write(s.from([q])),w(M,E),oe===5&&W.write(),ue(M,O),x&&(oe===5&&A.write(),te(M,x.topic),ue(M,x.payload)),k!=null&&ue(M,k),K!=null&&ue(M,K),!0}function I(D,M,ee){let fe=ee?ee.protocolVersion:4,ae=D||{},oe=fe===5?ae.reasonCode:ae.returnCode,x=ae.properties,B=2;if(typeof oe!="number")return M.destroy(new Error("Invalid return code")),!1;let E=null;if(fe===5){if(E=ye(M,x),!E)return!1;B+=E.length}return M.write(r.CONNACK_HEADER),se(M,B),M.write(ae.sessionPresent?r.SESSIONPRESENT_HEADER:n),M.write(s.from([oe])),E==null||E.write(),!0}function V(D,M,ee){a("publish: packet: %o",D);let fe=ee?ee.protocolVersion:4,ae=D||{},oe=ae.qos||0,x=ae.retain?r.RETAIN_MASK:0,B=ae.topic,E=ae.payload||c,O=ae.messageId,k=ae.properties,K=0;if(typeof B=="string")K+=s.byteLength(B)+2;else if(s.isBuffer(B))K+=B.length+2;else return M.destroy(new Error("Invalid topic")),!1;if(s.isBuffer(E)?K+=E.length:K+=s.byteLength(E),oe&&typeof O!="number")return M.destroy(new Error("Invalid messageId")),!1;oe&&(K+=2);let Y=null;if(fe===5){if(Y=ye(M,k),!Y)return!1;K+=Y.length}return M.write(r.PUBLISH_HEADER[oe][ae.dup?1:0][x?1:0]),se(M,K),w(M,Se(B)),M.write(B),oe>0&&w(M,O),Y==null||Y.write(),a("publish: payload: %o",E),M.write(E)}function z(D,M,ee){let fe=ee?ee.protocolVersion:4,ae=D||{},oe=ae.cmd||"puback",x=ae.messageId,B=ae.dup&&oe==="pubrel"?r.DUP_MASK:0,E=0,O=ae.reasonCode,k=ae.properties,K=fe===5?3:2;if(oe==="pubrel"&&(E=1),typeof x!="number")return M.destroy(new Error("Invalid messageId")),!1;let Y=null;if(fe===5&&typeof k=="object"){if(Y=S(M,k,ee,K),!Y)return!1;K+=Y.length}return M.write(r.ACKS[oe][E][B][0]),K===3&&(K+=O!==0?1:-1),se(M,K),w(M,x),fe===5&&K!==2&&M.write(s.from([O])),Y!==null?Y.write():K===4&&M.write(s.from([0])),!0}function P(D,M,ee){a("subscribe: packet: ");let fe=ee?ee.protocolVersion:4,ae=D||{},oe=ae.dup?r.DUP_MASK:0,x=ae.messageId,B=ae.subscriptions,E=ae.properties,O=0;if(typeof x!="number")return M.destroy(new Error("Invalid messageId")),!1;O+=2;let k=null;if(fe===5){if(k=ye(M,E),!k)return!1;O+=k.length}if(typeof B=="object"&&B.length)for(let Y=0;Y<B.length;Y+=1){let C=B[Y].topic,W=B[Y].qos;if(typeof C!="string")return M.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof W!="number")return M.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(fe===5){if(typeof(B[Y].nl||!1)!="boolean")return M.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(B[Y].rap||!1)!="boolean")return M.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let A=B[Y].rh||0;if(typeof A!="number"||A>2)return M.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}O+=s.byteLength(C)+2+1}else return M.destroy(new Error("Invalid subscriptions")),!1;a("subscribe: writing to stream: %o",r.SUBSCRIBE_HEADER),M.write(r.SUBSCRIBE_HEADER[1][oe?1:0][0]),se(M,O),w(M,x),k!==null&&k.write();let K=!0;for(let Y of B){let C=Y.topic,W=Y.qos,A=+Y.nl,j=+Y.rap,q=Y.rh,X;te(M,C),X=r.SUBSCRIBE_OPTIONS_QOS[W],fe===5&&(X|=A?r.SUBSCRIBE_OPTIONS_NL:0,X|=j?r.SUBSCRIBE_OPTIONS_RAP:0,X|=q?r.SUBSCRIBE_OPTIONS_RH[q]:0),K=M.write(s.from([X]))}return K}function N(D,M,ee){let fe=ee?ee.protocolVersion:4,ae=D||{},oe=ae.messageId,x=ae.granted,B=ae.properties,E=0;if(typeof oe!="number")return M.destroy(new Error("Invalid messageId")),!1;if(E+=2,typeof x=="object"&&x.length)for(let k=0;k<x.length;k+=1){if(typeof x[k]!="number")return M.destroy(new Error("Invalid qos vector")),!1;E+=1}else return M.destroy(new Error("Invalid qos vector")),!1;let O=null;if(fe===5){if(O=S(M,B,ee,E),!O)return!1;E+=O.length}return M.write(r.SUBACK_HEADER),se(M,E),w(M,oe),O!==null&&O.write(),M.write(s.from(x))}function H(D,M,ee){let fe=ee?ee.protocolVersion:4,ae=D||{},oe=ae.messageId,x=ae.dup?r.DUP_MASK:0,B=ae.unsubscriptions,E=ae.properties,O=0;if(typeof oe!="number")return M.destroy(new Error("Invalid messageId")),!1;if(O+=2,typeof B=="object"&&B.length)for(let Y=0;Y<B.length;Y+=1){if(typeof B[Y]!="string")return M.destroy(new Error("Invalid unsubscriptions")),!1;O+=s.byteLength(B[Y])+2}else return M.destroy(new Error("Invalid unsubscriptions")),!1;let k=null;if(fe===5){if(k=ye(M,E),!k)return!1;O+=k.length}M.write(r.UNSUBSCRIBE_HEADER[1][x?1:0][0]),se(M,O),w(M,oe),k!==null&&k.write();let K=!0;for(let Y=0;Y<B.length;Y++)K=te(M,B[Y]);return K}function Q(D,M,ee){let fe=ee?ee.protocolVersion:4,ae=D||{},oe=ae.messageId,x=ae.dup?r.DUP_MASK:0,B=ae.granted,E=ae.properties,O=ae.cmd,k=0,K=2;if(typeof oe!="number")return M.destroy(new Error("Invalid messageId")),!1;if(fe===5)if(typeof B=="object"&&B.length)for(let C=0;C<B.length;C+=1){if(typeof B[C]!="number")return M.destroy(new Error("Invalid qos vector")),!1;K+=1}else return M.destroy(new Error("Invalid qos vector")),!1;let Y=null;if(fe===5){if(Y=S(M,E,ee,K),!Y)return!1;K+=Y.length}return M.write(r.ACKS[O][k][x][0]),se(M,K),w(M,oe),Y!==null&&Y.write(),fe===5&&M.write(s.from(B)),!0}function ne(D,M,ee){return M.write(r.EMPTY[D.cmd])}function le(D,M,ee){let fe=ee?ee.protocolVersion:4,ae=D||{},oe=ae.reasonCode,x=ae.properties,B=fe===5?1:0,E=null;if(fe===5){if(E=S(M,x,ee,B),!E)return!1;B+=E.length}return M.write(s.from([r.codes.disconnect<<4])),se(M,B),fe===5&&M.write(s.from([oe])),E!==null&&E.write(),!0}function U(D,M,ee){let fe=ee?ee.protocolVersion:4,ae=D||{},oe=ae.reasonCode,x=ae.properties,B=fe===5?1:0;fe!==5&&M.destroy(new Error("Invalid mqtt version for auth packet"));let E=S(M,x,ee,B);return E?(B+=E.length,M.write(s.from([r.codes.auth<<4])),se(M,B),M.write(s.from([oe])),E!==null&&E.write(),!0):!1}var J={};function se(D,M){if(M>r.VARBYTEINT_MAX)return D.destroy(new Error(`Invalid variable byte integer: ${M}`)),!1;let ee=J[M];return ee||(ee=m(M),M<16384&&(J[M]=ee)),a("writeVarByteInt: writing to stream: %o",ee),D.write(ee)}function te(D,M){let ee=s.byteLength(M);return w(D,ee),a("writeString: %s",M),D.write(M,"utf8")}function ce(D,M,ee){te(D,M),te(D,ee)}function ie(D,M){return a("writeNumberCached: number: %d",M),a("writeNumberCached: %o",h[M]),D.write(h[M])}function G(D,M){let ee=d(M);return a("writeNumberGenerated: %o",ee),D.write(ee)}function be(D,M){let ee=b(M);return a("write4ByteNumber: %o",ee),D.write(ee)}function ue(D,M){typeof M=="string"?te(D,M):M?(w(D,M.length),D.write(M)):w(D,0)}function ye(D,M){if(typeof M!="object"||M.length!=null)return{length:1,write(){de(D,{},0)}};let ee=0;function fe(ae,oe){let x=r.propertiesTypes[ae],B=0;switch(x){case"byte":{if(typeof oe!="boolean")return D.destroy(new Error(`Invalid ${ae}: ${oe}`)),!1;B+=2;break}case"int8":{if(typeof oe!="number"||oe<0||oe>255)return D.destroy(new Error(`Invalid ${ae}: ${oe}`)),!1;B+=2;break}case"binary":{if(oe&&oe===null)return D.destroy(new Error(`Invalid ${ae}: ${oe}`)),!1;B+=1+s.byteLength(oe)+2;break}case"int16":{if(typeof oe!="number"||oe<0||oe>65535)return D.destroy(new Error(`Invalid ${ae}: ${oe}`)),!1;B+=3;break}case"int32":{if(typeof oe!="number"||oe<0||oe>4294967295)return D.destroy(new Error(`Invalid ${ae}: ${oe}`)),!1;B+=5;break}case"var":{if(typeof oe!="number"||oe<0||oe>268435455)return D.destroy(new Error(`Invalid ${ae}: ${oe}`)),!1;B+=1+s.byteLength(m(oe));break}case"string":{if(typeof oe!="string")return D.destroy(new Error(`Invalid ${ae}: ${oe}`)),!1;B+=3+s.byteLength(oe.toString());break}case"pair":{if(typeof oe!="object")return D.destroy(new Error(`Invalid ${ae}: ${oe}`)),!1;B+=Object.getOwnPropertyNames(oe).reduce((E,O)=>{let k=oe[O];return Array.isArray(k)?E+=k.reduce((K,Y)=>(K+=3+s.byteLength(O.toString())+2+s.byteLength(Y.toString()),K),0):E+=3+s.byteLength(O.toString())+2+s.byteLength(oe[O].toString()),E},0);break}default:return D.destroy(new Error(`Invalid property ${ae}: ${oe}`)),!1}return B}if(M)for(let ae in M){let oe=0,x=0,B=M[ae];if(Array.isArray(B))for(let E=0;E<B.length;E++){if(x=fe(ae,B[E]),!x)return!1;oe+=x}else{if(x=fe(ae,B),!x)return!1;oe=x}if(!oe)return!1;ee+=oe}return{length:s.byteLength(m(ee))+ee,write(){de(D,M,ee)}}}function S(D,M,ee,fe){let ae=["reasonString","userProperties"],oe=ee&&ee.properties&&ee.properties.maximumPacketSize?ee.properties.maximumPacketSize:0,x=ye(D,M);if(oe)for(;fe+x.length>oe;){let B=ae.shift();if(B&&M[B])delete M[B],x=ye(D,M);else return!1}return x}function re(D,M,ee){switch(r.propertiesTypes[M]){case"byte":{D.write(s.from([r.properties[M]])),D.write(s.from([+ee]));break}case"int8":{D.write(s.from([r.properties[M]])),D.write(s.from([ee]));break}case"binary":{D.write(s.from([r.properties[M]])),ue(D,ee);break}case"int16":{D.write(s.from([r.properties[M]])),w(D,ee);break}case"int32":{D.write(s.from([r.properties[M]])),be(D,ee);break}case"var":{D.write(s.from([r.properties[M]])),se(D,ee);break}case"string":{D.write(s.from([r.properties[M]])),te(D,ee);break}case"pair":{Object.getOwnPropertyNames(ee).forEach(fe=>{let ae=ee[fe];Array.isArray(ae)?ae.forEach(oe=>{D.write(s.from([r.properties[M]])),ce(D,fe.toString(),oe.toString())}):(D.write(s.from([r.properties[M]])),ce(D,fe.toString(),ae.toString()))});break}default:return D.destroy(new Error(`Invalid property ${M} value: ${ee}`)),!1}}function de(D,M,ee){se(D,ee);for(let fe in M)if(Object.prototype.hasOwnProperty.call(M,fe)&&M[fe]!==null){let ae=M[fe];if(Array.isArray(ae))for(let oe=0;oe<ae.length;oe++)re(D,fe,ae[oe]);else re(D,fe,ae)}}function Se(D){return D?D instanceof s?D.length:s.byteLength(D):0}function he(D){return typeof D=="string"||D instanceof s}t.exports=R}),ag=_e((e,t)=>{me(),ge(),pe();var r=Oc(),{EventEmitter:s}=(nn(),Ne($r)),{Buffer:c}=(it(),Ne(nt));function n(o,a){let h=new i;return r(o,h,a),h.concat()}var i=class extends s{constructor(){super(),this._array=new Array(20),this._i=0}write(o){return this._array[this._i++]=o,!0}concat(){let o=0,a=new Array(this._array.length),h=this._array,d=0,g;for(g=0;g<h.length&&h[g]!==void 0;g++)typeof h[g]!="string"?a[g]=h[g].length:a[g]=c.byteLength(h[g]),o+=a[g];let m=c.allocUnsafe(o);for(g=0;g<h.length&&h[g]!==void 0;g++)typeof h[g]!="string"?(h[g].copy(m,d),d+=a[g]):(m.write(h[g],d),d+=a[g]);return m}destroy(o){o&&this.emit("error",o)}};t.exports=n}),ug=_e(e=>{me(),ge(),pe(),e.parser=og().parser,e.generate=ag(),e.writeToStream=Oc()}),Pc=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let r=this.nextId++;return this.nextId===65536&&(this.nextId=1),r}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(r){return!0}deallocate(r){}clear(){}};e.default=t}),cg=_e((e,t)=>{me(),ge(),pe(),t.exports=s;function r(n){return n instanceof ii?ii.from(n):new n.constructor(n.buffer.slice(),n.byteOffset,n.length)}function s(n){if(n=n||{},n.circles)return c(n);return n.proto?a:o;function i(h,d){for(var g=Object.keys(h),m=new Array(g.length),b=0;b<g.length;b++){var w=g[b],v=h[w];typeof v!="object"||v===null?m[w]=v:v instanceof Date?m[w]=new Date(v):ArrayBuffer.isView(v)?m[w]=r(v):m[w]=d(v)}return m}function o(h){if(typeof h!="object"||h===null)return h;if(h instanceof Date)return new Date(h);if(Array.isArray(h))return i(h,o);if(h instanceof Map)return new Map(i(Array.from(h),o));if(h instanceof Set)return new Set(i(Array.from(h),o));var d={};for(var g in h)if(Object.hasOwnProperty.call(h,g)!==!1){var m=h[g];typeof m!="object"||m===null?d[g]=m:m instanceof Date?d[g]=new Date(m):m instanceof Map?d[g]=new Map(i(Array.from(m),o)):m instanceof Set?d[g]=new Set(i(Array.from(m),o)):ArrayBuffer.isView(m)?d[g]=r(m):d[g]=o(m)}return d}function a(h){if(typeof h!="object"||h===null)return h;if(h instanceof Date)return new Date(h);if(Array.isArray(h))return i(h,a);if(h instanceof Map)return new Map(i(Array.from(h),a));if(h instanceof Set)return new Set(i(Array.from(h),a));var d={};for(var g in h){var m=h[g];typeof m!="object"||m===null?d[g]=m:m instanceof Date?d[g]=new Date(m):m instanceof Map?d[g]=new Map(i(Array.from(m),a)):m instanceof Set?d[g]=new Set(i(Array.from(m),a)):ArrayBuffer.isView(m)?d[g]=r(m):d[g]=a(m)}return d}}function c(n){var i=[],o=[];return n.proto?d:h;function a(g,m){for(var b=Object.keys(g),w=new Array(b.length),v=0;v<b.length;v++){var R=b[v],F=g[R];if(typeof F!="object"||F===null)w[R]=F;else if(F instanceof Date)w[R]=new Date(F);else if(ArrayBuffer.isView(F))w[R]=r(F);else{var T=i.indexOf(F);T!==-1?w[R]=o[T]:w[R]=m(F)}}return w}function h(g){if(typeof g!="object"||g===null)return g;if(g instanceof Date)return new Date(g);if(Array.isArray(g))return a(g,h);if(g instanceof Map)return new Map(a(Array.from(g),h));if(g instanceof Set)return new Set(a(Array.from(g),h));var m={};i.push(g),o.push(m);for(var b in g)if(Object.hasOwnProperty.call(g,b)!==!1){var w=g[b];if(typeof w!="object"||w===null)m[b]=w;else if(w instanceof Date)m[b]=new Date(w);else if(w instanceof Map)m[b]=new Map(a(Array.from(w),h));else if(w instanceof Set)m[b]=new Set(a(Array.from(w),h));else if(ArrayBuffer.isView(w))m[b]=r(w);else{var v=i.indexOf(w);v!==-1?m[b]=o[v]:m[b]=h(w)}}return i.pop(),o.pop(),m}function d(g){if(typeof g!="object"||g===null)return g;if(g instanceof Date)return new Date(g);if(Array.isArray(g))return a(g,d);if(g instanceof Map)return new Map(a(Array.from(g),d));if(g instanceof Set)return new Set(a(Array.from(g),d));var m={};i.push(g),o.push(m);for(var b in g){var w=g[b];if(typeof w!="object"||w===null)m[b]=w;else if(w instanceof Date)m[b]=new Date(w);else if(w instanceof Map)m[b]=new Map(a(Array.from(w),d));else if(w instanceof Set)m[b]=new Set(a(Array.from(w),d));else if(ArrayBuffer.isView(w))m[b]=r(w);else{var v=i.indexOf(w);v!==-1?m[b]=o[v]:m[b]=d(w)}}return i.pop(),o.pop(),m}}}),hg=_e((e,t)=>{me(),ge(),pe(),t.exports=cg()()}),fg=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopics=e.validateTopic=void 0;function t(s){let c=s.split("/");for(let n=0;n<c.length;n++)if(c[n]!=="+"){if(c[n]==="#")return n===c.length-1;if(c[n].indexOf("+")!==-1||c[n].indexOf("#")!==-1)return!1}return!0}e.validateTopic=t;function r(s){if(s.length===0)return"empty_topic_list";for(let c=0;c<s.length;c++)if(!t(s[c]))return s[c];return null}e.validateTopics=r}),Mc=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0});var t=Hr(),r={objectMode:!0},s={clean:!0},c=class{constructor(n){this.options=n||{},this.options=Object.assign(Object.assign({},s),n),this._inflights=new Map}put(n,i){return this._inflights.set(n.messageId,n),i&&i(),this}createStream(){let n=new t.Readable(r),i=[],o=!1,a=0;return this._inflights.forEach((h,d)=>{i.push(h)}),n._read=()=>{!o&&a<i.length?n.push(i[a++]):n.push(null)},n.destroy=h=>{if(!o)return o=!0,setTimeout(()=>{n.emit("close")},0),n},n}del(n,i){let o=this._inflights.get(n.messageId);return o?(this._inflights.delete(n.messageId),i(null,o)):i&&i(new Error("missing packet")),this}get(n,i){let o=this._inflights.get(n.messageId);return o?i(null,o):i&&i(new Error("missing packet")),this}close(n){this.options.clean&&(this._inflights=null),n&&n()}};e.default=c}),dg=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153],r=(s,c,n)=>{s.log("handlePublish: packet %o",c),n=typeof n<"u"?n:s.noop;let i=c.topic.toString(),o=c.payload,{qos:a}=c,{messageId:h}=c,{options:d}=s;if(s.options.protocolVersion===5){let g;if(c.properties&&(g=c.properties.topicAlias),typeof g<"u")if(i.length===0)if(g>0&&g<=65535){let m=s.topicAliasRecv.getTopicByAlias(g);if(m)i=m,s.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",i,g);else{s.log("handlePublish :: unregistered topic alias. alias: %d",g),s.emit("error",new Error("Received unregistered Topic Alias"));return}}else{s.log("handlePublish :: topic alias out of range. alias: %d",g),s.emit("error",new Error("Received Topic Alias is out of range"));return}else if(s.topicAliasRecv.put(i,g))s.log("handlePublish :: registered topic: %s - alias: %d",i,g);else{s.log("handlePublish :: topic alias out of range. alias: %d",g),s.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(s.log("handlePublish: qos %d",a),a){case 2:{d.customHandleAcks(i,o,c,(g,m)=>{if(typeof g=="number"&&(m=g,g=null),g)return s.emit("error",g);if(t.indexOf(m)===-1)return s.emit("error",new Error("Wrong reason code for pubrec"));m?s._sendPacket({cmd:"pubrec",messageId:h,reasonCode:m},n):s.incomingStore.put(c,()=>{s._sendPacket({cmd:"pubrec",messageId:h},n)})});break}case 1:{d.customHandleAcks(i,o,c,(g,m)=>{if(typeof g=="number"&&(m=g,g=null),g)return s.emit("error",g);if(t.indexOf(m)===-1)return s.emit("error",new Error("Wrong reason code for puback"));m||s.emit("message",i,o,c),s.handleMessage(c,b=>{if(b)return n&&n(b);s._sendPacket({cmd:"puback",messageId:h,reasonCode:m},n)})});break}case 0:s.emit("message",i,o,c),s.handleMessage(c,n);break;default:s.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=r}),pg=_e((e,t)=>{t.exports={version:"5.8.0"}}),Tn=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.applyMixin=e.ErrorWithReasonCode=void 0;var t=class Uc extends Error{constructor(c,n){super(c),this.code=n,Object.setPrototypeOf(this,Uc.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=t;function r(s,c,n=!1){var i;let o=[c];for(;;){let a=o[0],h=Object.getPrototypeOf(a);if(h!=null&&h.prototype)o.unshift(h);else break}for(let a of o)for(let h of Object.getOwnPropertyNames(a.prototype))(n||h!=="constructor")&&Object.defineProperty(s.prototype,h,(i=Object.getOwnPropertyDescriptor(a.prototype,h))!==null&&i!==void 0?i:Object.create(null))}e.applyMixin=r,e.nextTick=typeof(Pe==null?void 0:Pe.nextTick)=="function"?Pe.nextTick:s=>{setTimeout(s,0)},e.MQTTJS_VERSION=pg().version}),Ii=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0,e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var t=(r,s)=>{let{messageId:c}=s,n=s.cmd,i=null,o=r.outgoing[c]?r.outgoing[c].cb:null,a=null;if(!o){r.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(r.log("_handleAck :: packet type",n),n){case"pubcomp":case"puback":{let h=s.reasonCode;h&&h>0&&h!==16?(a=new Error(`Publish error: ${e.ReasonCodes[h]}`),a.code=h,r._removeOutgoingAndStoreMessage(c,()=>{o(a,s)})):r._removeOutgoingAndStoreMessage(c,o);break}case"pubrec":{i={cmd:"pubrel",qos:2,messageId:c};let h=s.reasonCode;h&&h>0&&h!==16?(a=new Error(`Publish error: ${e.ReasonCodes[h]}`),a.code=h,r._removeOutgoingAndStoreMessage(c,()=>{o(a,s)})):r._sendPacket(i);break}case"suback":{delete r.outgoing[c],r.messageIdProvider.deallocate(c);let h=s.granted;for(let d=0;d<h.length;d++){let g=h[d];if(g&128){a=new Error(`Subscribe error: ${e.ReasonCodes[g]}`),a.code=g;let m=r.messageIdToTopic[c];m&&m.forEach(b=>{delete r._resubscribeTopics[b]})}}delete r.messageIdToTopic[c],r._invokeStoreProcessingQueue(),o(a,s);break}case"unsuback":{delete r.outgoing[c],r.messageIdProvider.deallocate(c),r._invokeStoreProcessingQueue(),o(null);break}default:r.emit("error",new Error("unrecognized packet type"))}r.disconnecting&&Object.keys(r.outgoing).length===0&&r.emit("outgoingEmpty")};e.default=t}),gg=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0});var t=Tn(),r=Ii(),s=(c,n)=>{let{options:i}=c,o=i.protocolVersion,a=o===5?n.reasonCode:n.returnCode;if(o!==5){let h=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${o}`,a);c.emit("error",h);return}c.handleAuth(n,(h,d)=>{if(h){c.emit("error",h);return}if(a===24)c.reconnecting=!1,c._sendPacket(d);else{let g=new t.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[a]}`,a);c.emit("error",g)}})};e.default=s}),mg=_e(e=>{var b,w,v,R,F,T,I,V,z,P,N,H,Q,ne,le,U,J,se,te,ce,ie,G,be,ue,ye,S,Ss,de,Se,he,D,Lc,ee,fe,ae,ir,or,As,Qn,Jn,Fe,Is,pn,C;me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var t=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,r=new Set,s=typeof Pe=="object"&&Pe?Pe:{},c=(W,A,j,q)=>{typeof s.emitWarning=="function"?s.emitWarning(W,A,j,q):console.error(`[${j}] ${A}: ${W}`)},n=globalThis.AbortController,i=globalThis.AbortSignal;if(typeof n>"u"){i=class{constructor(){He(this,"onabort");He(this,"_onabort",[]);He(this,"reason");He(this,"aborted",!1)}addEventListener(j,q){this._onabort.push(q)}},n=class{constructor(){He(this,"signal",new i);A()}abort(j){var q,X;if(!this.signal.aborted){this.signal.reason=j,this.signal.aborted=!0;for(let p of this.signal._onabort)p(j);(X=(q=this.signal).onabort)==null||X.call(q,j)}}};let W=((b=s.env)==null?void 0:b.LRU_CACHE_IGNORE_AC_WARNING)!=="1",A=()=>{W&&(W=!1,c("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",A))}}var o=W=>!r.has(W),a=W=>W&&W===Math.floor(W)&&W>0&&isFinite(W),h=W=>a(W)?W<=Math.pow(2,8)?Uint8Array:W<=Math.pow(2,16)?Uint16Array:W<=Math.pow(2,32)?Uint32Array:W<=Number.MAX_SAFE_INTEGER?d:null:null,d=class extends Array{constructor(W){super(W),this.fill(0)}},g=(w=class{constructor(A,j){He(this,"heap");He(this,"length");if(!$(w,v))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new j(A),this.length=0}static create(A){let j=h(A);if(!j)return[];Ce(w,v,!0);let q=new w(A,j);return Ce(w,v,!1),q}push(A){this.heap[this.length++]=A}pop(){return this.heap[--this.length]}},v=new WeakMap,Oe(w,v,!1),w),m=(C=class{constructor(A){Oe(this,S);Oe(this,R);Oe(this,F);Oe(this,T);Oe(this,I);Oe(this,V);He(this,"ttl");He(this,"ttlResolution");He(this,"ttlAutopurge");He(this,"updateAgeOnGet");He(this,"updateAgeOnHas");He(this,"allowStale");He(this,"noDisposeOnSet");He(this,"noUpdateTTL");He(this,"maxEntrySize");He(this,"sizeCalculation");He(this,"noDeleteOnFetchRejection");He(this,"noDeleteOnStaleGet");He(this,"allowStaleOnFetchAbort");He(this,"allowStaleOnFetchRejection");He(this,"ignoreFetchAbort");Oe(this,z);Oe(this,P);Oe(this,N);Oe(this,H);Oe(this,Q);Oe(this,ne);Oe(this,le);Oe(this,U);Oe(this,J);Oe(this,se);Oe(this,te);Oe(this,ce);Oe(this,ie);Oe(this,G);Oe(this,be);Oe(this,ue);Oe(this,ye);Oe(this,de,()=>{});Oe(this,Se,()=>{});Oe(this,he,()=>{});Oe(this,D,()=>!1);Oe(this,ee,A=>{});Oe(this,fe,(A,j,q)=>{});Oe(this,ae,(A,j,q,X)=>{if(q||X)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:j=0,ttl:q,ttlResolution:X=1,ttlAutopurge:p,updateAgeOnGet:u,updateAgeOnHas:l,allowStale:f,dispose:y,disposeAfter:_,noDisposeOnSet:L,noUpdateTTL:Z,maxSize:Ee=0,maxEntrySize:xe=0,sizeCalculation:ve,fetchMethod:Ie,noDeleteOnFetchRejection:Ae,noDeleteOnStaleGet:je,allowStaleOnFetchRejection:Je,allowStaleOnFetchAbort:Ke,ignoreFetchAbort:et}=A;if(j!==0&&!a(j))throw new TypeError("max option must be a nonnegative integer");let at=j?h(j):Array;if(!at)throw new Error("invalid max value: "+j);if(Ce(this,R,j),Ce(this,F,Ee),this.maxEntrySize=xe||$(this,F),this.sizeCalculation=ve,this.sizeCalculation){if(!$(this,F)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Ie!==void 0&&typeof Ie!="function")throw new TypeError("fetchMethod must be a function if specified");if(Ce(this,V,Ie),Ce(this,ue,!!Ie),Ce(this,N,new Map),Ce(this,H,new Array(j).fill(void 0)),Ce(this,Q,new Array(j).fill(void 0)),Ce(this,ne,new at(j)),Ce(this,le,new at(j)),Ce(this,U,0),Ce(this,J,0),Ce(this,se,g.create(j)),Ce(this,z,0),Ce(this,P,0),typeof y=="function"&&Ce(this,T,y),typeof _=="function"?(Ce(this,I,_),Ce(this,te,[])):(Ce(this,I,void 0),Ce(this,te,void 0)),Ce(this,be,!!$(this,T)),Ce(this,ye,!!$(this,I)),this.noDisposeOnSet=!!L,this.noUpdateTTL=!!Z,this.noDeleteOnFetchRejection=!!Ae,this.allowStaleOnFetchRejection=!!Je,this.allowStaleOnFetchAbort=!!Ke,this.ignoreFetchAbort=!!et,this.maxEntrySize!==0){if($(this,F)!==0&&!a($(this,F)))throw new TypeError("maxSize must be a positive integer if specified");if(!a(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Te(this,S,Lc).call(this)}if(this.allowStale=!!f,this.noDeleteOnStaleGet=!!je,this.updateAgeOnGet=!!u,this.updateAgeOnHas=!!l,this.ttlResolution=a(X)||X===0?X:1,this.ttlAutopurge=!!p,this.ttl=q||0,this.ttl){if(!a(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Te(this,S,Ss).call(this)}if($(this,R)===0&&this.ttl===0&&$(this,F)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!$(this,R)&&!$(this,F)){let Xe="LRU_CACHE_UNBOUNDED";o(Xe)&&(r.add(Xe),c("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Xe,C))}}static unsafeExposeInternals(A){return{starts:$(A,ie),ttls:$(A,G),sizes:$(A,ce),keyMap:$(A,N),keyList:$(A,H),valList:$(A,Q),next:$(A,ne),prev:$(A,le),get head(){return $(A,U)},get tail(){return $(A,J)},free:$(A,se),isBackgroundFetch:j=>{var q;return Te(q=A,S,Fe).call(q,j)},backgroundFetch:(j,q,X,p)=>{var u;return Te(u=A,S,Jn).call(u,j,q,X,p)},moveToTail:j=>{var q;return Te(q=A,S,pn).call(q,j)},indexes:j=>{var q;return Te(q=A,S,ir).call(q,j)},rindexes:j=>{var q;return Te(q=A,S,or).call(q,j)},isStale:j=>{var q;return $(q=A,D).call(q,j)}}}get max(){return $(this,R)}get maxSize(){return $(this,F)}get calculatedSize(){return $(this,P)}get size(){return $(this,z)}get fetchMethod(){return $(this,V)}get dispose(){return $(this,T)}get disposeAfter(){return $(this,I)}getRemainingTTL(A){return $(this,N).has(A)?1/0:0}*entries(){for(let A of Te(this,S,ir).call(this))$(this,Q)[A]!==void 0&&$(this,H)[A]!==void 0&&!Te(this,S,Fe).call(this,$(this,Q)[A])&&(yield[$(this,H)[A],$(this,Q)[A]])}*rentries(){for(let A of Te(this,S,or).call(this))$(this,Q)[A]!==void 0&&$(this,H)[A]!==void 0&&!Te(this,S,Fe).call(this,$(this,Q)[A])&&(yield[$(this,H)[A],$(this,Q)[A]])}*keys(){for(let A of Te(this,S,ir).call(this)){let j=$(this,H)[A];j!==void 0&&!Te(this,S,Fe).call(this,$(this,Q)[A])&&(yield j)}}*rkeys(){for(let A of Te(this,S,or).call(this)){let j=$(this,H)[A];j!==void 0&&!Te(this,S,Fe).call(this,$(this,Q)[A])&&(yield j)}}*values(){for(let A of Te(this,S,ir).call(this))$(this,Q)[A]!==void 0&&!Te(this,S,Fe).call(this,$(this,Q)[A])&&(yield $(this,Q)[A])}*rvalues(){for(let A of Te(this,S,or).call(this))$(this,Q)[A]!==void 0&&!Te(this,S,Fe).call(this,$(this,Q)[A])&&(yield $(this,Q)[A])}[Symbol.iterator](){return this.entries()}find(A,j={}){for(let q of Te(this,S,ir).call(this)){let X=$(this,Q)[q],p=Te(this,S,Fe).call(this,X)?X.__staleWhileFetching:X;if(p!==void 0&&A(p,$(this,H)[q],this))return this.get($(this,H)[q],j)}}forEach(A,j=this){for(let q of Te(this,S,ir).call(this)){let X=$(this,Q)[q],p=Te(this,S,Fe).call(this,X)?X.__staleWhileFetching:X;p!==void 0&&A.call(j,p,$(this,H)[q],this)}}rforEach(A,j=this){for(let q of Te(this,S,or).call(this)){let X=$(this,Q)[q],p=Te(this,S,Fe).call(this,X)?X.__staleWhileFetching:X;p!==void 0&&A.call(j,p,$(this,H)[q],this)}}purgeStale(){let A=!1;for(let j of Te(this,S,or).call(this,{allowStale:!0}))$(this,D).call(this,j)&&(this.delete($(this,H)[j]),A=!0);return A}dump(){let A=[];for(let j of Te(this,S,ir).call(this,{allowStale:!0})){let q=$(this,H)[j],X=$(this,Q)[j],p=Te(this,S,Fe).call(this,X)?X.__staleWhileFetching:X;if(p===void 0||q===void 0)continue;let u={value:p};if($(this,G)&&$(this,ie)){u.ttl=$(this,G)[j];let l=t.now()-$(this,ie)[j];u.start=Math.floor(Date.now()-l)}$(this,ce)&&(u.size=$(this,ce)[j]),A.unshift([q,u])}return A}load(A){this.clear();for(let[j,q]of A){if(q.start){let X=Date.now()-q.start;q.start=t.now()-X}this.set(j,q.value,q)}}set(A,j,q={}){var Z,Ee,xe,ve,Ie;if(j===void 0)return this.delete(A),this;let{ttl:X=this.ttl,start:p,noDisposeOnSet:u=this.noDisposeOnSet,sizeCalculation:l=this.sizeCalculation,status:f}=q,{noUpdateTTL:y=this.noUpdateTTL}=q,_=$(this,ae).call(this,A,j,q.size||0,l);if(this.maxEntrySize&&_>this.maxEntrySize)return f&&(f.set="miss",f.maxEntrySizeExceeded=!0),this.delete(A),this;let L=$(this,z)===0?void 0:$(this,N).get(A);if(L===void 0)L=$(this,z)===0?$(this,J):$(this,se).length!==0?$(this,se).pop():$(this,z)===$(this,R)?Te(this,S,Qn).call(this,!1):$(this,z),$(this,H)[L]=A,$(this,Q)[L]=j,$(this,N).set(A,L),$(this,ne)[$(this,J)]=L,$(this,le)[L]=$(this,J),Ce(this,J,L),Cn(this,z)._++,$(this,fe).call(this,L,_,f),f&&(f.set="add"),y=!1;else{Te(this,S,pn).call(this,L);let Ae=$(this,Q)[L];if(j!==Ae){if($(this,ue)&&Te(this,S,Fe).call(this,Ae)){Ae.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:je}=Ae;je!==void 0&&!u&&($(this,be)&&((Z=$(this,T))==null||Z.call(this,je,A,"set")),$(this,ye)&&((Ee=$(this,te))==null||Ee.push([je,A,"set"])))}else u||($(this,be)&&((xe=$(this,T))==null||xe.call(this,Ae,A,"set")),$(this,ye)&&((ve=$(this,te))==null||ve.push([Ae,A,"set"])));if($(this,ee).call(this,L),$(this,fe).call(this,L,_,f),$(this,Q)[L]=j,f){f.set="replace";let je=Ae&&Te(this,S,Fe).call(this,Ae)?Ae.__staleWhileFetching:Ae;je!==void 0&&(f.oldValue=je)}}else f&&(f.set="update")}if(X!==0&&!$(this,G)&&Te(this,S,Ss).call(this),$(this,G)&&(y||$(this,he).call(this,L,X,p),f&&$(this,Se).call(this,f,L)),!u&&$(this,ye)&&$(this,te)){let Ae=$(this,te),je;for(;je=Ae==null?void 0:Ae.shift();)(Ie=$(this,I))==null||Ie.call(this,...je)}return this}pop(){var A;try{for(;$(this,z);){let j=$(this,Q)[$(this,U)];if(Te(this,S,Qn).call(this,!0),Te(this,S,Fe).call(this,j)){if(j.__staleWhileFetching)return j.__staleWhileFetching}else if(j!==void 0)return j}}finally{if($(this,ye)&&$(this,te)){let j=$(this,te),q;for(;q=j==null?void 0:j.shift();)(A=$(this,I))==null||A.call(this,...q)}}}has(A,j={}){let{updateAgeOnHas:q=this.updateAgeOnHas,status:X}=j,p=$(this,N).get(A);if(p!==void 0){let u=$(this,Q)[p];if(Te(this,S,Fe).call(this,u)&&u.__staleWhileFetching===void 0)return!1;if($(this,D).call(this,p))X&&(X.has="stale",$(this,Se).call(this,X,p));else return q&&$(this,de).call(this,p),X&&(X.has="hit",$(this,Se).call(this,X,p)),!0}else X&&(X.has="miss");return!1}peek(A,j={}){let{allowStale:q=this.allowStale}=j,X=$(this,N).get(A);if(X!==void 0&&(q||!$(this,D).call(this,X))){let p=$(this,Q)[X];return Te(this,S,Fe).call(this,p)?p.__staleWhileFetching:p}}async fetch(A,j={}){let{allowStale:q=this.allowStale,updateAgeOnGet:X=this.updateAgeOnGet,noDeleteOnStaleGet:p=this.noDeleteOnStaleGet,ttl:u=this.ttl,noDisposeOnSet:l=this.noDisposeOnSet,size:f=0,sizeCalculation:y=this.sizeCalculation,noUpdateTTL:_=this.noUpdateTTL,noDeleteOnFetchRejection:L=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Z=this.allowStaleOnFetchRejection,ignoreFetchAbort:Ee=this.ignoreFetchAbort,allowStaleOnFetchAbort:xe=this.allowStaleOnFetchAbort,context:ve,forceRefresh:Ie=!1,status:Ae,signal:je}=j;if(!$(this,ue))return Ae&&(Ae.fetch="get"),this.get(A,{allowStale:q,updateAgeOnGet:X,noDeleteOnStaleGet:p,status:Ae});let Je={allowStale:q,updateAgeOnGet:X,noDeleteOnStaleGet:p,ttl:u,noDisposeOnSet:l,size:f,sizeCalculation:y,noUpdateTTL:_,noDeleteOnFetchRejection:L,allowStaleOnFetchRejection:Z,allowStaleOnFetchAbort:xe,ignoreFetchAbort:Ee,status:Ae,signal:je},Ke=$(this,N).get(A);if(Ke===void 0){Ae&&(Ae.fetch="miss");let et=Te(this,S,Jn).call(this,A,Ke,Je,ve);return et.__returned=et}else{let et=$(this,Q)[Ke];if(Te(this,S,Fe).call(this,et)){let ml=q&&et.__staleWhileFetching!==void 0;return Ae&&(Ae.fetch="inflight",ml&&(Ae.returnedStale=!0)),ml?et.__staleWhileFetching:et.__returned=et}let at=$(this,D).call(this,Ke);if(!Ie&&!at)return Ae&&(Ae.fetch="hit"),Te(this,S,pn).call(this,Ke),X&&$(this,de).call(this,Ke),Ae&&$(this,Se).call(this,Ae,Ke),et;let Xe=Te(this,S,Jn).call(this,A,Ke,Je,ve),gl=Xe.__staleWhileFetching!==void 0&&q;return Ae&&(Ae.fetch=at?"stale":"refresh",gl&&at&&(Ae.returnedStale=!0)),gl?Xe.__staleWhileFetching:Xe.__returned=Xe}}get(A,j={}){let{allowStale:q=this.allowStale,updateAgeOnGet:X=this.updateAgeOnGet,noDeleteOnStaleGet:p=this.noDeleteOnStaleGet,status:u}=j,l=$(this,N).get(A);if(l!==void 0){let f=$(this,Q)[l],y=Te(this,S,Fe).call(this,f);return u&&$(this,Se).call(this,u,l),$(this,D).call(this,l)?(u&&(u.get="stale"),y?(u&&q&&f.__staleWhileFetching!==void 0&&(u.returnedStale=!0),q?f.__staleWhileFetching:void 0):(p||this.delete(A),u&&q&&(u.returnedStale=!0),q?f:void 0)):(u&&(u.get="hit"),y?f.__staleWhileFetching:(Te(this,S,pn).call(this,l),X&&$(this,de).call(this,l),f))}else u&&(u.get="miss")}delete(A){var q,X,p,u;let j=!1;if($(this,z)!==0){let l=$(this,N).get(A);if(l!==void 0)if(j=!0,$(this,z)===1)this.clear();else{$(this,ee).call(this,l);let f=$(this,Q)[l];Te(this,S,Fe).call(this,f)?f.__abortController.abort(new Error("deleted")):($(this,be)||$(this,ye))&&($(this,be)&&((q=$(this,T))==null||q.call(this,f,A,"delete")),$(this,ye)&&((X=$(this,te))==null||X.push([f,A,"delete"]))),$(this,N).delete(A),$(this,H)[l]=void 0,$(this,Q)[l]=void 0,l===$(this,J)?Ce(this,J,$(this,le)[l]):l===$(this,U)?Ce(this,U,$(this,ne)[l]):($(this,ne)[$(this,le)[l]]=$(this,ne)[l],$(this,le)[$(this,ne)[l]]=$(this,le)[l]),Cn(this,z)._--,$(this,se).push(l)}}if($(this,ye)&&((p=$(this,te))!=null&&p.length)){let l=$(this,te),f;for(;f=l==null?void 0:l.shift();)(u=$(this,I))==null||u.call(this,...f)}return j}clear(){var A,j,q;for(let X of Te(this,S,or).call(this,{allowStale:!0})){let p=$(this,Q)[X];if(Te(this,S,Fe).call(this,p))p.__abortController.abort(new Error("deleted"));else{let u=$(this,H)[X];$(this,be)&&((A=$(this,T))==null||A.call(this,p,u,"delete")),$(this,ye)&&((j=$(this,te))==null||j.push([p,u,"delete"]))}}if($(this,N).clear(),$(this,Q).fill(void 0),$(this,H).fill(void 0),$(this,G)&&$(this,ie)&&($(this,G).fill(0),$(this,ie).fill(0)),$(this,ce)&&$(this,ce).fill(0),Ce(this,U,0),Ce(this,J,0),$(this,se).length=0,Ce(this,P,0),Ce(this,z,0),$(this,ye)&&$(this,te)){let X=$(this,te),p;for(;p=X==null?void 0:X.shift();)(q=$(this,I))==null||q.call(this,...p)}}},R=new WeakMap,F=new WeakMap,T=new WeakMap,I=new WeakMap,V=new WeakMap,z=new WeakMap,P=new WeakMap,N=new WeakMap,H=new WeakMap,Q=new WeakMap,ne=new WeakMap,le=new WeakMap,U=new WeakMap,J=new WeakMap,se=new WeakMap,te=new WeakMap,ce=new WeakMap,ie=new WeakMap,G=new WeakMap,be=new WeakMap,ue=new WeakMap,ye=new WeakMap,S=new WeakSet,Ss=function(){let A=new d($(this,R)),j=new d($(this,R));Ce(this,G,A),Ce(this,ie,j),Ce(this,he,(p,u,l=t.now())=>{if(j[p]=u!==0?l:0,A[p]=u,u!==0&&this.ttlAutopurge){let f=setTimeout(()=>{$(this,D).call(this,p)&&this.delete($(this,H)[p])},u+1);f.unref&&f.unref()}}),Ce(this,de,p=>{j[p]=A[p]!==0?t.now():0}),Ce(this,Se,(p,u)=>{if(A[u]){let l=A[u],f=j[u];p.ttl=l,p.start=f,p.now=q||X();let y=p.now-f;p.remainingTTL=l-y}});let q=0,X=()=>{let p=t.now();if(this.ttlResolution>0){q=p;let u=setTimeout(()=>q=0,this.ttlResolution);u.unref&&u.unref()}return p};this.getRemainingTTL=p=>{let u=$(this,N).get(p);if(u===void 0)return 0;let l=A[u],f=j[u];if(l===0||f===0)return 1/0;let y=(q||X())-f;return l-y},Ce(this,D,p=>A[p]!==0&&j[p]!==0&&(q||X())-j[p]>A[p])},de=new WeakMap,Se=new WeakMap,he=new WeakMap,D=new WeakMap,Lc=function(){let A=new d($(this,R));Ce(this,P,0),Ce(this,ce,A),Ce(this,ee,j=>{Ce(this,P,$(this,P)-A[j]),A[j]=0}),Ce(this,ae,(j,q,X,p)=>{if(Te(this,S,Fe).call(this,q))return 0;if(!a(X))if(p){if(typeof p!="function")throw new TypeError("sizeCalculation must be a function");if(X=p(q,j),!a(X))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return X}),Ce(this,fe,(j,q,X)=>{if(A[j]=q,$(this,F)){let p=$(this,F)-A[j];for(;$(this,P)>p;)Te(this,S,Qn).call(this,!0)}Ce(this,P,$(this,P)+A[j]),X&&(X.entrySize=q,X.totalCalculatedSize=$(this,P))})},ee=new WeakMap,fe=new WeakMap,ae=new WeakMap,ir=function*({allowStale:A=this.allowStale}={}){if($(this,z))for(let j=$(this,J);!(!Te(this,S,As).call(this,j)||((A||!$(this,D).call(this,j))&&(yield j),j===$(this,U)));)j=$(this,le)[j]},or=function*({allowStale:A=this.allowStale}={}){if($(this,z))for(let j=$(this,U);!(!Te(this,S,As).call(this,j)||((A||!$(this,D).call(this,j))&&(yield j),j===$(this,J)));)j=$(this,ne)[j]},As=function(A){return A!==void 0&&$(this,N).get($(this,H)[A])===A},Qn=function(A){var p,u;let j=$(this,U),q=$(this,H)[j],X=$(this,Q)[j];return $(this,ue)&&Te(this,S,Fe).call(this,X)?X.__abortController.abort(new Error("evicted")):($(this,be)||$(this,ye))&&($(this,be)&&((p=$(this,T))==null||p.call(this,X,q,"evict")),$(this,ye)&&((u=$(this,te))==null||u.push([X,q,"evict"]))),$(this,ee).call(this,j),A&&($(this,H)[j]=void 0,$(this,Q)[j]=void 0,$(this,se).push(j)),$(this,z)===1?(Ce(this,U,Ce(this,J,0)),$(this,se).length=0):Ce(this,U,$(this,ne)[j]),$(this,N).delete(q),Cn(this,z)._--,j},Jn=function(A,j,q,X){let p=j===void 0?void 0:$(this,Q)[j];if(Te(this,S,Fe).call(this,p))return p;let u=new n,{signal:l}=q;l==null||l.addEventListener("abort",()=>u.abort(l.reason),{signal:u.signal});let f={signal:u.signal,options:q,context:X},y=(ve,Ie=!1)=>{let{aborted:Ae}=u.signal,je=q.ignoreFetchAbort&&ve!==void 0;if(q.status&&(Ae&&!Ie?(q.status.fetchAborted=!0,q.status.fetchError=u.signal.reason,je&&(q.status.fetchAbortIgnored=!0)):q.status.fetchResolved=!0),Ae&&!je&&!Ie)return L(u.signal.reason);let Je=Ee;return $(this,Q)[j]===Ee&&(ve===void 0?Je.__staleWhileFetching?$(this,Q)[j]=Je.__staleWhileFetching:this.delete(A):(q.status&&(q.status.fetchUpdated=!0),this.set(A,ve,f.options))),ve},_=ve=>(q.status&&(q.status.fetchRejected=!0,q.status.fetchError=ve),L(ve)),L=ve=>{let{aborted:Ie}=u.signal,Ae=Ie&&q.allowStaleOnFetchAbort,je=Ae||q.allowStaleOnFetchRejection,Je=je||q.noDeleteOnFetchRejection,Ke=Ee;if($(this,Q)[j]===Ee&&(!Je||Ke.__staleWhileFetching===void 0?this.delete(A):Ae||($(this,Q)[j]=Ke.__staleWhileFetching)),je)return q.status&&Ke.__staleWhileFetching!==void 0&&(q.status.returnedStale=!0),Ke.__staleWhileFetching;if(Ke.__returned===Ke)throw ve},Z=(ve,Ie)=>{var je;let Ae=(je=$(this,V))==null?void 0:je.call(this,A,p,f);Ae&&Ae instanceof Promise&&Ae.then(Je=>ve(Je===void 0?void 0:Je),Ie),u.signal.addEventListener("abort",()=>{(!q.ignoreFetchAbort||q.allowStaleOnFetchAbort)&&(ve(void 0),q.allowStaleOnFetchAbort&&(ve=Je=>y(Je,!0)))})};q.status&&(q.status.fetchDispatched=!0);let Ee=new Promise(Z).then(y,_),xe=Object.assign(Ee,{__abortController:u,__staleWhileFetching:p,__returned:void 0});return j===void 0?(this.set(A,xe,{...f.options,status:void 0}),j=$(this,N).get(A)):$(this,Q)[j]=xe,xe},Fe=function(A){if(!$(this,ue))return!1;let j=A;return!!j&&j instanceof Promise&&j.hasOwnProperty("__staleWhileFetching")&&j.__abortController instanceof n},Is=function(A,j){$(this,le)[j]=A,$(this,ne)[A]=j},pn=function(A){A!==$(this,J)&&(A===$(this,U)?Ce(this,U,$(this,ne)[A]):Te(this,S,Is).call(this,$(this,le)[A],$(this,ne)[A]),Te(this,S,Is).call(this,$(this,J),A),Ce(this,J,A))},C);e.LRUCache=m}),er=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var t=class{constructor(c=0){this.iteratorType=c}equals(c){return this.o===c.o}};e.ContainerIterator=t;var r=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=r;var s=class extends r{};e.Container=s}),yg=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=er(),r=class extends t.Base{constructor(c=[]){super(),this.S=[];let n=this;c.forEach(function(i){n.push(i)})}clear(){this.i=0,this.S=[]}push(c){return this.S.push(c),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},s=r;e.default=s}),bg=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=er(),r=class extends t.Base{constructor(c=[]){super(),this.j=0,this.q=[];let n=this;c.forEach(function(i){n.push(i)})}clear(){this.q=[],this.i=this.j=0}push(c){let n=this.q.length;if(this.j/n>.5&&this.j+this.i>=n&&n>4096){let i=this.i;for(let o=0;o<i;++o)this.q[o]=this.q[this.j+o];this.j=0,this.q[this.i]=c}else this.q[this.j+this.i]=c;return++this.i}pop(){if(this.i===0)return;let c=this.q[this.j++];return this.i-=1,c}front(){if(this.i!==0)return this.q[this.j]}},s=r;e.default=s}),wg=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=er(),r=class extends t.Base{constructor(c=[],n=function(o,a){return o>a?-1:o<a?1:0},i=!0){if(super(),this.v=n,Array.isArray(c))this.C=i?[...c]:c;else{this.C=[];let a=this;c.forEach(function(h){a.C.push(h)})}this.i=this.C.length;let o=this.i>>1;for(let a=this.i-1>>1;a>=0;--a)this.k(a,o)}m(c){let n=this.C[c];for(;c>0;){let i=c-1>>1,o=this.C[i];if(this.v(o,n)<=0)break;this.C[c]=o,c=i}this.C[c]=n}k(c,n){let i=this.C[c];for(;c<n;){let o=c<<1|1,a=o+1,h=this.C[o];if(a<this.i&&this.v(h,this.C[a])>0&&(o=a,h=this.C[a]),this.v(h,i)>=0)break;this.C[c]=h,c=o}this.C[c]=i}clear(){this.i=0,this.C.length=0}push(c){this.C.push(c),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let c=this.C[0],n=this.C.pop();return this.i-=1,this.i&&(this.C[0]=n,this.k(0,this.i>>1)),c}top(){return this.C[0]}find(c){return this.C.indexOf(c)>=0}remove(c){let n=this.C.indexOf(c);return n<0?!1:(n===0?this.pop():n===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(n,1,this.C.pop()),this.i-=1,this.m(n),this.k(n,this.i>>1)),!0)}updateItem(c){let n=this.C.indexOf(c);return n<0?!1:(this.m(n),this.k(n,this.i>>1),!0)}toArray(){return[...this.C]}},s=r;e.default=s}),ul=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=er(),r=class extends t.Container{},s=r;e.default=s}),tr=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=t;function t(){throw new RangeError("Iterator access denied!")}}),Nc=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=er(),r=tr(),s=class extends t.ContainerIterator{constructor(c,n){super(n),this.o=c,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,r.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,r.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,r.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,r.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(c){this.container.setElementByPos(this.o,c)}};e.RandomIterator=s}),_g=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=s(ul()),r=Nc();function s(o){return o&&o.t?o:{default:o}}var c=class jc extends r.RandomIterator{constructor(a,h,d){super(a,d),this.container=h}copy(){return new jc(this.o,this.container,this.iteratorType)}},n=class extends t.default{constructor(o=[],a=!0){if(super(),Array.isArray(o))this.J=a?[...o]:o,this.i=o.length;else{this.J=[];let h=this;o.forEach(function(d){h.pushBack(d)})}}clear(){this.i=0,this.J.length=0}begin(){return new c(0,this)}end(){return new c(this.i,this)}rBegin(){return new c(this.i-1,this,1)}rEnd(){return new c(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J[o]}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J.splice(o,1),this.i-=1,this.i}eraseElementByValue(o){let a=0;for(let h=0;h<this.i;++h)this.J[h]!==o&&(this.J[a++]=this.J[h]);return this.i=this.J.length=a,this.i}eraseElementByIterator(o){let a=o.o;return o=o.next(),this.eraseElementByPos(a),o}pushBack(o){return this.J.push(o),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(o,a){if(o<0||o>this.i-1)throw new RangeError;this.J[o]=a}insert(o,a,h=1){if(o<0||o>this.i)throw new RangeError;return this.J.splice(o,0,...new Array(h).fill(a)),this.i+=h,this.i}find(o){for(let a=0;a<this.i;++a)if(this.J[a]===o)return new c(a,this);return this.end()}reverse(){this.J.reverse()}unique(){let o=1;for(let a=1;a<this.i;++a)this.J[a]!==this.J[a-1]&&(this.J[o++]=this.J[a]);return this.i=this.J.length=o,this.i}sort(o){this.J.sort(o)}forEach(o){for(let a=0;a<this.i;++a)o(this.J[a],a,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},i=n;e.default=i}),vg=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=c(ul()),r=er(),s=tr();function c(a){return a&&a.t?a:{default:a}}var n=class Fc extends r.ContainerIterator{constructor(h,d,g,m){super(m),this.o=h,this.h=d,this.container=g,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.l}set pointer(h){this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.l=h}copy(){return new Fc(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.default{constructor(a=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let h=this;a.forEach(function(d){h.pushBack(d)})}V(a){let{L:h,B:d}=a;h.B=d,d.L=h,a===this.p&&(this.p=d),a===this._&&(this._=h),this.i-=1}G(a,h){let d=h.B,g={l:a,L:h,B:d};h.B=g,d.L=g,h===this.h&&(this.p=g),d===this.h&&(this._=g),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let h=this.p;for(;a--;)h=h.B;return h.l}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let h=this.p;for(;a--;)h=h.B;return this.V(h),this.i}eraseElementByValue(a){let h=this.p;for(;h!==this.h;)h.l===a&&this.V(h),h=h.B;return this.i}eraseElementByIterator(a){let h=a.o;return h===this.h&&(0,s.throwIteratorAccessError)(),a=a.next(),this.V(h),a}pushBack(a){return this.G(a,this._),this.i}popBack(){if(this.i===0)return;let a=this._.l;return this.V(this._),a}pushFront(a){return this.G(a,this.h),this.i}popFront(){if(this.i===0)return;let a=this.p.l;return this.V(this.p),a}setElementByPos(a,h){if(a<0||a>this.i-1)throw new RangeError;let d=this.p;for(;a--;)d=d.B;d.l=h}insert(a,h,d=1){if(a<0||a>this.i)throw new RangeError;if(d<=0)return this.i;if(a===0)for(;d--;)this.pushFront(h);else if(a===this.i)for(;d--;)this.pushBack(h);else{let g=this.p;for(let b=1;b<a;++b)g=g.B;let m=g.B;for(this.i+=d;d--;)g.B={l:h,L:g},g.B.L=g,g=g.B;g.B=m,m.L=g}return this.i}find(a){let h=this.p;for(;h!==this.h;){if(h.l===a)return new n(h,this.h,this);h=h.B}return this.end()}reverse(){if(this.i<=1)return;let a=this.p,h=this._,d=0;for(;d<<1<this.i;){let g=a.l;a.l=h.l,h.l=g,a=a.B,h=h.L,d+=1}}unique(){if(this.i<=1)return this.i;let a=this.p;for(;a!==this.h;){let h=a;for(;h.B!==this.h&&h.l===h.B.l;)h=h.B,this.i-=1;a.B=h.B,a.B.L=a,a=a.B}return this.i}sort(a){if(this.i<=1)return;let h=[];this.forEach(function(g){h.push(g)}),h.sort(a);let d=this.p;h.forEach(function(g){d.l=g,d=d.B})}merge(a){let h=this;if(this.i===0)a.forEach(function(d){h.pushBack(d)});else{let d=this.p;a.forEach(function(g){for(;d!==h.h&&d.l<=g;)d=d.B;h.G(g,d.L)})}return this.i}forEach(a){let h=this.p,d=0;for(;h!==this.h;)a(h.l,d++,this),h=h.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let a=this.p;for(;a!==this.h;)yield a.l,a=a.B}).bind(this)()}},o=i;e.default=o}),Eg=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=s(ul()),r=Nc();function s(o){return o&&o.t?o:{default:o}}var c=class Dc extends r.RandomIterator{constructor(a,h,d){super(a,d),this.container=h}copy(){return new Dc(this.o,this.container,this.iteratorType)}},n=class extends t.default{constructor(o=[],a=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let h=(()=>{if(typeof o.length=="number")return o.length;if(typeof o.size=="number")return o.size;if(typeof o.size=="function")return o.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=a,this.P=Math.max(Math.ceil(h/this.F),1);for(let m=0;m<this.P;++m)this.A.push(new Array(this.F));let d=Math.ceil(h/this.F);this.j=this.R=(this.P>>1)-(d>>1),this.D=this.N=this.F-h%this.F>>1;let g=this;o.forEach(function(m){g.pushBack(m)})}T(){let o=[],a=Math.max(this.P>>1,1);for(let h=0;h<a;++h)o[h]=new Array(this.F);for(let h=this.j;h<this.P;++h)o[o.length]=this.A[h];for(let h=0;h<this.R;++h)o[o.length]=this.A[h];o[o.length]=[...this.A[this.R]],this.j=a,this.R=o.length-1;for(let h=0;h<a;++h)o[o.length]=new Array(this.F);this.A=o,this.P=o.length}O(o){let a=this.D+o+1,h=a%this.F,d=h-1,g=this.j+(a-h)/this.F;return h===0&&(g-=1),g%=this.P,d<0&&(d+=this.F),{curNodeBucketIndex:g,curNodePointerIndex:d}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new c(0,this)}end(){return new c(this.i,this)}rBegin(){return new c(this.i-1,this,1)}rEnd(){return new c(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(o){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=o,this.i}popBack(){if(this.i===0)return;let o=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,o}pushFront(o){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=o,this.i}popFront(){if(this.i===0)return;let o=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,o}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:a,curNodePointerIndex:h}=this.O(o);return this.A[a][h]}setElementByPos(o,a){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:h,curNodePointerIndex:d}=this.O(o);this.A[h][d]=a}insert(o,a,h=1){if(o<0||o>this.i)throw new RangeError;if(o===0)for(;h--;)this.pushFront(a);else if(o===this.i)for(;h--;)this.pushBack(a);else{let d=[];for(let g=o;g<this.i;++g)d.push(this.getElementByPos(g));this.cut(o-1);for(let g=0;g<h;++g)this.pushBack(a);for(let g=0;g<d.length;++g)this.pushBack(d[g])}return this.i}cut(o){if(o<0)return this.clear(),0;let{curNodeBucketIndex:a,curNodePointerIndex:h}=this.O(o);return this.R=a,this.N=h,this.i=o+1,this.i}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;if(o===0)this.popFront();else if(o===this.i-1)this.popBack();else{let a=[];for(let d=o+1;d<this.i;++d)a.push(this.getElementByPos(d));this.cut(o),this.popBack();let h=this;a.forEach(function(d){h.pushBack(d)})}return this.i}eraseElementByValue(o){if(this.i===0)return 0;let a=[];for(let d=0;d<this.i;++d){let g=this.getElementByPos(d);g!==o&&a.push(g)}let h=a.length;for(let d=0;d<h;++d)this.setElementByPos(d,a[d]);return this.cut(h-1)}eraseElementByIterator(o){let a=o.o;return this.eraseElementByPos(a),o=o.next(),o}find(o){for(let a=0;a<this.i;++a)if(this.getElementByPos(a)===o)return new c(a,this);return this.end()}reverse(){let o=0,a=this.i-1;for(;o<a;){let h=this.getElementByPos(o);this.setElementByPos(o,this.getElementByPos(a)),this.setElementByPos(a,h),o+=1,a-=1}}unique(){if(this.i<=1)return this.i;let o=1,a=this.getElementByPos(0);for(let h=1;h<this.i;++h){let d=this.getElementByPos(h);d!==a&&(a=d,this.setElementByPos(o++,d))}for(;this.i>o;)this.popBack();return this.i}sort(o){let a=[];for(let h=0;h<this.i;++h)a.push(this.getElementByPos(h));a.sort(o);for(let h=0;h<this.i;++h)this.setElementByPos(h,a[h])}shrinkToFit(){if(this.i===0)return;let o=[];this.forEach(function(a){o.push(a)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let a=0;a<this.P;++a)this.A.push(new Array(this.F));for(let a=0;a<o.length;++a)this.pushBack(o[a])}forEach(o){for(let a=0;a<this.i;++a)o(this.getElementByPos(a),a,this)}[Symbol.iterator](){return(function*(){for(let o=0;o<this.i;++o)yield this.getElementByPos(o)}).bind(this)()}},i=n;e.default=i}),Sg=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=class{constructor(s,c){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=s,this.l=c}L(){let s=this;if(s.ee===1&&s.tt.tt===s)s=s.W;else if(s.U)for(s=s.U;s.W;)s=s.W;else{let c=s.tt;for(;c.U===s;)s=c,c=s.tt;s=c}return s}B(){let s=this;if(s.W){for(s=s.W;s.U;)s=s.U;return s}else{let c=s.tt;for(;c.W===s;)s=c,c=s.tt;return s.W!==c?c:s}}te(){let s=this.tt,c=this.W,n=c.U;return s.tt===this?s.tt=c:s.U===this?s.U=c:s.W=c,c.tt=s,c.U=this,this.tt=c,this.W=n,n&&(n.tt=this),c}se(){let s=this.tt,c=this.U,n=c.W;return s.tt===this?s.tt=c:s.U===this?s.U=c:s.W=c,c.tt=s,c.W=this,this.tt=c,this.U=n,n&&(n.tt=this),c}};e.TreeNode=t;var r=class extends t{constructor(){super(...arguments),this.rt=1}te(){let s=super.te();return this.ie(),s.ie(),s}se(){let s=super.se();return this.ie(),s.ie(),s}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=r}),Wc=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Sg(),r=er(),s=tr(),c=class extends r.Container{constructor(i=function(a,h){return a<h?-1:a>h?1:0},o=!1){super(),this.Y=void 0,this.v=i,o?(this.re=t.TreeNodeEnableIndex,this.M=function(a,h,d){let g=this.ne(a,h,d);if(g){let m=g.tt;for(;m!==this.h;)m.rt+=1,m=m.tt;let b=this.he(g);if(b){let{parentNode:w,grandParent:v,curNode:R}=b;w.ie(),v.ie(),R.ie()}}return this.i},this.V=function(a){let h=this.fe(a);for(;h!==this.h;)h.rt-=1,h=h.tt}):(this.re=t.TreeNode,this.M=function(a,h,d){let g=this.ne(a,h,d);return g&&this.he(g),this.i},this.V=this.fe),this.h=new this.re}X(i,o){let a=this.h;for(;i;){let h=this.v(i.u,o);if(h<0)i=i.W;else if(h>0)a=i,i=i.U;else return i}return a}Z(i,o){let a=this.h;for(;i;)this.v(i.u,o)<=0?i=i.W:(a=i,i=i.U);return a}$(i,o){let a=this.h;for(;i;){let h=this.v(i.u,o);if(h<0)a=i,i=i.W;else if(h>0)i=i.U;else return i}return a}rr(i,o){let a=this.h;for(;i;)this.v(i.u,o)<0?(a=i,i=i.W):i=i.U;return a}ue(i){for(;;){let o=i.tt;if(o===this.h)return;if(i.ee===1){i.ee=0;return}if(i===o.U){let a=o.W;if(a.ee===1)a.ee=0,o.ee=1,o===this.Y?this.Y=o.te():o.te();else if(a.W&&a.W.ee===1){a.ee=o.ee,o.ee=0,a.W.ee=0,o===this.Y?this.Y=o.te():o.te();return}else a.U&&a.U.ee===1?(a.ee=1,a.U.ee=0,a.se()):(a.ee=1,i=o)}else{let a=o.U;if(a.ee===1)a.ee=0,o.ee=1,o===this.Y?this.Y=o.se():o.se();else if(a.U&&a.U.ee===1){a.ee=o.ee,o.ee=0,a.U.ee=0,o===this.Y?this.Y=o.se():o.se();return}else a.W&&a.W.ee===1?(a.ee=1,a.W.ee=0,a.te()):(a.ee=1,i=o)}}}fe(i){if(this.i===1)return this.clear(),this.h;let o=i;for(;o.U||o.W;){if(o.W)for(o=o.W;o.U;)o=o.U;else o=o.U;[i.u,o.u]=[o.u,i.u],[i.l,o.l]=[o.l,i.l],i=o}this.h.U===o?this.h.U=o.tt:this.h.W===o&&(this.h.W=o.tt),this.ue(o);let a=o.tt;return o===a.U?a.U=void 0:a.W=void 0,this.i-=1,this.Y.ee=0,a}oe(i,o){return i===void 0?!1:this.oe(i.U,o)||o(i)?!0:this.oe(i.W,o)}he(i){for(;;){let o=i.tt;if(o.ee===0)return;let a=o.tt;if(o===a.U){let h=a.W;if(h&&h.ee===1){if(h.ee=o.ee=0,a===this.Y)return;a.ee=1,i=a;continue}else if(i===o.W){if(i.ee=0,i.U&&(i.U.tt=o),i.W&&(i.W.tt=a),o.W=i.U,a.U=i.W,i.U=o,i.W=a,a===this.Y)this.Y=i,this.h.tt=i;else{let d=a.tt;d.U===a?d.U=i:d.W=i}return i.tt=a.tt,o.tt=i,a.tt=i,a.ee=1,{parentNode:o,grandParent:a,curNode:i}}else o.ee=0,a===this.Y?this.Y=a.se():a.se(),a.ee=1}else{let h=a.U;if(h&&h.ee===1){if(h.ee=o.ee=0,a===this.Y)return;a.ee=1,i=a;continue}else if(i===o.U){if(i.ee=0,i.U&&(i.U.tt=a),i.W&&(i.W.tt=o),a.W=i.U,o.U=i.W,i.U=a,i.W=o,a===this.Y)this.Y=i,this.h.tt=i;else{let d=a.tt;d.U===a?d.U=i:d.W=i}return i.tt=a.tt,o.tt=i,a.tt=i,a.ee=1,{parentNode:o,grandParent:a,curNode:i}}else o.ee=0,a===this.Y?this.Y=a.te():a.te(),a.ee=1}return}}ne(i,o,a){if(this.Y===void 0){this.i+=1,this.Y=new this.re(i,o),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let h,d=this.h.U,g=this.v(d.u,i);if(g===0){d.l=o;return}else if(g>0)d.U=new this.re(i,o),d.U.tt=d,h=d.U,this.h.U=h;else{let m=this.h.W,b=this.v(m.u,i);if(b===0){m.l=o;return}else if(b<0)m.W=new this.re(i,o),m.W.tt=m,h=m.W,this.h.W=h;else{if(a!==void 0){let w=a.o;if(w!==this.h){let v=this.v(w.u,i);if(v===0){w.l=o;return}else if(v>0){let R=w.L(),F=this.v(R.u,i);if(F===0){R.l=o;return}else F<0&&(h=new this.re(i,o),R.W===void 0?(R.W=h,h.tt=R):(w.U=h,h.tt=w))}}}if(h===void 0)for(h=this.Y;;){let w=this.v(h.u,i);if(w>0){if(h.U===void 0){h.U=new this.re(i,o),h.U.tt=h,h=h.U;break}h=h.U}else if(w<0){if(h.W===void 0){h.W=new this.re(i,o),h.W.tt=h,h=h.W;break}h=h.W}else{h.l=o;return}}}}return this.i+=1,h}I(i,o){for(;i;){let a=this.v(i.u,o);if(a<0)i=i.W;else if(a>0)i=i.U;else return i}return i||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(i,o){let a=i.o;if(a===this.h&&(0,s.throwIteratorAccessError)(),this.i===1)return a.u=o,!0;if(a===this.h.U)return this.v(a.B().u,o)>0?(a.u=o,!0):!1;if(a===this.h.W)return this.v(a.L().u,o)<0?(a.u=o,!0):!1;let h=a.L().u;if(this.v(h,o)>=0)return!1;let d=a.B().u;return this.v(d,o)<=0?!1:(a.u=o,!0)}eraseElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let o=0,a=this;return this.oe(this.Y,function(h){return i===o?(a.V(h),!0):(o+=1,!1)}),this.i}eraseElementByKey(i){if(this.i===0)return!1;let o=this.I(this.Y,i);return o===this.h?!1:(this.V(o),!0)}eraseElementByIterator(i){let o=i.o;o===this.h&&(0,s.throwIteratorAccessError)();let a=o.W===void 0;return i.iteratorType===0?a&&i.next():(!a||o.U===void 0)&&i.next(),this.V(o),i}forEach(i){let o=0;for(let a of this)i(a,o++,this)}getElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let o,a=0;for(let h of this){if(a===i){o=h;break}a+=1}return o}getHeight(){if(this.i===0)return 0;let i=function(o){return o?Math.max(i(o.U),i(o.W))+1:0};return i(this.Y)}},n=c;e.default=n}),$c=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=er(),r=tr(),s=class extends t.ContainerIterator{constructor(n,i,o){super(o),this.o=n,this.h=i,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let n=this.o,i=this.h.tt;if(n===this.h)return i?i.rt-1:0;let o=0;for(n.U&&(o+=n.U.rt);n!==i;){let a=n.tt;n===a.W&&(o+=1,a.U&&(o+=a.U.rt)),n=a}return o}},c=s;e.default=c}),Ag=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=c(Wc()),r=c($c()),s=tr();function c(a){return a&&a.t?a:{default:a}}var n=class Hc extends r.default{constructor(h,d,g,m){super(h,d,m),this.container=g}get pointer(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.u}copy(){return new Hc(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.default{constructor(a=[],h,d){super(h,d);let g=this;a.forEach(function(m){g.insert(m)})}*K(a){a!==void 0&&(yield*this.K(a.U),yield a.u,yield*this.K(a.W))}begin(){return new n(this.h.U||this.h,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this.h.W||this.h,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(a,h){return this.M(a,void 0,h)}find(a){let h=this.I(this.Y,a);return new n(h,this.h,this)}lowerBound(a){let h=this.X(this.Y,a);return new n(h,this.h,this)}upperBound(a){let h=this.Z(this.Y,a);return new n(h,this.h,this)}reverseLowerBound(a){let h=this.$(this.Y,a);return new n(h,this.h,this)}reverseUpperBound(a){let h=this.rr(this.Y,a);return new n(h,this.h,this)}union(a){let h=this;return a.forEach(function(d){h.insert(d)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=i;e.default=o}),Ig=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=c(Wc()),r=c($c()),s=tr();function c(a){return a&&a.t?a:{default:a}}var n=class qc extends r.default{constructor(h,d,g,m){super(h,d,m),this.container=g}get pointer(){this.o===this.h&&(0,s.throwIteratorAccessError)();let h=this;return new Proxy([],{get(d,g){if(g==="0")return h.o.u;if(g==="1")return h.o.l},set(d,g,m){if(g!=="1")throw new TypeError("props must be 1");return h.o.l=m,!0}})}copy(){return new qc(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.default{constructor(a=[],h,d){super(h,d);let g=this;a.forEach(function(m){g.setElement(m[0],m[1])})}*K(a){a!==void 0&&(yield*this.K(a.U),yield[a.u,a.l],yield*this.K(a.W))}begin(){return new n(this.h.U||this.h,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this.h.W||this.h,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(this.i===0)return;let a=this.h.U;return[a.u,a.l]}back(){if(this.i===0)return;let a=this.h.W;return[a.u,a.l]}lowerBound(a){let h=this.X(this.Y,a);return new n(h,this.h,this)}upperBound(a){let h=this.Z(this.Y,a);return new n(h,this.h,this)}reverseLowerBound(a){let h=this.$(this.Y,a);return new n(h,this.h,this)}reverseUpperBound(a){let h=this.rr(this.Y,a);return new n(h,this.h,this)}setElement(a,h,d){return this.M(a,h,d)}find(a){let h=this.I(this.Y,a);return new n(h,this.h,this)}getElementByKey(a){return this.I(this.Y,a).l}union(a){let h=this;return a.forEach(function(d){h.setElement(d[0],d[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=i;e.default=o}),Vc=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.default=t;function t(r){let s=typeof r;return s==="object"&&r!==null||s==="function"}}),zc=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t=er(),r=c(Vc()),s=tr();function c(o){return o&&o.t?o:{default:o}}var n=class extends t.ContainerIterator{constructor(o,a,h){super(h),this.o=o,this.h=a,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=n;var i=class extends t.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(o){let{L:a,B:h}=o;a.B=h,h.L=a,o===this.p&&(this.p=h),o===this._&&(this._=a),this.i-=1}M(o,a,h){h===void 0&&(h=(0,r.default)(o));let d;if(h){let g=o[this.HASH_TAG];if(g!==void 0)return this.H[g].l=a,this.i;Object.defineProperty(o,this.HASH_TAG,{value:this.H.length,configurable:!0}),d={u:o,l:a,L:this._,B:this.h},this.H.push(d)}else{let g=this.g[o];if(g)return g.l=a,this.i;d={u:o,l:a,L:this._,B:this.h},this.g[o]=d}return this.i===0?(this.p=d,this.h.B=d):this._.B=d,this._=d,this.h.L=d,++this.i}I(o,a){if(a===void 0&&(a=(0,r.default)(o)),a){let h=o[this.HASH_TAG];return h===void 0?this.h:this.H[h]}else return this.g[o]||this.h}clear(){let o=this.HASH_TAG;this.H.forEach(function(a){delete a.u[o]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(o,a){let h;if(a===void 0&&(a=(0,r.default)(o)),a){let d=o[this.HASH_TAG];if(d===void 0)return!1;delete o[this.HASH_TAG],h=this.H[d],delete this.H[d]}else{if(h=this.g[o],h===void 0)return!1;delete this.g[o]}return this.V(h),!0}eraseElementByIterator(o){let a=o.o;return a===this.h&&(0,s.throwIteratorAccessError)(),this.V(a),o.next()}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a=this.p;for(;o--;)a=a.B;return this.V(a),this.i}};e.HashContainer=i}),xg=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=zc(),r=tr(),s=class Kc extends t.HashContainerIterator{constructor(o,a,h,d){super(o,a,d),this.container=h}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new Kc(this.o,this.h,this.container,this.iteratorType)}},c=class extends t.HashContainer{constructor(i=[]){super();let o=this;i.forEach(function(a){o.insert(a)})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(i,o){return this.M(i,void 0,o)}getElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let o=this.p;for(;i--;)o=o.B;return o.u}find(i,o){let a=this.I(i,o);return new s(a,this.h,this)}forEach(i){let o=0,a=this.p;for(;a!==this.h;)i(a.u,o++,this),a=a.B}[Symbol.iterator](){return(function*(){let i=this.p;for(;i!==this.h;)yield i.u,i=i.B}).bind(this)()}},n=c;e.default=n}),Tg=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=zc(),r=c(Vc()),s=tr();function c(a){return a&&a.t?a:{default:a}}var n=class Yc extends t.HashContainerIterator{constructor(h,d,g,m){super(h,d,m),this.container=g}get pointer(){this.o===this.h&&(0,s.throwIteratorAccessError)();let h=this;return new Proxy([],{get(d,g){if(g==="0")return h.o.u;if(g==="1")return h.o.l},set(d,g,m){if(g!=="1")throw new TypeError("props must be 1");return h.o.l=m,!0}})}copy(){return new Yc(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.HashContainer{constructor(a=[]){super();let h=this;a.forEach(function(d){h.setElement(d[0],d[1])})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(a,h,d){return this.M(a,h,d)}getElementByKey(a,h){if(h===void 0&&(h=(0,r.default)(a)),h){let g=a[this.HASH_TAG];return g!==void 0?this.H[g].l:void 0}let d=this.g[a];return d?d.l:void 0}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let h=this.p;for(;a--;)h=h.B;return[h.u,h.l]}find(a,h){let d=this.I(a,h);return new n(d,this.h,this)}forEach(a){let h=0,d=this.p;for(;d!==this.h;)a([d.u,d.l],h++,this),d=d.B}[Symbol.iterator](){return(function*(){let a=this.p;for(;a!==this.h;)yield[a.u,a.l],a=a.B}).bind(this)()}},o=i;e.default=o}),Cg=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return c.default}});var t=g(yg()),r=g(bg()),s=g(wg()),c=g(_g()),n=g(vg()),i=g(Eg()),o=g(Ag()),a=g(Ig()),h=g(xg()),d=g(Tg());function g(m){return m&&m.t?m:{default:m}}}),Bg=_e((e,t)=>{me(),ge(),pe();var r=Cg().OrderedSet,s=Jt()("number-allocator:trace"),c=Jt()("number-allocator:error");function n(o,a){this.low=o,this.high=a}n.prototype.equals=function(o){return this.low===o.low&&this.high===o.high},n.prototype.compare=function(o){return this.low<o.low&&this.high<o.low?-1:o.low<this.low&&o.high<this.low?1:0};function i(o,a){if(!(this instanceof i))return new i(o,a);this.min=o,this.max=a,this.ss=new r([],(h,d)=>h.compare(d)),s("Create"),this.clear()}i.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},i.prototype.alloc=function(){if(this.ss.size()===0)return s("alloc():empty"),null;let o=this.ss.begin(),a=o.pointer.low,h=o.pointer.high,d=a;return d+1<=h?this.ss.updateKeyByIterator(o,new n(a+1,h)):this.ss.eraseElementByPos(0),s("alloc():"+d),d},i.prototype.use=function(o){let a=new n(o,o),h=this.ss.lowerBound(a);if(!h.equals(this.ss.end())){let d=h.pointer.low,g=h.pointer.high;return h.pointer.equals(a)?(this.ss.eraseElementByIterator(h),s("use():"+o),!0):d>o?!1:d===o?(this.ss.updateKeyByIterator(h,new n(d+1,g)),s("use():"+o),!0):g===o?(this.ss.updateKeyByIterator(h,new n(d,g-1)),s("use():"+o),!0):(this.ss.updateKeyByIterator(h,new n(o+1,g)),this.ss.insert(new n(d,o-1)),s("use():"+o),!0)}return s("use():failed"),!1},i.prototype.free=function(o){if(o<this.min||o>this.max){c("free():"+o+" is out of range");return}let a=new n(o,o),h=this.ss.upperBound(a);if(h.equals(this.ss.end())){if(h.equals(this.ss.begin())){this.ss.insert(a);return}h.pre();let d=h.pointer.high;h.pointer.high+1===o?this.ss.updateKeyByIterator(h,new n(d,o)):this.ss.insert(a)}else if(h.equals(this.ss.begin()))if(o+1===h.pointer.low){let d=h.pointer.high;this.ss.updateKeyByIterator(h,new n(o,d))}else this.ss.insert(a);else{let d=h.pointer.low,g=h.pointer.high;h.pre();let m=h.pointer.low;h.pointer.high+1===o?o+1===d?(this.ss.eraseElementByIterator(h),this.ss.updateKeyByIterator(h,new n(m,g))):this.ss.updateKeyByIterator(h,new n(m,o)):o+1===d?(this.ss.eraseElementByIterator(h.next()),this.ss.insert(new n(o,g))):this.ss.insert(a)}s("free():"+o)},i.prototype.clear=function(){s("clear()"),this.ss.clear(),this.ss.insert(new n(this.min,this.max))},i.prototype.intervalCount=function(){return this.ss.size()},i.prototype.dump=function(){console.log("length:"+this.ss.size());for(let o of this.ss)console.log(o)},t.exports=i}),Gc=_e((e,t)=>{me(),ge(),pe();var r=Bg();t.exports.NumberAllocator=r}),Rg=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0});var t=mg(),r=Gc(),s=class{constructor(c){c>0&&(this.aliasToTopic=new t.LRUCache({max:c}),this.topicToAlias={},this.numberAllocator=new r.NumberAllocator(1,c),this.max=c,this.length=0)}put(c,n){if(n===0||n>this.max)return!1;let i=this.aliasToTopic.get(n);return i&&delete this.topicToAlias[i],this.aliasToTopic.set(n,c),this.topicToAlias[c]=n,this.numberAllocator.use(n),this.length=this.aliasToTopic.size,!0}getTopicByAlias(c){return this.aliasToTopic.get(c)}getAliasByTopic(c){let n=this.topicToAlias[c];return typeof n<"u"&&this.aliasToTopic.get(n),n}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=s}),kg=_e(e=>{me(),ge(),pe();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var r=Ii(),s=t(Rg()),c=Tn(),n=(i,o)=>{i.log("_handleConnack");let{options:a}=i,h=a.protocolVersion===5?o.reasonCode:o.returnCode;if(clearTimeout(i.connackTimer),delete i.topicAliasSend,o.properties){if(o.properties.topicAliasMaximum){if(o.properties.topicAliasMaximum>65535){i.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}o.properties.topicAliasMaximum>0&&(i.topicAliasSend=new s.default(o.properties.topicAliasMaximum))}o.properties.serverKeepAlive&&a.keepalive&&(a.keepalive=o.properties.serverKeepAlive),o.properties.maximumPacketSize&&(a.properties||(a.properties={}),a.properties.maximumPacketSize=o.properties.maximumPacketSize)}if(h===0)i.reconnecting=!1,i._onConnect(o);else if(h>0){let d=new c.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[h]}`,h);i.emit("error",d)}};e.default=n}),Og=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0});var t=(r,s,c)=>{r.log("handling pubrel packet");let n=typeof c<"u"?c:r.noop,{messageId:i}=s,o={cmd:"pubcomp",messageId:i};r.incomingStore.get(s,(a,h)=>{a?r._sendPacket(o,n):(r.emit("message",h.topic,h.payload,h),r.handleMessage(h,d=>{if(d)return n(d);r.incomingStore.del(h,r.noop),r._sendPacket(o,n)}))})};e.default=t}),Pg=_e(e=>{me(),ge(),pe();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(dg()),s=t(gg()),c=t(kg()),n=t(Ii()),i=t(Og()),o=(a,h,d)=>{let{options:g}=a;if(g.protocolVersion===5&&g.properties&&g.properties.maximumPacketSize&&g.properties.maximumPacketSize<h.length)return a.emit("error",new Error(`exceeding packets size ${h.cmd}`)),a.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),a;switch(a.log("_handlePacket :: emitting packetreceive"),a.emit("packetreceive",h),h.cmd){case"publish":(0,r.default)(a,h,d);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":a.reschedulePing(),(0,n.default)(a,h),d();break;case"pubrel":a.reschedulePing(),(0,i.default)(a,h,d);break;case"connack":(0,c.default)(a,h),d();break;case"auth":a.reschedulePing(),(0,s.default)(a,h),d();break;case"pingresp":a.log("_handlePacket :: received pingresp"),a.reschedulePing(),d();break;case"disconnect":a.emit("disconnect",h),d();break;default:a.log("_handlePacket :: unknown command"),d();break}};e.default=o}),Mg=_e(e=>{me(),ge(),pe();var t=e&&e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var r=t((nn(),Ne($r))),s=Tn(),c=class{};e.TypedEventEmitter=c,(0,s.applyMixin)(c,r.default)}),xi=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var t=()=>{var i;return typeof window<"u"?typeof tt<"u"&&((i=tt.userAgent)===null||i===void 0?void 0:i.toLowerCase().indexOf(" electron/"))>-1&&Pe!=null&&Pe.versions?!Object.prototype.hasOwnProperty.call(Pe.versions,"electron"):typeof window.document<"u":!1},r=()=>typeof tt<"u"&&tt.userAgent==="txiki.js",s=()=>{var i,o;return!!(typeof self=="object"&&!((o=(i=self==null?void 0:self.constructor)===null||i===void 0?void 0:i.name)===null||o===void 0)&&o.includes("WorkerGlobalScope"))},c=()=>typeof tt<"u"&&tt.product==="ReactNative",n=t()||s()||c()||r();e.isWebWorker=s(),e.isReactNativeBrowser=c(),e.default=n}),Ug=_e((e,t)=>{me(),ge(),pe(),function(r,s){typeof e=="object"&&typeof t<"u"?s(e):typeof define=="function"&&define.amd?define(["exports"],s):(r=typeof globalThis<"u"?globalThis:r||self,s(r.fastUniqueNumbers={}))}(e,function(r){var s=function(b){return function(w){var v=b(w);return w.add(v),v}},c=function(b){return function(w,v){return b.set(w,v),v}},n=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,i=536870912,o=i*2,a=function(b,w){return function(v){var R=w.get(v),F=R===void 0?v.size:R<o?R+1:0;if(!v.has(F))return b(v,F);if(v.size<i){for(;v.has(F);)F=Math.floor(Math.random()*o);return b(v,F)}if(v.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;v.has(F);)F=Math.floor(Math.random()*n);return b(v,F)}},h=new WeakMap,d=c(h),g=a(d,h),m=s(g);r.addUniqueNumber=m,r.generateUniqueNumber=g})}),Lg=_e((e,t)=>{me(),ge(),pe(),function(r,s){typeof e=="object"&&typeof t<"u"?s(e,Ug()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],s):(r=typeof globalThis<"u"?globalThis:r||self,s(r.workerTimersBroker={},r.fastUniqueNumbers))}(e,function(r,s){var c=function(o){return o.method!==void 0&&o.method==="call"},n=function(o){return o.error===null&&typeof o.id=="number"},i=function(o){var a=new Map([[0,function(){}]]),h=new Map([[0,function(){}]]),d=new Map,g=new Worker(o);g.addEventListener("message",function(R){var F=R.data;if(c(F)){var T=F.params,I=T.timerId,V=T.timerType;if(V==="interval"){var z=a.get(I);if(typeof z=="number"){var P=d.get(z);if(P===void 0||P.timerId!==I||P.timerType!==V)throw new Error("The timer is in an undefined state.")}else if(typeof z<"u")z();else throw new Error("The timer is in an undefined state.")}else if(V==="timeout"){var N=h.get(I);if(typeof N=="number"){var H=d.get(N);if(H===void 0||H.timerId!==I||H.timerType!==V)throw new Error("The timer is in an undefined state.")}else if(typeof N<"u")N(),h.delete(I);else throw new Error("The timer is in an undefined state.")}}else if(n(F)){var Q=F.id,ne=d.get(Q);if(ne===void 0)throw new Error("The timer is in an undefined state.");var le=ne.timerId,U=ne.timerType;d.delete(Q),U==="interval"?a.delete(le):h.delete(le)}else{var J=F.error.message;throw new Error(J)}});var m=function(R){var F=s.generateUniqueNumber(d);d.set(F,{timerId:R,timerType:"interval"}),a.set(R,F),g.postMessage({id:F,method:"clear",params:{timerId:R,timerType:"interval"}})},b=function(R){var F=s.generateUniqueNumber(d);d.set(F,{timerId:R,timerType:"timeout"}),h.set(R,F),g.postMessage({id:F,method:"clear",params:{timerId:R,timerType:"timeout"}})},w=function(R){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=s.generateUniqueNumber(a);return a.set(T,function(){R(),typeof a.get(T)=="function"&&g.postMessage({id:null,method:"set",params:{delay:F,now:performance.now(),timerId:T,timerType:"interval"}})}),g.postMessage({id:null,method:"set",params:{delay:F,now:performance.now(),timerId:T,timerType:"interval"}}),T},v=function(R){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=s.generateUniqueNumber(h);return h.set(T,R),g.postMessage({id:null,method:"set",params:{delay:F,now:performance.now(),timerId:T,timerType:"timeout"}}),T};return{clearInterval:m,clearTimeout:b,setInterval:w,setTimeout:v}};r.load=i})}),Ng=_e((e,t)=>{me(),ge(),pe(),function(r,s){typeof e=="object"&&typeof t<"u"?s(e,Lg()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],s):(r=typeof globalThis<"u"?globalThis:r||self,s(r.workerTimers={},r.workerTimersBroker))}(e,function(r,s){var c=function(g,m){var b=null;return function(){if(b!==null)return b;var w=new Blob([m],{type:"application/javascript; charset=utf-8"}),v=URL.createObjectURL(w);return b=g(v),setTimeout(function(){return URL.revokeObjectURL(v)}),b}},n=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,i=c(s.load,n),o=function(g){return i().clearInterval(g)},a=function(g){return i().clearTimeout(g)},h=function(){var g;return(g=i()).setInterval.apply(g,arguments)},d=function(){var g;return(g=i()).setTimeout.apply(g,arguments)};r.clearInterval=o,r.clearTimeout=a,r.setInterval=h,r.setTimeout=d})}),jg=_e(e=>{me(),ge(),pe();var t=e&&e.__createBinding||(Object.create?function(h,d,g,m){m===void 0&&(m=g);var b=Object.getOwnPropertyDescriptor(d,g);(!b||("get"in b?!d.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return d[g]}}),Object.defineProperty(h,m,b)}:function(h,d,g,m){m===void 0&&(m=g),h[m]=d[g]}),r=e&&e.__setModuleDefault||(Object.create?function(h,d){Object.defineProperty(h,"default",{enumerable:!0,value:d})}:function(h,d){h.default=d}),s=e&&e.__importStar||function(h){if(h&&h.__esModule)return h;var d={};if(h!=null)for(var g in h)g!=="default"&&Object.prototype.hasOwnProperty.call(h,g)&&t(d,h,g);return r(d,h),d};Object.defineProperty(e,"__esModule",{value:!0});var c=s(xi()),n=Ng(),i={set:n.setInterval,clear:n.clearInterval},o={set:(h,d)=>setInterval(h,d),clear:h=>clearInterval(h)},a=h=>{switch(h){case"native":return o;case"worker":return i;case"auto":default:return c.default&&!c.isWebWorker&&!c.isReactNativeBrowser?i:o}};e.default=a}),Qc=_e(e=>{me(),ge(),pe();var t=e&&e.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(jg()),s=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(c,n){this.destroyed=!1,this.client=c,this.timer=typeof n=="object"&&"set"in n&&"clear"in n?n:(0,r.default)(n),this.setKeepalive(c.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(c){if(c*=1e3,isNaN(c)||c<=0||c>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${c}`);this._keepalive=c,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${c}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let c=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+c,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};e.default=s}),xs=_e(e=>{me(),ge(),pe();var t=e&&e.__createBinding||(Object.create?function(z,P,N,H){H===void 0&&(H=N);var Q=Object.getOwnPropertyDescriptor(P,N);(!Q||("get"in Q?!P.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return P[N]}}),Object.defineProperty(z,H,Q)}:function(z,P,N,H){H===void 0&&(H=N),z[H]=P[N]}),r=e&&e.__setModuleDefault||(Object.create?function(z,P){Object.defineProperty(z,"default",{enumerable:!0,value:P})}:function(z,P){z.default=P}),s=e&&e.__importStar||function(z){if(z&&z.__esModule)return z;var P={};if(z!=null)for(var N in z)N!=="default"&&Object.prototype.hasOwnProperty.call(z,N)&&t(P,z,N);return r(P,z),P},c=e&&e.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(e,"__esModule",{value:!0});var n=c(Tp()),i=c(ug()),o=c(Pc()),a=Hr(),h=c(hg()),d=s(fg()),g=c(Jt()),m=c(Mc()),b=c(Pg()),w=Tn(),v=Mg(),R=c(Qc()),F=s(xi()),T=globalThis.setImmediate||((...z)=>{let P=z.shift();(0,w.nextTick)(()=>{P(...z)})}),I={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},V=class Ts extends v.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(P,N){super(),this.options=N||{};for(let H in I)typeof this.options[H]>"u"?this.options[H]=I[H]:this.options[H]=N[H];this.log=this.options.log||(0,g.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Ts.VERSION),F.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",F.default?"browser":"node"),this.log("MqttClient :: options.protocol",N.protocol),this.log("MqttClient :: options.protocolVersion",N.protocolVersion),this.log("MqttClient :: options.username",N.username),this.log("MqttClient :: options.keepalive",N.keepalive),this.log("MqttClient :: options.reconnectPeriod",N.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",N.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",N.properties?N.properties.topicAliasMaximum:void 0),this.options.clientId=typeof N.clientId=="string"?N.clientId:Ts.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=N.protocolVersion===5&&N.customHandleAcks?N.customHandleAcks:(...H)=>{H[3](null,0)},this.options.writeCache||(i.default.writeToStream.cacheNumbers=!1),this.streamBuilder=P,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new o.default:this.options.messageIdProvider,this.outgoingStore=N.outgoingStore||new m.default,this.incomingStore=N.incomingStore||new m.default,this.queueQoSZero=N.queueQoSZero===void 0?!0:N.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,N.properties&&N.properties.topicAliasMaximum>0&&(N.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new n.default(N.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:H}=this,Q=()=>{let ne=H.shift();this.log("deliver :: entry %o",ne);let le=null;if(!ne){this._resubscribe();return}le=ne.packet,this.log("deliver :: call _sendPacket for %o",le);let U=!0;le.messageId&&le.messageId!==0&&(this.messageIdProvider.register(le.messageId)||(U=!1)),U?this._sendPacket(le,J=>{ne.cb&&ne.cb(J),Q()}):(this.log("messageId: %d has already used. The message is skipped and removed.",le.messageId),Q())};this.log("connect :: sending queued packets"),Q()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(P,N){N()}handleMessage(P,N){N()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var P;let N=new a.Writable,H=i.default.parser(this.options),Q=null,ne=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),H.on("packet",te=>{this.log("parser :: on packet push to packets array."),ne.push(te)});let le=()=>{this.log("work :: getting next packet in queue");let te=ne.shift();if(te)this.log("work :: packet pulled from queue"),(0,b.default)(this,te,U);else{this.log("work :: no packets in queue");let ce=Q;Q=null,this.log("work :: done flag is %s",!!ce),ce&&ce()}},U=()=>{if(ne.length)(0,w.nextTick)(le);else{let te=Q;Q=null,te()}};N._write=(te,ce,ie)=>{Q=ie,this.log("writable stream :: parsing buffer"),H.parse(te),le()};let J=te=>{this.log("streamErrorHandler :: error",te.message),te.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",te)):this.noop(te)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(N),this.stream.on("error",J),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let se={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(se.will=Object.assign(Object.assign({},this.options.will),{payload:(P=this.options.will)===null||P===void 0?void 0:P.payload})),this.topicAliasRecv&&(se.properties||(se.properties={}),this.topicAliasRecv&&(se.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(se),H.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let te=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(te)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(P,N,H,Q){this.log("publish :: message `%s` to topic `%s`",N,P);let{options:ne}=this;typeof H=="function"&&(Q=H,H=null),H=H||{},H=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),H);let{qos:le,retain:U,dup:J,properties:se,cbStorePut:te}=H;if(this._checkDisconnecting(Q))return this;let ce=()=>{let ie=0;if((le===1||le===2)&&(ie=this._nextId(),ie===null))return this.log("No messageId left"),!1;let G={cmd:"publish",topic:P,payload:N,qos:le,retain:U,messageId:ie,dup:J};switch(ne.protocolVersion===5&&(G.properties=se),this.log("publish :: qos",le),le){case 1:case 2:this.outgoing[G.messageId]={volatile:!1,cb:Q||this.noop},this.log("MqttClient:publish: packet cmd: %s",G.cmd),this._sendPacket(G,void 0,te);break;default:this.log("MqttClient:publish: packet cmd: %s",G.cmd),this._sendPacket(G,Q,te);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ce())&&this._storeProcessingQueue.push({invoke:ce,cbStorePut:H.cbStorePut,callback:Q}),this}publishAsync(P,N,H){return new Promise((Q,ne)=>{this.publish(P,N,H,(le,U)=>{le?ne(le):Q(U)})})}subscribe(P,N,H){let Q=this.options.protocolVersion;typeof N=="function"&&(H=N),H=H||this.noop;let ne=!1,le=[];typeof P=="string"?(P=[P],le=P):Array.isArray(P)?le=P:typeof P=="object"&&(ne=P.resubscribe,delete P.resubscribe,le=Object.keys(P));let U=d.validateTopics(le);if(U!==null)return T(H,new Error(`Invalid topic ${U}`)),this;if(this._checkDisconnecting(H))return this.log("subscribe: discconecting true"),this;let J={qos:0};Q===5&&(J.nl=!1,J.rap=!1,J.rh=0),N=Object.assign(Object.assign({},J),N);let se=N.properties,te=[],ce=(G,be)=>{if(be=be||N,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,G)||this._resubscribeTopics[G].qos<be.qos||ne){let ue={topic:G,qos:be.qos};Q===5&&(ue.nl=be.nl,ue.rap=be.rap,ue.rh=be.rh,ue.properties=se),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",ue.topic,ue.qos),te.push(ue)}};if(Array.isArray(P)?P.forEach(G=>{this.log("subscribe: array topic %s",G),ce(G)}):Object.keys(P).forEach(G=>{this.log("subscribe: object topic %s, %o",G,P[G]),ce(G,P[G])}),!te.length)return H(null,[]),this;let ie=()=>{let G=this._nextId();if(G===null)return this.log("No messageId left"),!1;let be={cmd:"subscribe",subscriptions:te,messageId:G};if(se&&(be.properties=se),this.options.resubscribe){this.log("subscribe :: resubscribe true");let ue=[];te.forEach(ye=>{if(this.options.reconnectPeriod>0){let S={qos:ye.qos};Q===5&&(S.nl=ye.nl||!1,S.rap=ye.rap||!1,S.rh=ye.rh||0,S.properties=ye.properties),this._resubscribeTopics[ye.topic]=S,ue.push(ye.topic)}}),this.messageIdToTopic[be.messageId]=ue}return this.outgoing[be.messageId]={volatile:!0,cb(ue,ye){if(!ue){let{granted:S}=ye;for(let re=0;re<S.length;re+=1)te[re].qos=S[re]}H(ue,te)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(be),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ie())&&this._storeProcessingQueue.push({invoke:ie,callback:H}),this}subscribeAsync(P,N){return new Promise((H,Q)=>{this.subscribe(P,N,(ne,le)=>{ne?Q(ne):H(le)})})}unsubscribe(P,N,H){typeof P=="string"&&(P=[P]),typeof N=="function"&&(H=N),H=H||this.noop;let Q=d.validateTopics(P);if(Q!==null)return T(H,new Error(`Invalid topic ${Q}`)),this;if(this._checkDisconnecting(H))return this;let ne=()=>{let le=this._nextId();if(le===null)return this.log("No messageId left"),!1;let U={cmd:"unsubscribe",messageId:le,unsubscriptions:[]};return typeof P=="string"?U.unsubscriptions=[P]:Array.isArray(P)&&(U.unsubscriptions=P),this.options.resubscribe&&U.unsubscriptions.forEach(J=>{delete this._resubscribeTopics[J]}),typeof N=="object"&&N.properties&&(U.properties=N.properties),this.outgoing[U.messageId]={volatile:!0,cb:H},this.log("unsubscribe: call _sendPacket"),this._sendPacket(U),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ne())&&this._storeProcessingQueue.push({invoke:ne,callback:H}),this}unsubscribeAsync(P,N){return new Promise((H,Q)=>{this.unsubscribe(P,N,(ne,le)=>{ne?Q(ne):H(le)})})}end(P,N,H){this.log("end :: (%s)",this.options.clientId),(P==null||typeof P!="boolean")&&(H=H||N,N=P,P=!1),typeof N!="object"&&(H=H||N,N=null),this.log("end :: cb? %s",!!H),(!H||typeof H!="function")&&(H=this.noop);let Q=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(le=>{this.outgoingStore.close(U=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),H){let J=le||U;this.log("end :: closeStores: invoking callback with args"),H(J)}})}),this._deferredReconnect&&this._deferredReconnect()},ne=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,P),this._cleanUp(P,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,w.nextTick)(Q)},N)};return this.disconnecting?(H(),this):(this._clearReconnect(),this.disconnecting=!0,!P&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,ne,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),ne()),this)}endAsync(P,N){return new Promise((H,Q)=>{this.end(P,N,ne=>{ne?Q(ne):H()})})}removeOutgoingMessage(P){if(this.outgoing[P]){let{cb:N}=this.outgoing[P];this._removeOutgoingAndStoreMessage(P,()=>{N(new Error("Message removed"))})}return this}reconnect(P){this.log("client reconnect");let N=()=>{P?(this.options.incomingStore=P.incomingStore,this.options.outgoingStore=P.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new m.default,this.outgoingStore=this.options.outgoingStore||new m.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=N:N(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(P=>{this.outgoing[P].volatile&&typeof this.outgoing[P].cb=="function"&&(this.outgoing[P].cb(new Error("Connection closed")),delete this.outgoing[P])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(P=>{typeof this.outgoing[P].cb=="function"&&(this.outgoing[P].cb(new Error("Connection closed")),delete this.outgoing[P])}))}_removeTopicAliasAndRecoverTopicName(P){let N;P.properties&&(N=P.properties.topicAlias);let H=P.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",N,H),H.length===0){if(typeof N>"u")return new Error("Unregistered Topic Alias");if(H=this.topicAliasSend.getTopicByAlias(N),typeof H>"u")return new Error("Unregistered Topic Alias");P.topic=H}N&&delete P.properties.topicAlias}_checkDisconnecting(P){return this.disconnecting&&(P&&P!==this.noop?P(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(P,N,H={}){if(N&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",N)),this.log("_cleanUp :: forced? %s",P),P)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let Q=Object.assign({cmd:"disconnect"},H);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(Q,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),T(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),N&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",N),N())}_storeAndSend(P,N,H){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",P.cmd);let Q=P,ne;if(Q.cmd==="publish"&&(Q=(0,h.default)(P),ne=this._removeTopicAliasAndRecoverTopicName(Q),ne))return N&&N(ne);this.outgoingStore.put(Q,le=>{if(le)return N&&N(le);H(),this._writePacket(P,N)})}_applyTopicAlias(P){if(this.options.protocolVersion===5&&P.cmd==="publish"){let N;P.properties&&(N=P.properties.topicAlias);let H=P.topic.toString();if(this.topicAliasSend)if(N){if(H.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",H,N),!this.topicAliasSend.put(H,N)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",H,N),new Error("Sending Topic Alias out of range")}else H.length!==0&&(this.options.autoAssignTopicAlias?(N=this.topicAliasSend.getAliasByTopic(H),N?(P.topic="",P.properties=Object.assign(Object.assign({},P.properties),{topicAlias:N}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",H,N)):(N=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(H,N),P.properties=Object.assign(Object.assign({},P.properties),{topicAlias:N}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",H,N))):this.options.autoUseTopicAlias&&(N=this.topicAliasSend.getAliasByTopic(H),N&&(P.topic="",P.properties=Object.assign(Object.assign({},P.properties),{topicAlias:N}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",H,N))));else if(N)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",H,N),new Error("Sending Topic Alias out of range")}}_noop(P){this.log("noop ::",P)}_writePacket(P,N){this.log("_writePacket :: packet: %O",P),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",P),this.log("_writePacket :: writing to stream");let H=i.default.writeToStream(P,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",H),!H&&N&&N!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",N)):N&&(this.log("_writePacket :: invoking cb"),N())}_sendPacket(P,N,H,Q){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),H=H||this.noop,N=N||this.noop;let ne=this._applyTopicAlias(P);if(ne){N(ne);return}if(!this.connected){if(P.cmd==="auth"){this._writePacket(P,N);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(P,N,H);return}if(Q){this._writePacket(P,N);return}switch(P.cmd){case"publish":break;case"pubrel":this._storeAndSend(P,N,H);return;default:this._writePacket(P,N);return}switch(P.qos){case 2:case 1:this._storeAndSend(P,N,H);break;case 0:default:this._writePacket(P,N);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(P,N,H){this.log("_storePacket :: packet: %o",P),this.log("_storePacket :: cb? %s",!!N),H=H||this.noop;let Q=P;if(Q.cmd==="publish"){Q=(0,h.default)(P);let le=this._removeTopicAliasAndRecoverTopicName(Q);if(le)return N&&N(le)}let ne=Q.qos||0;ne===0&&this.queueQoSZero||Q.cmd!=="publish"?this.queue.push({packet:Q,cb:N}):ne>0?(N=this.outgoing[Q.messageId]?this.outgoing[Q.messageId].cb:null,this.outgoingStore.put(Q,le=>{if(le)return N&&N(le);H()})):N&&N(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new R.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(){this.keepaliveManager&&this.options.keepalive&&this.options.reschedulePings&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let P=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&P.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let N=0;N<P.length;N++){let H={};H[P[N]]=this._resubscribeTopics[P[N]],H.resubscribe=!0,this.subscribe(H,{properties:H[P[N]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(P){if(this.disconnected){this.emit("connect",P);return}this.connackPacket=P,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let N=()=>{let H=this.outgoingStore.createStream(),Q=()=>{H.destroy(),H=null,this._flushStoreProcessingQueue(),ne()},ne=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",Q),H.on("error",U=>{ne(),this._flushStoreProcessingQueue(),this.removeListener("close",Q),this.emit("error",U)});let le=()=>{if(!H)return;let U=H.read(1),J;if(!U){H.once("readable",le);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[U.messageId]){le();return}!this.disconnecting&&!this.reconnectTimer?(J=this.outgoing[U.messageId]?this.outgoing[U.messageId].cb:null,this.outgoing[U.messageId]={volatile:!1,cb(se,te){J&&J(se,te),le()}},this._packetIdsDuringStoreProcessing[U.messageId]=!0,this.messageIdProvider.register(U.messageId)?this._sendPacket(U,void 0,void 0,!0):this.log("messageId: %d has already used.",U.messageId)):H.destroy&&H.destroy()};H.on("end",()=>{let U=!0;for(let J in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[J]){U=!1;break}this.removeListener("close",Q),U?(ne(),this._invokeAllStoreProcessingQueue(),this.emit("connect",P)):N()}),le()};N()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let P=this._storeProcessingQueue[0];if(P&&P.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let P of this._storeProcessingQueue)P.cbStorePut&&P.cbStorePut(new Error("Connection closed")),P.callback&&P.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(P,N){delete this.outgoing[P],this.outgoingStore.del({messageId:P},(H,Q)=>{N(H,Q),this.messageIdProvider.deallocate(P),this._invokeStoreProcessingQueue()})}};V.VERSION=w.MQTTJS_VERSION,e.default=V}),Fg=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gc(),r=class{constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(s){return this.numberAllocator.use(s)}deallocate(s){this.numberAllocator.free(s)}clear(){this.numberAllocator.clear()}};e.default=r});function Ir(e){throw new RangeError(Xc[e])}function ba(e,t){let r=e.split("@"),s="";r.length>1&&(s=r[0]+"@",e=r[1]);let c=function(n,i){let o=[],a=n.length;for(;a--;)o[a]=i(n[a]);return o}((e=e.replace(Jc,".")).split("."),t).join(".");return s+c}function wa(e){let t=[],r=0,s=e.length;for(;r<s;){let c=e.charCodeAt(r++);if(c>=55296&&c<=56319&&r<s){let n=e.charCodeAt(r++);(64512&n)==56320?t.push(((1023&c)<<10)+(1023&n)+65536):(t.push(c),r--)}else t.push(c)}return t}var _a,va,Jc,Xc,St,Nn,zi,Ki,Yi,Gi,sr,Dg=rt(()=>{me(),ge(),pe(),_a=/^xn--/,va=/[^\0-\x7E]/,Jc=/[\x2E\u3002\uFF0E\uFF61]/g,Xc={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},St=Math.floor,Nn=String.fromCharCode,zi=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},Ki=function(e,t,r){let s=0;for(e=r?St(e/700):e>>1,e+=St(e/t);e>455;s+=36)e=St(e/35);return St(s+36*e/(e+38))},Yi=function(e){let t=[],r=e.length,s=0,c=128,n=72,i=e.lastIndexOf("-");i<0&&(i=0);for(let a=0;a<i;++a)e.charCodeAt(a)>=128&&Ir("not-basic"),t.push(e.charCodeAt(a));for(let a=i>0?i+1:0;a<r;){let h=s;for(let g=1,m=36;;m+=36){a>=r&&Ir("invalid-input");let b=(o=e.charCodeAt(a++))-48<10?o-22:o-65<26?o-65:o-97<26?o-97:36;(b>=36||b>St((2147483647-s)/g))&&Ir("overflow"),s+=b*g;let w=m<=n?1:m>=n+26?26:m-n;if(b<w)break;let v=36-w;g>St(2147483647/v)&&Ir("overflow"),g*=v}let d=t.length+1;n=Ki(s-h,d,h==0),St(s/d)>2147483647-c&&Ir("overflow"),c+=St(s/d),s%=d,t.splice(s++,0,c)}var o;return String.fromCodePoint(...t)},Gi=function(e){let t=[],r=(e=wa(e)).length,s=128,c=0,n=72;for(let a of e)a<128&&t.push(Nn(a));let i=t.length,o=i;for(i&&t.push("-");o<r;){let a=2147483647;for(let d of e)d>=s&&d<a&&(a=d);let h=o+1;a-s>St((2147483647-c)/h)&&Ir("overflow"),c+=(a-s)*h,s=a;for(let d of e)if(d<s&&++c>2147483647&&Ir("overflow"),d==s){let g=c;for(let m=36;;m+=36){let b=m<=n?1:m>=n+26?26:m-n;if(g<b)break;let w=g-b,v=36-b;t.push(Nn(zi(b+w%v,0))),g=St(w/v)}t.push(Nn(zi(g,0))),n=Ki(c,h,o==i),c=0,++o}++c,++s}return t.join("")},sr={version:"2.1.0",ucs2:{decode:wa,encode:e=>String.fromCodePoint(...e)},decode:Yi,encode:Gi,toASCII:function(e){return ba(e,function(t){return va.test(t)?"xn--"+Gi(t):t})},toUnicode:function(e){return ba(e,function(t){return _a.test(t)?Yi(t.slice(4).toLowerCase()):t})}},sr.decode,sr.encode,sr.toASCII,sr.toUnicode,sr.ucs2,sr.version});function Wg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Ea,Vr,Sa,Ot,$g=rt(()=>{me(),ge(),pe(),Ea=function(e,t,r,s){t=t||"&",r=r||"=";var c={};if(typeof e!="string"||e.length===0)return c;var n=/\+/g;e=e.split(t);var i=1e3;s&&typeof s.maxKeys=="number"&&(i=s.maxKeys);var o=e.length;i>0&&o>i&&(o=i);for(var a=0;a<o;++a){var h,d,g,m,b=e[a].replace(n,"%20"),w=b.indexOf(r);w>=0?(h=b.substr(0,w),d=b.substr(w+1)):(h=b,d=""),g=decodeURIComponent(h),m=decodeURIComponent(d),Wg(c,g)?Array.isArray(c[g])?c[g].push(m):c[g]=[c[g],m]:c[g]=m}return c},Vr=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Sa=function(e,t,r,s){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(c){var n=encodeURIComponent(Vr(c))+r;return Array.isArray(e[c])?e[c].map(function(i){return n+encodeURIComponent(Vr(i))}).join(t):n+encodeURIComponent(Vr(e[c]))}).join(t):s?encodeURIComponent(Vr(s))+r+encodeURIComponent(Vr(e)):""},Ot={},Ot.decode=Ot.parse=Ea,Ot.encode=Ot.stringify=Sa,Ot.decode,Ot.encode,Ot.parse,Ot.stringify});function Cs(){throw new Error("setTimeout has not been defined")}function Bs(){throw new Error("clearTimeout has not been defined")}function Zc(e){if($t===setTimeout)return setTimeout(e,0);if(($t===Cs||!$t)&&setTimeout)return $t=setTimeout,setTimeout(e,0);try{return $t(e,0)}catch{try{return $t.call(null,e,0)}catch{return $t.call(this||Ur,e,0)}}}function Hg(){Lr&&kr&&(Lr=!1,kr.length?Nt=kr.concat(Nt):vn=-1,Nt.length&&eh())}function eh(){if(!Lr){var e=Zc(Hg);Lr=!0;for(var t=Nt.length;t;){for(kr=Nt,Nt=[];++vn<t;)kr&&kr[vn].run();vn=-1,t=Nt.length}kr=null,Lr=!1,function(r){if(Ht===clearTimeout)return clearTimeout(r);if((Ht===Bs||!Ht)&&clearTimeout)return Ht=clearTimeout,clearTimeout(r);try{Ht(r)}catch{try{return Ht.call(null,r)}catch{return Ht.call(this||Ur,r)}}}(e)}}function Aa(e,t){(this||Ur).fun=e,(this||Ur).array=t}function jt(){}var Ia,$t,Ht,Ur,ze,kr,Nt,Lr,vn,qe,qg=rt(()=>{me(),ge(),pe(),Ur=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ze=Ia={},function(){try{$t=typeof setTimeout=="function"?setTimeout:Cs}catch{$t=Cs}try{Ht=typeof clearTimeout=="function"?clearTimeout:Bs}catch{Ht=Bs}}(),Nt=[],Lr=!1,vn=-1,ze.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Nt.push(new Aa(e,t)),Nt.length!==1||Lr||Zc(eh)},Aa.prototype.run=function(){(this||Ur).fun.apply(null,(this||Ur).array)},ze.title="browser",ze.browser=!0,ze.env={},ze.argv=[],ze.version="",ze.versions={},ze.on=jt,ze.addListener=jt,ze.once=jt,ze.off=jt,ze.removeListener=jt,ze.removeAllListeners=jt,ze.emit=jt,ze.prependListener=jt,ze.prependOnceListener=jt,ze.listeners=function(e){return[]},ze.binding=function(e){throw new Error("process.binding is not supported")},ze.cwd=function(){return"/"},ze.chdir=function(e){throw new Error("process.chdir is not supported")},ze.umask=function(){return 0},qe=Ia,qe.addListener,qe.argv,qe.binding,qe.browser,qe.chdir,qe.cwd,qe.emit,qe.env,qe.listeners,qe.nextTick,qe.off,qe.on,qe.once,qe.prependListener,qe.prependOnceListener,qe.removeAllListeners,qe.removeListener,qe.title,qe.umask,qe.version,qe.versions});function Vg(){if(Rs)return Xn;Rs=!0;var e=Xn={},t,r;function s(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=s}catch{t=s}try{typeof clearTimeout=="function"?r=clearTimeout:r=c}catch{r=c}})();function n(v){if(t===setTimeout)return setTimeout(v,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(v,0);try{return t(v,0)}catch{try{return t.call(null,v,0)}catch{return t.call(this||Tr,v,0)}}}function i(v){if(r===clearTimeout)return clearTimeout(v);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(v);try{return r(v)}catch{try{return r.call(null,v)}catch{return r.call(this||Tr,v)}}}var o=[],a=!1,h,d=-1;function g(){!a||!h||(a=!1,h.length?o=h.concat(o):d=-1,o.length&&m())}function m(){if(!a){var v=n(g);a=!0;for(var R=o.length;R;){for(h=o,o=[];++d<R;)h&&h[d].run();d=-1,R=o.length}h=null,a=!1,i(v)}}e.nextTick=function(v){var R=new Array(arguments.length-1);if(arguments.length>1)for(var F=1;F<arguments.length;F++)R[F-1]=arguments[F];o.push(new b(v,R)),o.length===1&&!a&&n(m)};function b(v,R){(this||Tr).fun=v,(this||Tr).array=R}b.prototype.run=function(){(this||Tr).fun.apply(null,(this||Tr).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function w(){}return e.on=w,e.addListener=w,e.once=w,e.off=w,e.removeListener=w,e.removeAllListeners=w,e.emit=w,e.prependListener=w,e.prependOnceListener=w,e.listeners=function(v){return[]},e.binding=function(v){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(v){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Xn}var Xn,Rs,Tr,De,th=rt(()=>{me(),ge(),pe(),Xn={},Rs=!1,Tr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,De=Vg(),De.platform="browser",De.addListener,De.argv,De.binding,De.browser,De.chdir,De.cwd,De.emit,De.env,De.listeners,De.nextTick,De.off,De.on,De.once,De.prependListener,De.prependOnceListener,De.removeAllListeners,De.removeListener,De.title,De.umask,De.version,De.versions});function zg(){if(ks)return Zn;ks=!0;var e=De;function t(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function r(n,i){for(var o="",a=0,h=-1,d=0,g,m=0;m<=n.length;++m){if(m<n.length)g=n.charCodeAt(m);else{if(g===47)break;g=47}if(g===47){if(!(h===m-1||d===1))if(h!==m-1&&d===2){if(o.length<2||a!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var b=o.lastIndexOf("/");if(b!==o.length-1){b===-1?(o="",a=0):(o=o.slice(0,b),a=o.length-1-o.lastIndexOf("/")),h=m,d=0;continue}}else if(o.length===2||o.length===1){o="",a=0,h=m,d=0;continue}}i&&(o.length>0?o+="/..":o="..",a=2)}else o.length>0?o+="/"+n.slice(h+1,m):o=n.slice(h+1,m),a=m-h-1;h=m,d=0}else g===46&&d!==-1?++d:d=-1}return o}function s(n,i){var o=i.dir||i.root,a=i.base||(i.name||"")+(i.ext||"");return o?o===i.root?o+a:o+n+a:a}var c={resolve:function(){for(var n="",i=!1,o,a=arguments.length-1;a>=-1&&!i;a--){var h;a>=0?h=arguments[a]:(o===void 0&&(o=e.cwd()),h=o),t(h),h.length!==0&&(n=h+"/"+n,i=h.charCodeAt(0)===47)}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(t(n),n.length===0)return".";var i=n.charCodeAt(0)===47,o=n.charCodeAt(n.length-1)===47;return n=r(n,!i),n.length===0&&!i&&(n="."),n.length>0&&o&&(n+="/"),i?"/"+n:n},isAbsolute:function(n){return t(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,i=0;i<arguments.length;++i){var o=arguments[i];t(o),o.length>0&&(n===void 0?n=o:n+="/"+o)}return n===void 0?".":c.normalize(n)},relative:function(n,i){if(t(n),t(i),n===i||(n=c.resolve(n),i=c.resolve(i),n===i))return"";for(var o=1;o<n.length&&n.charCodeAt(o)===47;++o);for(var a=n.length,h=a-o,d=1;d<i.length&&i.charCodeAt(d)===47;++d);for(var g=i.length,m=g-d,b=h<m?h:m,w=-1,v=0;v<=b;++v){if(v===b){if(m>b){if(i.charCodeAt(d+v)===47)return i.slice(d+v+1);if(v===0)return i.slice(d+v)}else h>b&&(n.charCodeAt(o+v)===47?w=v:v===0&&(w=0));break}var R=n.charCodeAt(o+v),F=i.charCodeAt(d+v);if(R!==F)break;R===47&&(w=v)}var T="";for(v=o+w+1;v<=a;++v)(v===a||n.charCodeAt(v)===47)&&(T.length===0?T+="..":T+="/..");return T.length>0?T+i.slice(d+w):(d+=w,i.charCodeAt(d)===47&&++d,i.slice(d))},_makeLong:function(n){return n},dirname:function(n){if(t(n),n.length===0)return".";for(var i=n.charCodeAt(0),o=i===47,a=-1,h=!0,d=n.length-1;d>=1;--d)if(i=n.charCodeAt(d),i===47){if(!h){a=d;break}}else h=!1;return a===-1?o?"/":".":o&&a===1?"//":n.slice(0,a)},basename:function(n,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');t(n);var o=0,a=-1,h=!0,d;if(i!==void 0&&i.length>0&&i.length<=n.length){if(i.length===n.length&&i===n)return"";var g=i.length-1,m=-1;for(d=n.length-1;d>=0;--d){var b=n.charCodeAt(d);if(b===47){if(!h){o=d+1;break}}else m===-1&&(h=!1,m=d+1),g>=0&&(b===i.charCodeAt(g)?--g===-1&&(a=d):(g=-1,a=m))}return o===a?a=m:a===-1&&(a=n.length),n.slice(o,a)}else{for(d=n.length-1;d>=0;--d)if(n.charCodeAt(d)===47){if(!h){o=d+1;break}}else a===-1&&(h=!1,a=d+1);return a===-1?"":n.slice(o,a)}},extname:function(n){t(n);for(var i=-1,o=0,a=-1,h=!0,d=0,g=n.length-1;g>=0;--g){var m=n.charCodeAt(g);if(m===47){if(!h){o=g+1;break}continue}a===-1&&(h=!1,a=g+1),m===46?i===-1?i=g:d!==1&&(d=1):i!==-1&&(d=-1)}return i===-1||a===-1||d===0||d===1&&i===a-1&&i===o+1?"":n.slice(i,a)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return s("/",n)},parse:function(n){t(n);var i={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return i;var o=n.charCodeAt(0),a=o===47,h;a?(i.root="/",h=1):h=0;for(var d=-1,g=0,m=-1,b=!0,w=n.length-1,v=0;w>=h;--w){if(o=n.charCodeAt(w),o===47){if(!b){g=w+1;break}continue}m===-1&&(b=!1,m=w+1),o===46?d===-1?d=w:v!==1&&(v=1):d!==-1&&(v=-1)}return d===-1||m===-1||v===0||v===1&&d===m-1&&d===g+1?m!==-1&&(g===0&&a?i.base=i.name=n.slice(1,m):i.base=i.name=n.slice(g,m)):(g===0&&a?(i.name=n.slice(1,d),i.base=n.slice(1,m)):(i.name=n.slice(g,d),i.base=n.slice(g,m)),i.ext=n.slice(d,m)),g>0?i.dir=n.slice(0,g-1):a&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};return c.posix=c,Zn=c,Zn}var Zn,ks,Os,Kg=rt(()=>{me(),ge(),pe(),th(),Zn={},ks=!1,Os=zg()}),rh={};Dr(rh,{URL:()=>_h,Url:()=>gh,default:()=>Ue,fileURLToPath:()=>nh,format:()=>mh,parse:()=>wh,pathToFileURL:()=>ih,resolve:()=>yh,resolveObject:()=>bh});function wt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function un(e,t,r){if(e&&It.isObject(e)&&e instanceof wt)return e;var s=new wt;return s.parse(e,t,r),s}function Yg(){if(Ps)return ei;Ps=!0;var e=qe;function t(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function r(n,i){for(var o="",a=0,h=-1,d=0,g,m=0;m<=n.length;++m){if(m<n.length)g=n.charCodeAt(m);else{if(g===47)break;g=47}if(g===47){if(!(h===m-1||d===1))if(h!==m-1&&d===2){if(o.length<2||a!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var b=o.lastIndexOf("/");if(b!==o.length-1){b===-1?(o="",a=0):(o=o.slice(0,b),a=o.length-1-o.lastIndexOf("/")),h=m,d=0;continue}}else if(o.length===2||o.length===1){o="",a=0,h=m,d=0;continue}}i&&(o.length>0?o+="/..":o="..",a=2)}else o.length>0?o+="/"+n.slice(h+1,m):o=n.slice(h+1,m),a=m-h-1;h=m,d=0}else g===46&&d!==-1?++d:d=-1}return o}function s(n,i){var o=i.dir||i.root,a=i.base||(i.name||"")+(i.ext||"");return o?o===i.root?o+a:o+n+a:a}var c={resolve:function(){for(var n="",i=!1,o,a=arguments.length-1;a>=-1&&!i;a--){var h;a>=0?h=arguments[a]:(o===void 0&&(o=e.cwd()),h=o),t(h),h.length!==0&&(n=h+"/"+n,i=h.charCodeAt(0)===47)}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(t(n),n.length===0)return".";var i=n.charCodeAt(0)===47,o=n.charCodeAt(n.length-1)===47;return n=r(n,!i),n.length===0&&!i&&(n="."),n.length>0&&o&&(n+="/"),i?"/"+n:n},isAbsolute:function(n){return t(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,i=0;i<arguments.length;++i){var o=arguments[i];t(o),o.length>0&&(n===void 0?n=o:n+="/"+o)}return n===void 0?".":c.normalize(n)},relative:function(n,i){if(t(n),t(i),n===i||(n=c.resolve(n),i=c.resolve(i),n===i))return"";for(var o=1;o<n.length&&n.charCodeAt(o)===47;++o);for(var a=n.length,h=a-o,d=1;d<i.length&&i.charCodeAt(d)===47;++d);for(var g=i.length,m=g-d,b=h<m?h:m,w=-1,v=0;v<=b;++v){if(v===b){if(m>b){if(i.charCodeAt(d+v)===47)return i.slice(d+v+1);if(v===0)return i.slice(d+v)}else h>b&&(n.charCodeAt(o+v)===47?w=v:v===0&&(w=0));break}var R=n.charCodeAt(o+v),F=i.charCodeAt(d+v);if(R!==F)break;R===47&&(w=v)}var T="";for(v=o+w+1;v<=a;++v)(v===a||n.charCodeAt(v)===47)&&(T.length===0?T+="..":T+="/..");return T.length>0?T+i.slice(d+w):(d+=w,i.charCodeAt(d)===47&&++d,i.slice(d))},_makeLong:function(n){return n},dirname:function(n){if(t(n),n.length===0)return".";for(var i=n.charCodeAt(0),o=i===47,a=-1,h=!0,d=n.length-1;d>=1;--d)if(i=n.charCodeAt(d),i===47){if(!h){a=d;break}}else h=!1;return a===-1?o?"/":".":o&&a===1?"//":n.slice(0,a)},basename:function(n,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');t(n);var o=0,a=-1,h=!0,d;if(i!==void 0&&i.length>0&&i.length<=n.length){if(i.length===n.length&&i===n)return"";var g=i.length-1,m=-1;for(d=n.length-1;d>=0;--d){var b=n.charCodeAt(d);if(b===47){if(!h){o=d+1;break}}else m===-1&&(h=!1,m=d+1),g>=0&&(b===i.charCodeAt(g)?--g===-1&&(a=d):(g=-1,a=m))}return o===a?a=m:a===-1&&(a=n.length),n.slice(o,a)}else{for(d=n.length-1;d>=0;--d)if(n.charCodeAt(d)===47){if(!h){o=d+1;break}}else a===-1&&(h=!1,a=d+1);return a===-1?"":n.slice(o,a)}},extname:function(n){t(n);for(var i=-1,o=0,a=-1,h=!0,d=0,g=n.length-1;g>=0;--g){var m=n.charCodeAt(g);if(m===47){if(!h){o=g+1;break}continue}a===-1&&(h=!1,a=g+1),m===46?i===-1?i=g:d!==1&&(d=1):i!==-1&&(d=-1)}return i===-1||a===-1||d===0||d===1&&i===a-1&&i===o+1?"":n.slice(i,a)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return s("/",n)},parse:function(n){t(n);var i={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return i;var o=n.charCodeAt(0),a=o===47,h;a?(i.root="/",h=1):h=0;for(var d=-1,g=0,m=-1,b=!0,w=n.length-1,v=0;w>=h;--w){if(o=n.charCodeAt(w),o===47){if(!b){g=w+1;break}continue}m===-1&&(b=!1,m=w+1),o===46?d===-1?d=w:v!==1&&(v=1):d!==-1&&(v=-1)}return d===-1||m===-1||v===0||v===1&&d===m-1&&d===g+1?m!==-1&&(g===0&&a?i.base=i.name=n.slice(1,m):i.base=i.name=n.slice(g,m)):(g===0&&a?(i.name=n.slice(1,d),i.base=n.slice(1,m)):(i.name=n.slice(g,d),i.base=n.slice(g,m)),i.ext=n.slice(d,m)),g>0?i.dir=n.slice(0,g-1):a&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};return c.posix=c,ei=c,ei}function Gg(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return li?Qg(e):Jg(e)}function Qg(e){let t=e.hostname,r=e.pathname;for(let s=0;s<r.length;s++)if(r[s]==="%"){let c=r.codePointAt(s+2)||32;if(r[s+1]==="2"&&c===102||r[s+1]==="5"&&c===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(uh,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{let s=r.codePointAt(1)|32,c=r[2];if(s<lh||s>ah||c!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function Jg(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){let s=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&s===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function Xg(e){let t=Ms.resolve(e),r=e.charCodeAt(e.length-1);(r===sh||li&&r===oh)&&t[t.length-1]!==Ms.sep&&(t+="/");let s=new URL("file://");return t.includes("%")&&(t=t.replace(ch,"%25")),!li&&t.includes("\\")&&(t=t.replace(hh,"%5C")),t.includes(`
`)&&(t=t.replace(fh,"%0A")),t.includes("\r")&&(t=t.replace(dh,"%0D")),t.includes("	")&&(t=t.replace(ph,"%09")),s.pathname=t,s}function nh(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return ai?Zg(e):e0(e)}function Zg(e){let t=e.hostname,r=e.pathname;for(let s=0;s<r.length;s++)if(r[s]==="%"){let c=r.codePointAt(s+2)||32;if(r[s+1]==="2"&&c===102||r[s+1]==="5"&&c===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Ih,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{let s=r.codePointAt(1)|32,c=r[2];if(s<Sh||s>Ah||c!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function e0(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){let s=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&s===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function ih(e){let t=Os.resolve(e),r=e.charCodeAt(e.length-1);(r===Eh||ai&&r===vh)&&t[t.length-1]!==Os.sep&&(t+="/");let s=new URL("file://");return t.includes("%")&&(t=t.replace(xh,"%25")),!ai&&t.includes("\\")&&(t=t.replace(Th,"%5C")),t.includes(`
`)&&(t=t.replace(Ch,"%0A")),t.includes("\r")&&(t=t.replace(Bh,"%0D")),t.includes("	")&&(t=t.replace(Rh,"%09")),s.pathname=t,s}var Ue,xa,It,Ta,Ca,Ba,Ra,jn,Qi,Ji,Xi,ka,Oa,Fn,xr,Dn,ei,Ps,Ms,Pa,oh,sh,lh,ah,li,uh,ch,hh,fh,dh,ph,Ma,gh,mh,yh,bh,wh,_h,vh,Eh,Sh,Ah,ai,Ih,xh,Th,Ch,Bh,Rh,t0=rt(()=>{me(),ge(),pe(),Dg(),$g(),qg(),Kg(),th(),Ue={},xa=sr,It={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Ue.parse=un,Ue.resolve=function(e,t){return un(e,!1,!0).resolve(t)},Ue.resolveObject=function(e,t){return e?un(e,!1,!0).resolveObject(t):t},Ue.format=function(e){return It.isString(e)&&(e=un(e)),e instanceof wt?e.format():wt.prototype.format.call(e)},Ue.Url=wt,Ta=/^([a-z0-9.+-]+:)/i,Ca=/:[0-9]*$/,Ba=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ra=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),jn=["'"].concat(Ra),Qi=["%","/","?",";","#"].concat(jn),Ji=["/","?","#"],Xi=/^[+a-z0-9A-Z_-]{0,63}$/,ka=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Oa={javascript:!0,"javascript:":!0},Fn={javascript:!0,"javascript:":!0},xr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Dn=Ot,wt.prototype.parse=function(e,t,r){if(!It.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),c=s!==-1&&s<e.indexOf("#")?"?":"#",n=e.split(c);n[0]=n[0].replace(/\\/g,"/");var i=e=n.join(c);if(i=i.trim(),!r&&e.split("#").length===1){var o=Ba.exec(i);if(o)return this.path=i,this.href=i,this.pathname=o[1],o[2]?(this.search=o[2],this.query=t?Dn.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var a=Ta.exec(i);if(a){var h=(a=a[0]).toLowerCase();this.protocol=h,i=i.substr(a.length)}if(r||a||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var d=i.substr(0,2)==="//";!d||a&&Fn[a]||(i=i.substr(2),this.slashes=!0)}if(!Fn[a]&&(d||a&&!xr[a])){for(var g,m,b=-1,w=0;w<Ji.length;w++)(v=i.indexOf(Ji[w]))!==-1&&(b===-1||v<b)&&(b=v);for((m=b===-1?i.lastIndexOf("@"):i.lastIndexOf("@",b))!==-1&&(g=i.slice(0,m),i=i.slice(m+1),this.auth=decodeURIComponent(g)),b=-1,w=0;w<Qi.length;w++){var v;(v=i.indexOf(Qi[w]))!==-1&&(b===-1||v<b)&&(b=v)}b===-1&&(b=i.length),this.host=i.slice(0,b),i=i.slice(b),this.parseHost(),this.hostname=this.hostname||"";var R=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!R)for(var F=this.hostname.split(/\./),T=(w=0,F.length);w<T;w++){var I=F[w];if(I&&!I.match(Xi)){for(var V="",z=0,P=I.length;z<P;z++)I.charCodeAt(z)>127?V+="x":V+=I[z];if(!V.match(Xi)){var N=F.slice(0,w),H=F.slice(w+1),Q=I.match(ka);Q&&(N.push(Q[1]),H.unshift(Q[2])),H.length&&(i="/"+H.join(".")+i),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=xa.toASCII(this.hostname));var ne=this.port?":"+this.port:"",le=this.hostname||"";this.host=le+ne,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),i[0]!=="/"&&(i="/"+i))}if(!Oa[h])for(w=0,T=jn.length;w<T;w++){var U=jn[w];if(i.indexOf(U)!==-1){var J=encodeURIComponent(U);J===U&&(J=escape(U)),i=i.split(U).join(J)}}var se=i.indexOf("#");se!==-1&&(this.hash=i.substr(se),i=i.slice(0,se));var te=i.indexOf("?");if(te!==-1?(this.search=i.substr(te),this.query=i.substr(te+1),t&&(this.query=Dn.parse(this.query)),i=i.slice(0,te)):t&&(this.search="",this.query={}),i&&(this.pathname=i),xr[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){ne=this.pathname||"";var ce=this.search||"";this.path=ne+ce}return this.href=this.format(),this},wt.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",s=this.hash||"",c=!1,n="";this.host?c=e+this.host:this.hostname&&(c=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(c+=":"+this.port)),this.query&&It.isObject(this.query)&&Object.keys(this.query).length&&(n=Dn.stringify(this.query));var i=this.search||n&&"?"+n||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||xr[t])&&c!==!1?(c="//"+(c||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):c||(c=""),s&&s.charAt(0)!=="#"&&(s="#"+s),i&&i.charAt(0)!=="?"&&(i="?"+i),t+c+(r=r.replace(/[?#]/g,function(o){return encodeURIComponent(o)}))+(i=i.replace("#","%23"))+s},wt.prototype.resolve=function(e){return this.resolveObject(un(e,!1,!0)).format()},wt.prototype.resolveObject=function(e){if(It.isString(e)){var t=new wt;t.parse(e,!1,!0),e=t}for(var r=new wt,s=Object.keys(this),c=0;c<s.length;c++){var n=s[c];r[n]=this[n]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var i=Object.keys(e),o=0;o<i.length;o++){var a=i[o];a!=="protocol"&&(r[a]=e[a])}return xr[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!xr[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var g=h[d];r[g]=e[g]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||Fn[e.protocol])r.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),m[0]!==""&&m.unshift(""),m.length<2&&m.unshift(""),r.pathname=m.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var b=r.pathname||"",w=r.search||"";r.path=b+w}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&r.pathname.charAt(0)==="/",R=e.host||e.pathname&&e.pathname.charAt(0)==="/",F=R||v||r.host&&e.pathname,T=F,I=r.pathname&&r.pathname.split("/")||[],V=(m=e.pathname&&e.pathname.split("/")||[],r.protocol&&!xr[r.protocol]);if(V&&(r.hostname="",r.port=null,r.host&&(I[0]===""?I[0]=r.host:I.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(m[0]===""?m[0]=e.host:m.unshift(e.host)),e.host=null),F=F&&(m[0]===""||I[0]==="")),R)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,I=m;else if(m.length)I||(I=[]),I.pop(),I=I.concat(m),r.search=e.search,r.query=e.query;else if(!It.isNullOrUndefined(e.search))return V&&(r.hostname=r.host=I.shift(),(Q=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=Q.shift(),r.host=r.hostname=Q.shift())),r.search=e.search,r.query=e.query,It.isNull(r.pathname)&&It.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!I.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var z=I.slice(-1)[0],P=(r.host||e.host||I.length>1)&&(z==="."||z==="..")||z==="",N=0,H=I.length;H>=0;H--)(z=I[H])==="."?I.splice(H,1):z===".."?(I.splice(H,1),N++):N&&(I.splice(H,1),N--);if(!F&&!T)for(;N--;N)I.unshift("..");!F||I[0]===""||I[0]&&I[0].charAt(0)==="/"||I.unshift(""),P&&I.join("/").substr(-1)!=="/"&&I.push("");var Q,ne=I[0]===""||I[0]&&I[0].charAt(0)==="/";return V&&(r.hostname=r.host=ne?"":I.length?I.shift():"",(Q=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=Q.shift(),r.host=r.hostname=Q.shift())),(F=F||r.host&&I.length)&&!ne&&I.unshift(""),I.length?r.pathname=I.join("/"):(r.pathname=null,r.path=null),It.isNull(r.pathname)&&It.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},wt.prototype.parseHost=function(){var e=this.host,t=Ca.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},Ue.Url,Ue.format,Ue.resolve,Ue.resolveObject,ei={},Ps=!1,Ms=Yg(),Pa=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Ue.URL=typeof URL<"u"?URL:null,Ue.pathToFileURL=Xg,Ue.fileURLToPath=Gg,Ue.Url,Ue.format,Ue.resolve,Ue.resolveObject,Ue.URL,oh=92,sh=47,lh=97,ah=122,li=Pa==="win32",uh=/\//g,ch=/%/g,hh=/\\/g,fh=/\n/g,dh=/\r/g,ph=/\t/g,Ma=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Ue.URL=typeof URL<"u"?URL:null,Ue.pathToFileURL=ih,Ue.fileURLToPath=nh,gh=Ue.Url,mh=Ue.format,yh=Ue.resolve,bh=Ue.resolveObject,wh=Ue.parse,_h=Ue.URL,vh=92,Eh=47,Sh=97,Ah=122,ai=Ma==="win32",Ih=/\//g,xh=/%/g,Th=/\\/g,Ch=/\n/g,Bh=/\r/g,Rh=/\t/g}),cl={};Dr(cl,{Server:()=>We,Socket:()=>We,Stream:()=>We,_createServerHandle:()=>We,_normalizeArgs:()=>We,_setSimultaneousAccepts:()=>We,connect:()=>We,createConnection:()=>We,createServer:()=>We,default:()=>kh,isIP:()=>We,isIPv4:()=>We,isIPv6:()=>We});function We(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var kh,Oh=rt(()=>{me(),ge(),pe(),kh={_createServerHandle:We,_normalizeArgs:We,_setSimultaneousAccepts:We,connect:We,createConnection:We,createServer:We,isIP:We,isIPv4:We,isIPv6:We,Server:We,Socket:We,Stream:We}}),Ua=_e(e=>{me(),ge(),pe();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var r=t((Oh(),Ne(cl))),s=t(Jt()),c=(0,s.default)("mqttjs:tcp"),n=(i,o)=>{o.port=o.port||1883,o.hostname=o.hostname||o.host||"localhost";let{port:a,path:h}=o,d=o.hostname;return c("port %d and host %s",a,d),r.default.createConnection({port:a,host:d,path:h})};e.default=n}),Ph={};Dr(Ph,{default:()=>Mh});var Mh,r0=rt(()=>{me(),ge(),pe(),Mh={}}),La=_e(e=>{me(),ge(),pe();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var r=t((r0(),Ne(Ph))),s=t((Oh(),Ne(cl))),c=t(Jt()),n=(0,c.default)("mqttjs:tls"),i=(o,a)=>{a.port=a.port||8883,a.host=a.hostname||a.host||"localhost",s.default.isIP(a.host)===0&&(a.servername=a.host),a.rejectUnauthorized=a.rejectUnauthorized!==!1,delete a.path,n("port %d host %s rejectUnauthorized %b",a.port,a.host,a.rejectUnauthorized);let h=r.default.connect(a);h.on("secureConnect",()=>{a.rejectUnauthorized&&!h.authorized?h.emit("error",new Error("TLS not authorized")):h.removeListener("error",d)});function d(g){a.rejectUnauthorized&&o.emit("error",g),h.end()}return h.on("error",d),h};e.default=i}),hl=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=e.writev=void 0;var t=Hr(),r=(it(),Ne(nt));function s(n,i){let o=new Array(n.length);for(let a=0;a<n.length;a++)typeof n[a].chunk=="string"?o[a]=r.Buffer.from(n[a].chunk,"utf8"):o[a]=n[a].chunk;this._write(r.Buffer.concat(o),"binary",i)}e.writev=s;var c=class extends t.Duplex{constructor(n,i,o){super({objectMode:!0}),this.proxy=i,this.socket=o,this.writeQueue=[],n.objectMode||(this._writev=s.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",a=>{this.push(a)})}_read(n){this.proxy.read(n)}_write(n,i,o){this.isSocketOpen?this.writeToProxy(n,i,o):this.writeQueue.push({chunk:n,encoding:i,cb:o})}_final(n){this.writeQueue=[],this.proxy.end(n)}_destroy(n,i){this.writeQueue=[],this.proxy.destroy(),i(n)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(n,i,o){this.proxy.write(n,i)===!1?this.proxy.once("drain",o):o()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:n,encoding:i,cb:o}=this.writeQueue.shift();this.writeToProxy(n,i,o)}}};e.BufferedDuplex=c}),Na=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0});var t=(it(),Ne(nt)),r=Hr(),s=hl(),c,n,i;function o(){let m=new r.Transform;return m._write=(b,w,v)=>{c.send({data:b.buffer,success(){v()},fail(R){v(new Error(R))}})},m._flush=b=>{c.close({success(){b()}})},m}function a(m){m.hostname||(m.hostname="localhost"),m.path||(m.path="/"),m.wsOptions||(m.wsOptions={})}function h(m,b){let w=m.protocol==="wxs"?"wss":"ws",v=`${w}://${m.hostname}${m.path}`;return m.port&&m.port!==80&&m.port!==443&&(v=`${w}://${m.hostname}:${m.port}${m.path}`),typeof m.transformWsUrl=="function"&&(v=m.transformWsUrl(v,m,b)),v}function d(){c.onOpen(()=>{i.socketReady()}),c.onMessage(m=>{let{data:b}=m;b instanceof ArrayBuffer?b=t.Buffer.from(b):b=t.Buffer.from(b,"utf8"),n.push(b)}),c.onClose(()=>{i.emit("close"),i.end(),i.destroy()}),c.onError(m=>{let b=new Error(m.errMsg);i.destroy(b)})}var g=(m,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw new Error("Could not determine host. Specify host manually.");let w=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";a(b);let v=h(b,m);c=wx.connectSocket({url:v,protocols:[w]}),n=o(),i=new s.BufferedDuplex(b,n,c),i._destroy=(F,T)=>{c.close({success(){T&&T(F)}})};let R=i.destroy;return i.destroy=(F,T)=>(i.destroy=R,setTimeout(()=>{c.close({fail(){i._destroy(F,T)}})},0),i),d(),i};e.default=g}),ja=_e(e=>{me(),ge(),pe(),Object.defineProperty(e,"__esModule",{value:!0});var t=(it(),Ne(nt)),r=Hr(),s=hl(),c,n,i,o=!1;function a(){let b=new r.Transform;return b._write=(w,v,R)=>{c.sendSocketMessage({data:w.buffer,success(){R()},fail(){R(new Error)}})},b._flush=w=>{c.closeSocket({success(){w()}})},b}function h(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function d(b,w){let v=b.protocol==="alis"?"wss":"ws",R=`${v}://${b.hostname}${b.path}`;return b.port&&b.port!==80&&b.port!==443&&(R=`${v}://${b.hostname}:${b.port}${b.path}`),typeof b.transformWsUrl=="function"&&(R=b.transformWsUrl(R,b,w)),R}function g(){o||(o=!0,c.onSocketOpen(()=>{i.socketReady()}),c.onSocketMessage(b=>{if(typeof b.data=="string"){let w=t.Buffer.from(b.data,"base64");n.push(w)}else{let w=new FileReader;w.addEventListener("load",()=>{let v=w.result;v instanceof ArrayBuffer?v=t.Buffer.from(v):v=t.Buffer.from(v,"utf8"),n.push(v)}),w.readAsArrayBuffer(b.data)}}),c.onSocketClose(()=>{i.end(),i.destroy()}),c.onSocketError(b=>{i.destroy(b)}))}var m=(b,w)=>{if(w.hostname=w.hostname||w.host,!w.hostname)throw new Error("Could not determine host. Specify host manually.");let v=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt";h(w);let R=d(w,b);return c=w.my,c.connectSocket({url:R,protocols:v}),n=a(),i=new s.BufferedDuplex(w,n,c),g(),i};e.default=m}),n0=_e((e,t)=>{me(),ge(),pe(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Fa=_e(e=>{me(),ge(),pe();var t=e&&e.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(e,"__esModule",{value:!0});var r=(it(),Ne(nt)),s=t(n0()),c=t(Jt()),n=Hr(),i=t(xi()),o=hl(),a=(0,c.default)("mqttjs:ws"),h=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function d(F,T){let I=`${F.protocol}://${F.hostname}:${F.port}${F.path}`;return typeof F.transformWsUrl=="function"&&(I=F.transformWsUrl(I,F,T)),I}function g(F){let T=F;return F.port||(F.protocol==="wss"?T.port=443:T.port=80),F.path||(T.path="/"),F.wsOptions||(T.wsOptions={}),!i.default&&F.protocol==="wss"&&h.forEach(I=>{Object.prototype.hasOwnProperty.call(F,I)&&!Object.prototype.hasOwnProperty.call(F.wsOptions,I)&&(T.wsOptions[I]=F[I])}),T}function m(F){let T=g(F);if(T.hostname||(T.hostname=T.host),!T.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let I=new URL(document.URL);T.hostname=I.hostname,T.port||(T.port=Number(I.port))}return T.objectMode===void 0&&(T.objectMode=!(T.binary===!0||T.binary===void 0)),T}function b(F,T,I){a("createWebSocket"),a(`protocol: ${I.protocolId} ${I.protocolVersion}`);let V=I.protocolId==="MQIsdp"&&I.protocolVersion===3?"mqttv3.1":"mqtt";a(`creating new Websocket for url: ${T} and protocol: ${V}`);let z;return I.createWebsocket?z=I.createWebsocket(T,[V],I):z=new s.default(T,[V],I.wsOptions),z}function w(F,T){let I=T.protocolId==="MQIsdp"&&T.protocolVersion===3?"mqttv3.1":"mqtt",V=d(T,F),z;return T.createWebsocket?z=T.createWebsocket(V,[I],T):z=new WebSocket(V,[I]),z.binaryType="arraybuffer",z}var v=(F,T)=>{a("streamBuilder");let I=g(T);I.hostname=I.hostname||I.host||"localhost";let V=d(I,F),z=b(F,V,I),P=s.default.createWebSocketStream(z,I.wsOptions);return P.url=V,z.on("close",()=>{P.destroy()}),P},R=(F,T)=>{a("browserStreamBuilder");let I,V=m(T).browserBufferSize||1024*512,z=T.browserBufferTimeout||1e3,P=!T.objectMode,N=w(F,T),H=ne(T,te,ce);T.objectMode||(H._writev=o.writev.bind(H)),H.on("close",()=>{N.close()});let Q=typeof N.addEventListener<"u";N.readyState===N.OPEN?(I=H,I.socket=N):(I=new o.BufferedDuplex(T,H,N),Q?N.addEventListener("open",le):N.onopen=le),Q?(N.addEventListener("close",U),N.addEventListener("error",J),N.addEventListener("message",se)):(N.onclose=U,N.onerror=J,N.onmessage=se);function ne(ie,G,be){let ue=new n.Transform({objectMode:ie.objectMode});return ue._write=G,ue._flush=be,ue}function le(){a("WebSocket onOpen"),I instanceof o.BufferedDuplex&&I.socketReady()}function U(ie){a("WebSocket onClose",ie),I.end(),I.destroy()}function J(ie){a("WebSocket onError",ie);let G=new Error("WebSocket error");G.event=ie,I.destroy(G)}function se(ie){let{data:G}=ie;G instanceof ArrayBuffer?G=r.Buffer.from(G):G=r.Buffer.from(G,"utf8"),H.push(G)}function te(ie,G,be){if(N.bufferedAmount>V){setTimeout(te,z,ie,G,be);return}P&&typeof ie=="string"&&(ie=r.Buffer.from(ie,"utf8"));try{N.send(ie)}catch(ue){return be(ue)}be()}function ce(ie){N.close(),ie()}return I};e.default=i.default?R:v}),i0=_e(e=>{me(),ge(),pe();var t=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=void 0;var r=t(Jt()),s=t((t0(),Ne(rh))),c=t(xs()),n=t(xi());typeof(Pe==null?void 0:Pe.nextTick)!="function"&&(Pe.nextTick=setImmediate);var i=(0,r.default)("mqttjs"),o={};n.default?(o.wx=Na().default,o.wxs=Na().default,o.ali=ja().default,o.alis=ja().default):(o.mqtt=Ua().default,o.tcp=Ua().default,o.ssl=La().default,o.tls=o.ssl,o.mqtts=La().default),o.ws=Fa().default,o.wss=Fa().default;function a(g){let m;g.auth&&(m=g.auth.match(/^(.+):(.+)$/),m?(g.username=m[1],g.password=m[2]):g.username=g.auth)}function h(g,m){var b,w,v,R;if(i("connecting to an MQTT broker..."),typeof g=="object"&&!m&&(m=g,g=""),m=m||{},g&&typeof g=="string"){let I=s.default.parse(g,!0),V={};if(I.port!=null&&(V.port=Number(I.port)),V.host=I.hostname,V.query=I.query,V.auth=I.auth,V.protocol=I.protocol,V.path=I.path,V.protocol=(b=V.protocol)===null||b===void 0?void 0:b.replace(/:$/,""),m=Object.assign(Object.assign({},V),m),!m.protocol)throw new Error("Missing protocol")}if(m.unixSocket=m.unixSocket||((w=m.protocol)===null||w===void 0?void 0:w.includes("+unix")),m.unixSocket?m.protocol=m.protocol.replace("+unix",""):!(!((v=m.protocol)===null||v===void 0)&&v.startsWith("ws"))&&!(!((R=m.protocol)===null||R===void 0)&&R.startsWith("wx"))&&delete m.path,a(m),m.query&&typeof m.query.clientId=="string"&&(m.clientId=m.query.clientId),m.cert&&m.key)if(m.protocol){if(["mqtts","wss","wxs","alis"].indexOf(m.protocol)===-1)switch(m.protocol){case"mqtt":m.protocol="mqtts";break;case"ws":m.protocol="wss";break;case"wx":m.protocol="wxs";break;case"ali":m.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${m.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(!o[m.protocol]){let I=["mqtts","wss"].indexOf(m.protocol)!==-1;m.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((V,z)=>I&&z%2===0?!1:typeof o[V]=="function")[0]}if(m.clean===!1&&!m.clientId)throw new Error("Missing clientId for unclean clients");m.protocol&&(m.defaultProtocol=m.protocol);function F(I){return m.servers&&((!I._reconnectCount||I._reconnectCount===m.servers.length)&&(I._reconnectCount=0),m.host=m.servers[I._reconnectCount].host,m.port=m.servers[I._reconnectCount].port,m.protocol=m.servers[I._reconnectCount].protocol?m.servers[I._reconnectCount].protocol:m.defaultProtocol,m.hostname=m.host,I._reconnectCount++),i("calling streambuilder for",m.protocol),o[m.protocol](I,m)}let T=new c.default(F,m);return T.on("error",()=>{}),T}function d(g,m,b=!0){return new Promise((w,v)=>{let R=h(g,m),F={connect:I=>{T(),w(R)},end:()=>{T(),w(R)},error:I=>{T(),R.end(),v(I)}};b===!1&&(F.close=()=>{F.error(new Error("Couldn't connect to server"))});function T(){Object.keys(F).forEach(I=>{R.off(I,F[I])})}Object.keys(F).forEach(I=>{R.on(I,F[I])})})}e.connectAsync=d,e.default=h}),Da=_e(e=>{me(),ge(),pe();var t=e&&e.__createBinding||(Object.create?function(b,w,v,R){R===void 0&&(R=v);var F=Object.getOwnPropertyDescriptor(w,v);(!F||("get"in F?!w.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return w[v]}}),Object.defineProperty(b,R,F)}:function(b,w,v,R){R===void 0&&(R=v),b[R]=w[v]}),r=e&&e.__setModuleDefault||(Object.create?function(b,w){Object.defineProperty(b,"default",{enumerable:!0,value:w})}:function(b,w){b.default=w}),s=e&&e.__importStar||function(b){if(b&&b.__esModule)return b;var w={};if(b!=null)for(var v in b)v!=="default"&&Object.prototype.hasOwnProperty.call(b,v)&&t(w,b,v);return r(w,b),w},c=e&&e.__exportStar||function(b,w){for(var v in b)v!=="default"&&!Object.prototype.hasOwnProperty.call(w,v)&&t(w,b,v)},n=e&&e.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var i=n(xs());e.MqttClient=i.default;var o=n(Pc());e.DefaultMessageIdProvider=o.default;var a=n(Fg());e.UniqueMessageIdProvider=a.default;var h=n(Mc());e.Store=h.default;var d=s(i0());e.connect=d.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return d.connectAsync}});var g=n(Qc());e.KeepaliveManager=g.default,e.Client=i.default,c(xs(),e),c(Tn(),e);var m=Ii();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return m.ReasonCodes}})}),o0=_e(e=>{me(),ge(),pe();var t=e&&e.__createBinding||(Object.create?function(i,o,a,h){h===void 0&&(h=a);var d=Object.getOwnPropertyDescriptor(o,a);(!d||("get"in d?!o.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(i,h,d)}:function(i,o,a,h){h===void 0&&(h=a),i[h]=o[a]}),r=e&&e.__setModuleDefault||(Object.create?function(i,o){Object.defineProperty(i,"default",{enumerable:!0,value:o})}:function(i,o){i.default=o}),s=e&&e.__importStar||function(i){if(i&&i.__esModule)return i;var o={};if(i!=null)for(var a in i)a!=="default"&&Object.prototype.hasOwnProperty.call(i,a)&&t(o,i,a);return r(o,i),o},c=e&&e.__exportStar||function(i,o){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&t(o,i,a)};Object.defineProperty(e,"__esModule",{value:!0});var n=s(Da());e.default=n,c(Da(),e)});const s0=o0();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/var Uh={},Ti={};Ti.byteLength=u0;Ti.toByteArray=h0;Ti.fromByteArray=p0;var Ut=[],_t=[],l0=typeof Uint8Array<"u"?Uint8Array:Array,Zi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var zr=0,a0=Zi.length;zr<a0;++zr)Ut[zr]=Zi[zr],_t[Zi.charCodeAt(zr)]=zr;_t[45]=62;_t[95]=63;function Lh(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var s=r===t?0:4-r%4;return[r,s]}function u0(e){var t=Lh(e),r=t[0],s=t[1];return(r+s)*3/4-s}function c0(e,t,r){return(t+r)*3/4-r}function h0(e){var t,r=Lh(e),s=r[0],c=r[1],n=new l0(c0(e,s,c)),i=0,o=c>0?s-4:s,a;for(a=0;a<o;a+=4)t=_t[e.charCodeAt(a)]<<18|_t[e.charCodeAt(a+1)]<<12|_t[e.charCodeAt(a+2)]<<6|_t[e.charCodeAt(a+3)],n[i++]=t>>16&255,n[i++]=t>>8&255,n[i++]=t&255;return c===2&&(t=_t[e.charCodeAt(a)]<<2|_t[e.charCodeAt(a+1)]>>4,n[i++]=t&255),c===1&&(t=_t[e.charCodeAt(a)]<<10|_t[e.charCodeAt(a+1)]<<4|_t[e.charCodeAt(a+2)]>>2,n[i++]=t>>8&255,n[i++]=t&255),n}function f0(e){return Ut[e>>18&63]+Ut[e>>12&63]+Ut[e>>6&63]+Ut[e&63]}function d0(e,t,r){for(var s,c=[],n=t;n<r;n+=3)s=(e[n]<<16&16711680)+(e[n+1]<<8&65280)+(e[n+2]&255),c.push(f0(s));return c.join("")}function p0(e){for(var t,r=e.length,s=r%3,c=[],n=16383,i=0,o=r-s;i<o;i+=n)c.push(d0(e,i,i+n>o?o:i+n));return s===1?(t=e[r-1],c.push(Ut[t>>2]+Ut[t<<4&63]+"==")):s===2&&(t=(e[r-2]<<8)+e[r-1],c.push(Ut[t>>10]+Ut[t>>4&63]+Ut[t<<2&63]+"=")),c.join("")}var fl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */fl.read=function(e,t,r,s,c){var n,i,o=c*8-s-1,a=(1<<o)-1,h=a>>1,d=-7,g=r?c-1:0,m=r?-1:1,b=e[t+g];for(g+=m,n=b&(1<<-d)-1,b>>=-d,d+=o;d>0;n=n*256+e[t+g],g+=m,d-=8);for(i=n&(1<<-d)-1,n>>=-d,d+=s;d>0;i=i*256+e[t+g],g+=m,d-=8);if(n===0)n=1-h;else{if(n===a)return i?NaN:(b?-1:1)*(1/0);i=i+Math.pow(2,s),n=n-h}return(b?-1:1)*i*Math.pow(2,n-s)};fl.write=function(e,t,r,s,c,n){var i,o,a,h=n*8-c-1,d=(1<<h)-1,g=d>>1,m=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=s?0:n-1,w=s?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-i))<1&&(i--,a*=2),i+g>=1?t+=m/a:t+=m*Math.pow(2,1-g),t*a>=2&&(i++,a/=2),i+g>=d?(o=0,i=d):i+g>=1?(o=(t*a-1)*Math.pow(2,c),i=i+g):(o=t*Math.pow(2,g-1)*Math.pow(2,c),i=0));c>=8;e[r+b]=o&255,b+=w,o/=256,c-=8);for(i=i<<c|o,h+=c;h>0;e[r+b]=i&255,b+=w,i/=256,h-=8);e[r+b-w]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Ti,r=fl,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=T,e.INSPECT_MAX_BYTES=50;const c=2147483647;e.kMaxLength=c,o.TYPED_ARRAY_SUPPORT=n(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function n(){try{const u=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(u,l),u.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function i(u){if(u>c)throw new RangeError('The value "'+u+'" is invalid for option "size"');const l=new Uint8Array(u);return Object.setPrototypeOf(l,o.prototype),l}function o(u,l,f){if(typeof u=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(u)}return a(u,l,f)}o.poolSize=8192;function a(u,l,f){if(typeof u=="string")return m(u,l);if(ArrayBuffer.isView(u))return w(u);if(u==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);if(A(u,ArrayBuffer)||u&&A(u.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(A(u,SharedArrayBuffer)||u&&A(u.buffer,SharedArrayBuffer)))return v(u,l,f);if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=u.valueOf&&u.valueOf();if(y!=null&&y!==u)return o.from(y,l,f);const _=R(u);if(_)return _;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof u[Symbol.toPrimitive]=="function")return o.from(u[Symbol.toPrimitive]("string"),l,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u)}o.from=function(u,l,f){return a(u,l,f)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function h(u){if(typeof u!="number")throw new TypeError('"size" argument must be of type number');if(u<0)throw new RangeError('The value "'+u+'" is invalid for option "size"')}function d(u,l,f){return h(u),u<=0?i(u):l!==void 0?typeof f=="string"?i(u).fill(l,f):i(u).fill(l):i(u)}o.alloc=function(u,l,f){return d(u,l,f)};function g(u){return h(u),i(u<0?0:F(u)|0)}o.allocUnsafe=function(u){return g(u)},o.allocUnsafeSlow=function(u){return g(u)};function m(u,l){if((typeof l!="string"||l==="")&&(l="utf8"),!o.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const f=I(u,l)|0;let y=i(f);const _=y.write(u,l);return _!==f&&(y=y.slice(0,_)),y}function b(u){const l=u.length<0?0:F(u.length)|0,f=i(l);for(let y=0;y<l;y+=1)f[y]=u[y]&255;return f}function w(u){if(A(u,Uint8Array)){const l=new Uint8Array(u);return v(l.buffer,l.byteOffset,l.byteLength)}return b(u)}function v(u,l,f){if(l<0||u.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(u.byteLength<l+(f||0))throw new RangeError('"length" is outside of buffer bounds');let y;return l===void 0&&f===void 0?y=new Uint8Array(u):f===void 0?y=new Uint8Array(u,l):y=new Uint8Array(u,l,f),Object.setPrototypeOf(y,o.prototype),y}function R(u){if(o.isBuffer(u)){const l=F(u.length)|0,f=i(l);return f.length===0||u.copy(f,0,0,l),f}if(u.length!==void 0)return typeof u.length!="number"||j(u.length)?i(0):b(u);if(u.type==="Buffer"&&Array.isArray(u.data))return b(u.data)}function F(u){if(u>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return u|0}function T(u){return+u!=u&&(u=0),o.alloc(+u)}o.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==o.prototype},o.compare=function(l,f){if(A(l,Uint8Array)&&(l=o.from(l,l.offset,l.byteLength)),A(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),!o.isBuffer(l)||!o.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===f)return 0;let y=l.length,_=f.length;for(let L=0,Z=Math.min(y,_);L<Z;++L)if(l[L]!==f[L]){y=l[L],_=f[L];break}return y<_?-1:_<y?1:0},o.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(l,f){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return o.alloc(0);let y;if(f===void 0)for(f=0,y=0;y<l.length;++y)f+=l[y].length;const _=o.allocUnsafe(f);let L=0;for(y=0;y<l.length;++y){let Z=l[y];if(A(Z,Uint8Array))L+Z.length>_.length?(o.isBuffer(Z)||(Z=o.from(Z)),Z.copy(_,L)):Uint8Array.prototype.set.call(_,Z,L);else if(o.isBuffer(Z))Z.copy(_,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=Z.length}return _};function I(u,l){if(o.isBuffer(u))return u.length;if(ArrayBuffer.isView(u)||A(u,ArrayBuffer))return u.byteLength;if(typeof u!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof u);const f=u.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&f===0)return 0;let _=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return k(u).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return C(u).length;default:if(_)return y?-1:k(u).length;l=(""+l).toLowerCase(),_=!0}}o.byteLength=I;function V(u,l,f){let y=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,l>>>=0,f<=l))return"";for(u||(u="utf8");;)switch(u){case"hex":return be(this,l,f);case"utf8":case"utf-8":return se(this,l,f);case"ascii":return ie(this,l,f);case"latin1":case"binary":return G(this,l,f);case"base64":return J(this,l,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,l,f);default:if(y)throw new TypeError("Unknown encoding: "+u);u=(u+"").toLowerCase(),y=!0}}o.prototype._isBuffer=!0;function z(u,l,f){const y=u[l];u[l]=u[f],u[f]=y}o.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<l;f+=2)z(this,f,f+1);return this},o.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<l;f+=4)z(this,f,f+3),z(this,f+1,f+2);return this},o.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<l;f+=8)z(this,f,f+7),z(this,f+1,f+6),z(this,f+2,f+5),z(this,f+3,f+4);return this},o.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?se(this,0,l):V.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(l){if(!o.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:o.compare(this,l)===0},o.prototype.inspect=function(){let l="";const f=e.INSPECT_MAX_BYTES;return l=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(l+=" ... "),"<Buffer "+l+">"},s&&(o.prototype[s]=o.prototype.inspect),o.prototype.compare=function(l,f,y,_,L){if(A(l,Uint8Array)&&(l=o.from(l,l.offset,l.byteLength)),!o.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(f===void 0&&(f=0),y===void 0&&(y=l?l.length:0),_===void 0&&(_=0),L===void 0&&(L=this.length),f<0||y>l.length||_<0||L>this.length)throw new RangeError("out of range index");if(_>=L&&f>=y)return 0;if(_>=L)return-1;if(f>=y)return 1;if(f>>>=0,y>>>=0,_>>>=0,L>>>=0,this===l)return 0;let Z=L-_,Ee=y-f;const xe=Math.min(Z,Ee),ve=this.slice(_,L),Ie=l.slice(f,y);for(let Ae=0;Ae<xe;++Ae)if(ve[Ae]!==Ie[Ae]){Z=ve[Ae],Ee=Ie[Ae];break}return Z<Ee?-1:Ee<Z?1:0};function P(u,l,f,y,_){if(u.length===0)return-1;if(typeof f=="string"?(y=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,j(f)&&(f=_?0:u.length-1),f<0&&(f=u.length+f),f>=u.length){if(_)return-1;f=u.length-1}else if(f<0)if(_)f=0;else return-1;if(typeof l=="string"&&(l=o.from(l,y)),o.isBuffer(l))return l.length===0?-1:N(u,l,f,y,_);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?_?Uint8Array.prototype.indexOf.call(u,l,f):Uint8Array.prototype.lastIndexOf.call(u,l,f):N(u,[l],f,y,_);throw new TypeError("val must be string, number or Buffer")}function N(u,l,f,y,_){let L=1,Z=u.length,Ee=l.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(u.length<2||l.length<2)return-1;L=2,Z/=2,Ee/=2,f/=2}function xe(Ie,Ae){return L===1?Ie[Ae]:Ie.readUInt16BE(Ae*L)}let ve;if(_){let Ie=-1;for(ve=f;ve<Z;ve++)if(xe(u,ve)===xe(l,Ie===-1?0:ve-Ie)){if(Ie===-1&&(Ie=ve),ve-Ie+1===Ee)return Ie*L}else Ie!==-1&&(ve-=ve-Ie),Ie=-1}else for(f+Ee>Z&&(f=Z-Ee),ve=f;ve>=0;ve--){let Ie=!0;for(let Ae=0;Ae<Ee;Ae++)if(xe(u,ve+Ae)!==xe(l,Ae)){Ie=!1;break}if(Ie)return ve}return-1}o.prototype.includes=function(l,f,y){return this.indexOf(l,f,y)!==-1},o.prototype.indexOf=function(l,f,y){return P(this,l,f,y,!0)},o.prototype.lastIndexOf=function(l,f,y){return P(this,l,f,y,!1)};function H(u,l,f,y){f=Number(f)||0;const _=u.length-f;y?(y=Number(y),y>_&&(y=_)):y=_;const L=l.length;y>L/2&&(y=L/2);let Z;for(Z=0;Z<y;++Z){const Ee=parseInt(l.substr(Z*2,2),16);if(j(Ee))return Z;u[f+Z]=Ee}return Z}function Q(u,l,f,y){return W(k(l,u.length-f),u,f,y)}function ne(u,l,f,y){return W(K(l),u,f,y)}function le(u,l,f,y){return W(C(l),u,f,y)}function U(u,l,f,y){return W(Y(l,u.length-f),u,f,y)}o.prototype.write=function(l,f,y,_){if(f===void 0)_="utf8",y=this.length,f=0;else if(y===void 0&&typeof f=="string")_=f,y=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(y)?(y=y>>>0,_===void 0&&(_="utf8")):(_=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const L=this.length-f;if((y===void 0||y>L)&&(y=L),l.length>0&&(y<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");_||(_="utf8");let Z=!1;for(;;)switch(_){case"hex":return H(this,l,f,y);case"utf8":case"utf-8":return Q(this,l,f,y);case"ascii":case"latin1":case"binary":return ne(this,l,f,y);case"base64":return le(this,l,f,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,l,f,y);default:if(Z)throw new TypeError("Unknown encoding: "+_);_=(""+_).toLowerCase(),Z=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(u,l,f){return l===0&&f===u.length?t.fromByteArray(u):t.fromByteArray(u.slice(l,f))}function se(u,l,f){f=Math.min(u.length,f);const y=[];let _=l;for(;_<f;){const L=u[_];let Z=null,Ee=L>239?4:L>223?3:L>191?2:1;if(_+Ee<=f){let xe,ve,Ie,Ae;switch(Ee){case 1:L<128&&(Z=L);break;case 2:xe=u[_+1],(xe&192)===128&&(Ae=(L&31)<<6|xe&63,Ae>127&&(Z=Ae));break;case 3:xe=u[_+1],ve=u[_+2],(xe&192)===128&&(ve&192)===128&&(Ae=(L&15)<<12|(xe&63)<<6|ve&63,Ae>2047&&(Ae<55296||Ae>57343)&&(Z=Ae));break;case 4:xe=u[_+1],ve=u[_+2],Ie=u[_+3],(xe&192)===128&&(ve&192)===128&&(Ie&192)===128&&(Ae=(L&15)<<18|(xe&63)<<12|(ve&63)<<6|Ie&63,Ae>65535&&Ae<1114112&&(Z=Ae))}}Z===null?(Z=65533,Ee=1):Z>65535&&(Z-=65536,y.push(Z>>>10&1023|55296),Z=56320|Z&1023),y.push(Z),_+=Ee}return ce(y)}const te=4096;function ce(u){const l=u.length;if(l<=te)return String.fromCharCode.apply(String,u);let f="",y=0;for(;y<l;)f+=String.fromCharCode.apply(String,u.slice(y,y+=te));return f}function ie(u,l,f){let y="";f=Math.min(u.length,f);for(let _=l;_<f;++_)y+=String.fromCharCode(u[_]&127);return y}function G(u,l,f){let y="";f=Math.min(u.length,f);for(let _=l;_<f;++_)y+=String.fromCharCode(u[_]);return y}function be(u,l,f){const y=u.length;(!l||l<0)&&(l=0),(!f||f<0||f>y)&&(f=y);let _="";for(let L=l;L<f;++L)_+=q[u[L]];return _}function ue(u,l,f){const y=u.slice(l,f);let _="";for(let L=0;L<y.length-1;L+=2)_+=String.fromCharCode(y[L]+y[L+1]*256);return _}o.prototype.slice=function(l,f){const y=this.length;l=~~l,f=f===void 0?y:~~f,l<0?(l+=y,l<0&&(l=0)):l>y&&(l=y),f<0?(f+=y,f<0&&(f=0)):f>y&&(f=y),f<l&&(f=l);const _=this.subarray(l,f);return Object.setPrototypeOf(_,o.prototype),_};function ye(u,l,f){if(u%1!==0||u<0)throw new RangeError("offset is not uint");if(u+l>f)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(l,f,y){l=l>>>0,f=f>>>0,y||ye(l,f,this.length);let _=this[l],L=1,Z=0;for(;++Z<f&&(L*=256);)_+=this[l+Z]*L;return _},o.prototype.readUintBE=o.prototype.readUIntBE=function(l,f,y){l=l>>>0,f=f>>>0,y||ye(l,f,this.length);let _=this[l+--f],L=1;for(;f>0&&(L*=256);)_+=this[l+--f]*L;return _},o.prototype.readUint8=o.prototype.readUInt8=function(l,f){return l=l>>>0,f||ye(l,1,this.length),this[l]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(l,f){return l=l>>>0,f||ye(l,2,this.length),this[l]|this[l+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(l,f){return l=l>>>0,f||ye(l,2,this.length),this[l]<<8|this[l+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(l,f){return l=l>>>0,f||ye(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(l,f){return l=l>>>0,f||ye(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},o.prototype.readBigUInt64LE=X(function(l){l=l>>>0,x(l,"offset");const f=this[l],y=this[l+7];(f===void 0||y===void 0)&&B(l,this.length-8);const _=f+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,L=this[++l]+this[++l]*2**8+this[++l]*2**16+y*2**24;return BigInt(_)+(BigInt(L)<<BigInt(32))}),o.prototype.readBigUInt64BE=X(function(l){l=l>>>0,x(l,"offset");const f=this[l],y=this[l+7];(f===void 0||y===void 0)&&B(l,this.length-8);const _=f*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],L=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y;return(BigInt(_)<<BigInt(32))+BigInt(L)}),o.prototype.readIntLE=function(l,f,y){l=l>>>0,f=f>>>0,y||ye(l,f,this.length);let _=this[l],L=1,Z=0;for(;++Z<f&&(L*=256);)_+=this[l+Z]*L;return L*=128,_>=L&&(_-=Math.pow(2,8*f)),_},o.prototype.readIntBE=function(l,f,y){l=l>>>0,f=f>>>0,y||ye(l,f,this.length);let _=f,L=1,Z=this[l+--_];for(;_>0&&(L*=256);)Z+=this[l+--_]*L;return L*=128,Z>=L&&(Z-=Math.pow(2,8*f)),Z},o.prototype.readInt8=function(l,f){return l=l>>>0,f||ye(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},o.prototype.readInt16LE=function(l,f){l=l>>>0,f||ye(l,2,this.length);const y=this[l]|this[l+1]<<8;return y&32768?y|4294901760:y},o.prototype.readInt16BE=function(l,f){l=l>>>0,f||ye(l,2,this.length);const y=this[l+1]|this[l]<<8;return y&32768?y|4294901760:y},o.prototype.readInt32LE=function(l,f){return l=l>>>0,f||ye(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},o.prototype.readInt32BE=function(l,f){return l=l>>>0,f||ye(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},o.prototype.readBigInt64LE=X(function(l){l=l>>>0,x(l,"offset");const f=this[l],y=this[l+7];(f===void 0||y===void 0)&&B(l,this.length-8);const _=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(y<<24);return(BigInt(_)<<BigInt(32))+BigInt(f+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),o.prototype.readBigInt64BE=X(function(l){l=l>>>0,x(l,"offset");const f=this[l],y=this[l+7];(f===void 0||y===void 0)&&B(l,this.length-8);const _=(f<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(_)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y)}),o.prototype.readFloatLE=function(l,f){return l=l>>>0,f||ye(l,4,this.length),r.read(this,l,!0,23,4)},o.prototype.readFloatBE=function(l,f){return l=l>>>0,f||ye(l,4,this.length),r.read(this,l,!1,23,4)},o.prototype.readDoubleLE=function(l,f){return l=l>>>0,f||ye(l,8,this.length),r.read(this,l,!0,52,8)},o.prototype.readDoubleBE=function(l,f){return l=l>>>0,f||ye(l,8,this.length),r.read(this,l,!1,52,8)};function S(u,l,f,y,_,L){if(!o.isBuffer(u))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>_||l<L)throw new RangeError('"value" argument is out of bounds');if(f+y>u.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(l,f,y,_){if(l=+l,f=f>>>0,y=y>>>0,!_){const Ee=Math.pow(2,8*y)-1;S(this,l,f,y,Ee,0)}let L=1,Z=0;for(this[f]=l&255;++Z<y&&(L*=256);)this[f+Z]=l/L&255;return f+y},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(l,f,y,_){if(l=+l,f=f>>>0,y=y>>>0,!_){const Ee=Math.pow(2,8*y)-1;S(this,l,f,y,Ee,0)}let L=y-1,Z=1;for(this[f+L]=l&255;--L>=0&&(Z*=256);)this[f+L]=l/Z&255;return f+y},o.prototype.writeUint8=o.prototype.writeUInt8=function(l,f,y){return l=+l,f=f>>>0,y||S(this,l,f,1,255,0),this[f]=l&255,f+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(l,f,y){return l=+l,f=f>>>0,y||S(this,l,f,2,65535,0),this[f]=l&255,this[f+1]=l>>>8,f+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(l,f,y){return l=+l,f=f>>>0,y||S(this,l,f,2,65535,0),this[f]=l>>>8,this[f+1]=l&255,f+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(l,f,y){return l=+l,f=f>>>0,y||S(this,l,f,4,4294967295,0),this[f+3]=l>>>24,this[f+2]=l>>>16,this[f+1]=l>>>8,this[f]=l&255,f+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(l,f,y){return l=+l,f=f>>>0,y||S(this,l,f,4,4294967295,0),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=l&255,f+4};function re(u,l,f,y,_){oe(l,y,_,u,f,7);let L=Number(l&BigInt(4294967295));u[f++]=L,L=L>>8,u[f++]=L,L=L>>8,u[f++]=L,L=L>>8,u[f++]=L;let Z=Number(l>>BigInt(32)&BigInt(4294967295));return u[f++]=Z,Z=Z>>8,u[f++]=Z,Z=Z>>8,u[f++]=Z,Z=Z>>8,u[f++]=Z,f}function de(u,l,f,y,_){oe(l,y,_,u,f,7);let L=Number(l&BigInt(4294967295));u[f+7]=L,L=L>>8,u[f+6]=L,L=L>>8,u[f+5]=L,L=L>>8,u[f+4]=L;let Z=Number(l>>BigInt(32)&BigInt(4294967295));return u[f+3]=Z,Z=Z>>8,u[f+2]=Z,Z=Z>>8,u[f+1]=Z,Z=Z>>8,u[f]=Z,f+8}o.prototype.writeBigUInt64LE=X(function(l,f=0){return re(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=X(function(l,f=0){return de(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(l,f,y,_){if(l=+l,f=f>>>0,!_){const xe=Math.pow(2,8*y-1);S(this,l,f,y,xe-1,-xe)}let L=0,Z=1,Ee=0;for(this[f]=l&255;++L<y&&(Z*=256);)l<0&&Ee===0&&this[f+L-1]!==0&&(Ee=1),this[f+L]=(l/Z>>0)-Ee&255;return f+y},o.prototype.writeIntBE=function(l,f,y,_){if(l=+l,f=f>>>0,!_){const xe=Math.pow(2,8*y-1);S(this,l,f,y,xe-1,-xe)}let L=y-1,Z=1,Ee=0;for(this[f+L]=l&255;--L>=0&&(Z*=256);)l<0&&Ee===0&&this[f+L+1]!==0&&(Ee=1),this[f+L]=(l/Z>>0)-Ee&255;return f+y},o.prototype.writeInt8=function(l,f,y){return l=+l,f=f>>>0,y||S(this,l,f,1,127,-128),l<0&&(l=255+l+1),this[f]=l&255,f+1},o.prototype.writeInt16LE=function(l,f,y){return l=+l,f=f>>>0,y||S(this,l,f,2,32767,-32768),this[f]=l&255,this[f+1]=l>>>8,f+2},o.prototype.writeInt16BE=function(l,f,y){return l=+l,f=f>>>0,y||S(this,l,f,2,32767,-32768),this[f]=l>>>8,this[f+1]=l&255,f+2},o.prototype.writeInt32LE=function(l,f,y){return l=+l,f=f>>>0,y||S(this,l,f,4,2147483647,-2147483648),this[f]=l&255,this[f+1]=l>>>8,this[f+2]=l>>>16,this[f+3]=l>>>24,f+4},o.prototype.writeInt32BE=function(l,f,y){return l=+l,f=f>>>0,y||S(this,l,f,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=l&255,f+4},o.prototype.writeBigInt64LE=X(function(l,f=0){return re(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=X(function(l,f=0){return de(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Se(u,l,f,y,_,L){if(f+y>u.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function he(u,l,f,y,_){return l=+l,f=f>>>0,_||Se(u,l,f,4),r.write(u,l,f,y,23,4),f+4}o.prototype.writeFloatLE=function(l,f,y){return he(this,l,f,!0,y)},o.prototype.writeFloatBE=function(l,f,y){return he(this,l,f,!1,y)};function D(u,l,f,y,_){return l=+l,f=f>>>0,_||Se(u,l,f,8),r.write(u,l,f,y,52,8),f+8}o.prototype.writeDoubleLE=function(l,f,y){return D(this,l,f,!0,y)},o.prototype.writeDoubleBE=function(l,f,y){return D(this,l,f,!1,y)},o.prototype.copy=function(l,f,y,_){if(!o.isBuffer(l))throw new TypeError("argument should be a Buffer");if(y||(y=0),!_&&_!==0&&(_=this.length),f>=l.length&&(f=l.length),f||(f=0),_>0&&_<y&&(_=y),_===y||l.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("sourceEnd out of bounds");_>this.length&&(_=this.length),l.length-f<_-y&&(_=l.length-f+y);const L=_-y;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,y,_):Uint8Array.prototype.set.call(l,this.subarray(y,_),f),L},o.prototype.fill=function(l,f,y,_){if(typeof l=="string"){if(typeof f=="string"?(_=f,f=0,y=this.length):typeof y=="string"&&(_=y,y=this.length),_!==void 0&&typeof _!="string")throw new TypeError("encoding must be a string");if(typeof _=="string"&&!o.isEncoding(_))throw new TypeError("Unknown encoding: "+_);if(l.length===1){const Z=l.charCodeAt(0);(_==="utf8"&&Z<128||_==="latin1")&&(l=Z)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(f<0||this.length<f||this.length<y)throw new RangeError("Out of range index");if(y<=f)return this;f=f>>>0,y=y===void 0?this.length:y>>>0,l||(l=0);let L;if(typeof l=="number")for(L=f;L<y;++L)this[L]=l;else{const Z=o.isBuffer(l)?l:o.from(l,_),Ee=Z.length;if(Ee===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(L=0;L<y-f;++L)this[L+f]=Z[L%Ee]}return this};const M={};function ee(u,l,f){M[u]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${u}]`,this.stack,delete this.name}get code(){return u}set code(_){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_,writable:!0})}toString(){return`${this.name} [${u}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(u){return u?`${u} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(u,l){return`The "${u}" argument must be of type number. Received type ${typeof l}`},TypeError),ee("ERR_OUT_OF_RANGE",function(u,l,f){let y=`The value of "${u}" is out of range.`,_=f;return Number.isInteger(f)&&Math.abs(f)>2**32?_=fe(String(f)):typeof f=="bigint"&&(_=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(_=fe(_)),_+="n"),y+=` It must be ${l}. Received ${_}`,y},RangeError);function fe(u){let l="",f=u.length;const y=u[0]==="-"?1:0;for(;f>=y+4;f-=3)l=`_${u.slice(f-3,f)}${l}`;return`${u.slice(0,f)}${l}`}function ae(u,l,f){x(l,"offset"),(u[l]===void 0||u[l+f]===void 0)&&B(l,u.length-(f+1))}function oe(u,l,f,y,_,L){if(u>f||u<l){const Z=typeof l=="bigint"?"n":"";let Ee;throw l===0||l===BigInt(0)?Ee=`>= 0${Z} and < 2${Z} ** ${(L+1)*8}${Z}`:Ee=`>= -(2${Z} ** ${(L+1)*8-1}${Z}) and < 2 ** ${(L+1)*8-1}${Z}`,new M.ERR_OUT_OF_RANGE("value",Ee,u)}ae(y,_,L)}function x(u,l){if(typeof u!="number")throw new M.ERR_INVALID_ARG_TYPE(l,"number",u)}function B(u,l,f){throw Math.floor(u)!==u?(x(u,f),new M.ERR_OUT_OF_RANGE("offset","an integer",u)):l<0?new M.ERR_BUFFER_OUT_OF_BOUNDS:new M.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,u)}const E=/[^+/0-9A-Za-z-_]/g;function O(u){if(u=u.split("=")[0],u=u.trim().replace(E,""),u.length<2)return"";for(;u.length%4!==0;)u=u+"=";return u}function k(u,l){l=l||1/0;let f;const y=u.length;let _=null;const L=[];for(let Z=0;Z<y;++Z){if(f=u.charCodeAt(Z),f>55295&&f<57344){if(!_){if(f>56319){(l-=3)>-1&&L.push(239,191,189);continue}else if(Z+1===y){(l-=3)>-1&&L.push(239,191,189);continue}_=f;continue}if(f<56320){(l-=3)>-1&&L.push(239,191,189),_=f;continue}f=(_-55296<<10|f-56320)+65536}else _&&(l-=3)>-1&&L.push(239,191,189);if(_=null,f<128){if((l-=1)<0)break;L.push(f)}else if(f<2048){if((l-=2)<0)break;L.push(f>>6|192,f&63|128)}else if(f<65536){if((l-=3)<0)break;L.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((l-=4)<0)break;L.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return L}function K(u){const l=[];for(let f=0;f<u.length;++f)l.push(u.charCodeAt(f)&255);return l}function Y(u,l){let f,y,_;const L=[];for(let Z=0;Z<u.length&&!((l-=2)<0);++Z)f=u.charCodeAt(Z),y=f>>8,_=f%256,L.push(_),L.push(y);return L}function C(u){return t.toByteArray(O(u))}function W(u,l,f,y){let _;for(_=0;_<y&&!(_+f>=l.length||_>=u.length);++_)l[_+f]=u[_];return _}function A(u,l){return u instanceof l||u!=null&&u.constructor!=null&&u.constructor.name!=null&&u.constructor.name===l.name}function j(u){return u!==u}const q=function(){const u="0123456789abcdef",l=new Array(256);for(let f=0;f<16;++f){const y=f*16;for(let _=0;_<16;++_)l[y+_]=u[f]+u[_]}return l}();function X(u){return typeof BigInt>"u"?p:u}function p(){throw new Error("BigInt not supported")}})(Uh);var Nh={};Object.defineProperty(Nh,"__esModule",{value:!0});var g0="#autolog{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;pointer-events:none;width:100vw;height:100vh;position:fixed;left:0;top:0;z-index:9999999;cursor:pointer;transition:.2s}#autolog>span{pointer-events:auto;width:max-content;animation:fadein .4s;animation-delay:0s;border-radius:6px;padding:10px 20px;box-shadow:0 0 10px 6px rgba(0,0,0,.1);margin:4px;transition:.2s;z-index:9999999;font-size:14px;display:flex;align-items:center;justify-content:center;gap:4px;height:max-content;overflow:hidden;background-color:#fafafa}#autolog>span>span{max-width:50vw}#autolog span.hide{opacity:0;pointer-events:none;transform:translateY(-10px);height:0;padding:0;margin:0}#autolog>.autolog-warn{background-color:#fffaec;color:#e29505}#autolog>.autolog-error{background-color:#fde7e7;color:#d93025}#autolog>.autolog-info{background-color:#e6f7ff;color:#0e6eb8}#autolog>.autolog-success{background-color:#e9f7e7;color:#1a9e2c}#autolog>.autolog-{background-color:#fafafa;color:#333}@keyframes fadein{0%{opacity:0;transform:translateY(-10px)}100%{opacity:1;transform:translateY(0)}}",dl={warn:'<svg t="1713405237257" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2387" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><path d="M934.4 770.133333L605.866667 181.333333C586.666667 147.2 550.4 128 512 128c-38.4 0-74.666667 21.333333-93.866667 53.333333L89.6 770.133333c-19.2 34.133333-19.2 76.8 0 110.933334S145.066667 938.666667 183.466667 938.666667h657.066666c38.4 0 74.666667-21.333333 93.866667-57.6 19.2-34.133333 19.2-76.8 0-110.933334z m-55.466667 81.066667c-8.533333 14.933333-23.466667 23.466667-38.4 23.466667H183.466667c-14.933333 0-29.866667-8.533333-38.4-23.466667-8.533333-14.933333-8.533333-34.133333 0-49.066667L473.6 213.333333c8.533333-12.8 23.466667-21.333333 38.4-21.333333s29.866667 8.533333 38.4 21.333333l328.533333 588.8c8.533333 14.933333 8.533333 32 0 49.066667z" fill="#e29505" p-id="2388"></path><path d="M512 746.666667m-42.666667 0a42.666667 42.666667 0 1 0 85.333334 0 42.666667 42.666667 0 1 0-85.333334 0Z" fill="#e29505" p-id="2389"></path><path d="M512 629.333333c17.066667 0 32-14.933333 32-32v-192c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v192c0 17.066667 14.933333 32 32 32z" fill="#e29505" p-id="2390"></path></svg>',error:'<svg t="1713405212725" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1744" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z" fill="#d93025" p-id="1745"></path><path d="M657.066667 360.533333c-12.8-12.8-32-12.8-44.8 0l-102.4 102.4-102.4-102.4c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8l102.4 102.4-102.4 102.4c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 14.933333 8.533333 23.466666 8.533334s17.066667-2.133333 23.466667-8.533334l102.4-102.4 102.4 102.4c6.4 6.4 14.933333 8.533333 23.466667 8.533334s17.066667-2.133333 23.466666-8.533334c12.8-12.8 12.8-32 0-44.8l-106.666666-100.266666 102.4-102.4c12.8-12.8 12.8-34.133333 0-46.933334z" fill="#d93025" p-id="1746"></path></svg>',info:'<svg t="1713405208589" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1582" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><path d="M853.333333 138.666667H170.666667c-40.533333 0-74.666667 34.133333-74.666667 74.666666v512c0 40.533333 34.133333 74.666667 74.666667 74.666667h151.466666V917.333333c0 12.8 8.533333 25.6 19.2 29.866667 4.266667 2.133333 8.533333 2.133333 12.8 2.133333 8.533333 0 17.066667-4.266667 23.466667-10.666666l136.533333-138.666667H853.333333c40.533333 0 74.666667-34.133333 74.666667-74.666667V213.333333c0-40.533333-34.133333-74.666667-74.666667-74.666666z m10.666667 586.666666c0 6.4-4.266667 10.666667-10.666667 10.666667H501.333333c-8.533333 0-17.066667 4.266667-23.466666 10.666667l-89.6 93.866666V768c0-17.066667-14.933333-32-32-32H170.666667c-6.4 0-10.666667-4.266667-10.666667-10.666667V213.333333c0-6.4 4.266667-10.666667 10.666667-10.666666h682.666666c6.4 0 10.666667 4.266667 10.666667 10.666666v512z" fill="#0e6eb8" p-id="1583"></path><path d="M512 490.666667H298.666667c-17.066667 0-32 14.933333-32 32S281.6 554.666667 298.666667 554.666667h213.333333c17.066667 0 32-14.933333 32-32S529.066667 490.666667 512 490.666667zM672 341.333333H298.666667c-17.066667 0-32 14.933333-32 32S281.6 405.333333 298.666667 405.333333h373.333333c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32z" fill="#0e6eb8" p-id="1584"></path></svg>',success:'<svg t="1713405224326" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2225" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z" fill="#1a9e2c" p-id="2226"></path><path d="M701.866667 381.866667L448 637.866667 322.133333 512c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8l149.333334 149.333333c6.4 6.4 14.933333 8.533333 23.466666 8.533334s17.066667-2.133333 23.466667-8.533334l277.333333-277.333333c12.8-12.8 12.8-32 0-44.8-14.933333-12.8-36.266667-12.8-49.066666-2.133333z" fill="#1a9e2c" p-id="2227"></path></svg>',x:'<svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><path d="M256 810.666667c-12.8 0-21.333333-4.266667-29.866667-12.8-17.066667-17.066667-17.066667-42.666667 0-59.733334l512-512c17.066667-17.066667 42.666667-17.066667 59.733334 0s17.066667 42.666667 0 59.733334l-512 512c-8.533333 8.533333-17.066667 12.8-29.866667 12.8zM768 810.666667c-12.8 0-21.333333-4.266667-29.866667-12.8l-512-512c-17.066667-17.066667-17.066667-42.666667 0-59.733334s42.666667-17.066667 59.733334 0l512 512c17.066667 17.066667 17.066667 42.666667 0 59.733334-8.533333 8.533333-17.066667 12.8-29.866667 12.8z" fill="#000000"/></svg>',"":""},m0={log:function(e,t,r,s){e===void 0&&(e=""),t===void 0&&(t=""),r===void 0&&(r=2500),s===void 0&&(s=!0),typeof t=="number"?(s=r,r=t,t=""):typeof t=="boolean"?(s=t,t="",r=2500):typeof r=="boolean"&&(s=r,r=2500),r+=900;var c=_0(),n=document.createElement("span");n.className="autolog-".concat(t.toString()),t.toString().startsWith("icon-")?n.innerHTML='<span class="iconfont '.concat(t.toString(),'"></span> <span>').concat(e.replace(/\n/g,"</br>"),"</span>"):n.innerHTML=dl[t]+"<span>".concat(e.replace(/\n/g,"</br>"),"</span>"),s||(n.innerHTML+=b0(t)),c.appendChild(n),s?(setTimeout(function(){n.classList.add("hide")},r-500),setTimeout(function(){c.removeChild(n),n=null},r)):n==null||n.addEventListener("click",function(){n.classList.add("hide"),setTimeout(function(){c.removeChild(n),n=null},500)})},create:function(e){return w0(e.svgIcons),{log:this.log.bind(this)}}},y0={warn:"#e29505",error:"#d93025",info:"#0e6eb8",success:"#1a9e2c"};function b0(e){var t=dl.x,r=t.replace('fill="#000000"','fill="'.concat(y0[e],'"'));return r}function w0(e){Object.assign(dl,e)}function _0(){var e=document.querySelector("#autolog");if(!e){e=document.createElement("div"),e.id="autolog",document.body.appendChild(e);var t=document.createElement("style");t.innerHTML=g0,document.head.insertBefore(t,document.head.firstChild)}return e}var Kr=Nh.default=m0;const pl=e=>(Of("data-v-6ebc9802"),e=e(),Pf(),e),v0={class:"ChatRoomBox"},E0={class:"header"},S0=pl(()=>Ye("span",null,"Emqx-Chat",-1)),A0=pl(()=>Ye("div",null,[Ye("a",{class:"iconfont icon-github",href:"https://github.com/LarryZhu-dev/emqx-chat",target:"_blank"})],-1)),I0={class:"messages"},x0={class:"messageItemHeader"},T0=pl(()=>Ye("span",null,"",-1)),C0={class:"messageItemContent"},B0=["src"],R0={class:"user-content"},k0={key:0,class:"imagePreview"},O0=["src"],P0={class:"inputArea"},M0="wss://broker.emqx.io:8084/mqtt",U0=_u({__name:"ChatRoom",setup(e){const t=Mn([]),r=Mn([]),s=Mn(""),c=Mn("");let i=new URLSearchParams(window.location.search).get("topic");i||(i="");const o={clean:!0,connectTimeout:4e3,clientId:d(),username:d(),password:d()},a=s0.connect(M0,o);a.on("connect",function(){console.log("Connected"),a.subscribe(i,function(R){R||(Kr.log("","success"),h())}),a.subscribe(`${i}/heartbeat`)}),a.on("error",function(){Kr.log("","error")}),a.on("reconnect",function(){Kr.log("...","info")}),a.on("close",function(){Kr.log("","info")}),a.on("message",function(R,F){let T;try{T=JSON.parse(F.toString())}catch{T=F.toString()}t.value.length>500&&t.value.splice(0,250),typeof T=="string"?r.value.includes(T)||(r.value.push(T),setTimeout(()=>{r.value=r.value.filter(I=>I!==T)},14e3)):t.value.push({...T}),gu(()=>{let I=document.querySelector(".messages");I.scrollTo({top:I.scrollHeight,behavior:"smooth"})})});function h(){a.publish(`${i}/heartbeat`,o.clientId),setInterval(()=>{a.publish(`${i}/heartbeat`,o.clientId)},15e3)}function d(){return"user-"+Math.random().toString(16).substr(2,8)}const g="#"+Math.floor(Math.random()*16777215).toString(16);function m(){let R={clientId:o.clientId,username:o.username,id:v(),text:c.value&&b(c.value)?c.value:s.value,randomColor:g},F=Uh.Buffer.from(JSON.stringify(R));a.publish(i,F),s.value&&(s.value=""),c.value&&(c.value="")}const b=R=>!!/^data:image\/(png|jpeg|gif|bmp|webp);base64,([A-Za-z0-9+/]+={0,2})$/.test(R),w=async R=>{if(R==null)return Kr.log("Please select an image","error",1e3);if(/\.(jpg|jpeg|png|GIF|JPG|PNG)$/.test(R.name)){const F=new FileReader;F.onload=async function(T){T.target.result;try{c.value=T.target.result}catch{throw new Error("Error")}},F.readAsDataURL(R)}else return Kr.log("Only images are allowed","error",1e3)};Qs(()=>{a.end()}),Su(()=>{window.addEventListener("paste",async R=>{let F=R.clipboardData&&R.clipboardData.items,T=null;if(F&&F.length){for(var I=0;I<F.length;I++)if(F[I].type.indexOf("image")!==-1){T=F[I].getAsFile();break}}await w(T)})});function v(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(R){var F=Math.random()*16|0,T=R=="x"?F:F&3|8;return T.toString(16)})}return(R,F)=>(ar(),qr("div",v0,[Ye("div",E0,[Ye("div",null,[S0,Ye("span",null,"Topic: "+cn(fu(i)),1),Ye("span",null,cn(`${r.value.length}`),1)]),A0]),Ye("div",I0,[(ar(!0),qr(Ct,null,Yf(t.value,T=>(ar(),qr("div",{class:"message",key:T.id},[Ye("div",x0,[Ye("span",{class:"username",style:fi({color:T.randomColor})},cn(T.username),5),T0]),Ye("div",C0,[b(T.text)?(ar(),qr("img",{key:0,src:T.text,alt:"Image",class:"msg-img"},null,8,B0)):(ar(),qr(Ct,{key:1},[Hu(cn(T.text),1)],64))])]))),128))]),Ye("div",R0,[b(c.value)?(ar(),qr("div",k0,[Ye("img",{src:c.value,alt:"Image Preview"},null,8,O0)])):kd("",!0),Ye("div",P0,[Uf(Ye("input",{type:"text","onUpdate:modelValue":F[0]||(F[0]=T=>s.value=T),onKeyup:fp(m,["enter"])},null,544),[[cp,s.value]]),Ye("button",{onClick:m},"Send")])])]))}}),jh=(e,t)=>{const r=e.__vccOpts||e;for(const[s,c]of t)r[s]=c;return r},L0=jh(U0,[["__scopeId","data-v-6ebc9802"]]),N0=_u({__name:"App",setup(e){return(t,r)=>(ar(),Wu(L0,{msg:"Vite + Vue"}))}}),j0=jh(N0,[["__scopeId","data-v-5c3791ae"]]);gp(j0).mount("#app");
